{
  "version": 3,
  "sources": ["../../../../../apps/frappe/node_modules/sortablejs/Sortable.min.js", "../../../../../apps/frappe/node_modules/frappe-datatable/dist/frappe-datatable.cjs.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/erpnext_oob.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/widget_dialog.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/base_widget.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/onboarding_widget.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/widgets/onboarding_widget.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/number_card_widget.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/widgets/number_card_widget.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/chart_widget.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/widgets/chart_widget.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/ui/page.js", "../../../../../apps/frappe/frappe/public/js/frappe/ui/toolbar/fuzzy_match.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/ui/search_utils.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/controls/link.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/controls/select.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/controls/date_range.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/controls/table.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/formatters.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/lib/datatable/datatable.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/lib/gantt/gantt.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/controllers/stock_controller.js"],
  "sourcesContent": ["/*! Sortable 1.15.0 - MIT | git://github.com/SortableJS/Sortable.git */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){\"use strict\";function e(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function M(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function o(t){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function i(t,e){if(null==t)return{};var n,o=function(t,e){if(null==t)return{};for(var n,o={},i=Object.keys(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n]);return o}function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function t(t){if(\"undefined\"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var y=t(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i),w=t(/Edge/i),s=t(/firefox/i),u=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),c=t(/chrome/i)&&t(/android/i),d={capture:!1,passive:!1};function h(t,e,n){t.addEventListener(e,n,!y&&d)}function f(t,e,n){t.removeEventListener(e,n,!y&&d)}function p(t,e){if(e&&(\">\"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function N(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(\">\"!==e[0]||t.parentNode===n)&&p(t,e)||o&&t===n)return t}while(t!==n&&(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode))}var i;return null}var g,m=/\\s+/g;function I(t,e,n){var o;t&&e&&(t.classList?t.classList[n?\"add\":\"remove\"](e):(o=(\" \"+t.className+\" \").replace(m,\" \").replace(\" \"+e+\" \",\" \"),t.className=(o+(n?\" \"+e:\"\")).replace(m,\" \")))}function P(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,\"\"):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];o[e=!(e in o||-1!==e.indexOf(\"webkit\"))?\"-webkit-\"+e:e]=n+(\"string\"==typeof n?\"\":\"px\")}}function v(t,e){var n=\"\";if(\"string\"==typeof t)n=t;else do{var o=P(t,\"transform\")}while(o&&\"none\"!==o&&(n=o+\" \"+n),!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function b(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function O(){var t=document.scrollingElement;return t||document.documentElement}function k(t,e,n,o,i){if(t.getBoundingClientRect||t===window){var r,a,l,s,c,u,d=t!==window&&t.parentNode&&t!==O()?(a=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,r.width):(l=a=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(i=i||t.parentNode,!y))do{if(i&&i.getBoundingClientRect&&(\"none\"!==P(i,\"transform\")||n&&\"static\"!==P(i,\"position\"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(P(i,\"border-top-width\")),l-=h.left+parseInt(P(i,\"border-left-width\")),s=a+r.height,c=l+r.width;break}}while(i=i.parentNode);return o&&t!==window&&(o=(e=v(i||t))&&e.a,t=e&&e.d,e&&(s=(a/=t)+(u/=t),c=(l/=o)+(d/=o))),{top:a,left:l,bottom:s,right:c,width:d,height:u}}}function R(t,e,n){for(var o=A(t,!0),i=k(t)[e];o;){var r=k(o)[n];if(!(\"top\"===n||\"left\"===n?r<=i:i<=r))return o;if(o===O())break;o=A(o,!1)}return!1}function X(t,e,n,o){for(var i=0,r=0,a=t.children;r<a.length;){if(\"none\"!==a[r].style.display&&a[r]!==Bt.ghost&&(o||a[r]!==Bt.dragged)&&N(a[r],n.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function Y(t,e){for(var n=t.lastElementChild;n&&(n===Bt.ghost||\"none\"===P(n,\"display\")||e&&!p(n,e));)n=n.previousElementSibling;return n||null}function B(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)\"TEMPLATE\"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!p(t,e)||n++;return n}function E(t){var e=0,n=0,o=O();if(t)do{var i=v(t),r=i.a,i=i.d}while(e+=t.scrollLeft*r,n+=t.scrollTop*i,t!==o&&(t=t.parentNode));return[e,n]}function A(t,e){if(!t||!t.getBoundingClientRect)return O();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=P(n);if(n.clientWidth<n.scrollWidth&&(\"auto\"==i.overflowX||\"scroll\"==i.overflowX)||n.clientHeight<n.scrollHeight&&(\"auto\"==i.overflowY||\"scroll\"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(o||e)return n;o=!0}}}while(n=n.parentNode);return O()}function D(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function S(e,n){return function(){var t;g||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),g=setTimeout(function(){g=void 0},n))}}function F(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function _(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function C(t,e){P(t,\"position\",\"absolute\"),P(t,\"top\",e.top),P(t,\"left\",e.left),P(t,\"width\",e.width),P(t,\"height\",e.height)}function T(t){P(t,\"position\",\"\"),P(t,\"top\",\"\"),P(t,\"left\",\"\"),P(t,\"width\",\"\"),P(t,\"height\",\"\")}var j=\"Sortable\"+(new Date).getTime();function x(){var e,o=[];return{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,n;\"none\"!==P(t,\"display\")&&t!==Bt.ghost&&(o.push({target:t,rect:k(t)}),e=M({},o[o.length-1].rect),!t.thisAnimationDuration||(n=v(t,!0))&&(e.top-=n.f,e.left-=n.e),t.fromRect=e)})},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(o,{target:t}),1)},animateAll:function(t){var c=this;if(!this.options.animation)return clearTimeout(e),void(\"function\"==typeof t&&t());var u=!1,d=0;o.forEach(function(t){var e=0,n=t.target,o=n.fromRect,i=k(n),r=n.prevFromRect,a=n.prevToRect,l=t.rect,s=v(n,!0);s&&(i.top-=s.f,i.left-=s.e),n.toRect=i,n.thisAnimationDuration&&D(r,i)&&!D(o,i)&&(l.top-i.top)/(l.left-i.left)==(o.top-i.top)/(o.left-i.left)&&(t=l,s=r,r=a,a=c.options,e=Math.sqrt(Math.pow(s.top-t.top,2)+Math.pow(s.left-t.left,2))/Math.sqrt(Math.pow(s.top-r.top,2)+Math.pow(s.left-r.left,2))*a.animation),D(i,o)||(n.prevFromRect=o,n.prevToRect=i,e=e||c.options.animation,c.animate(n,l,i,e)),e&&(u=!0,d=Math.max(d,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(e),u?e=setTimeout(function(){\"function\"==typeof t&&t()},d):\"function\"==typeof t&&t(),o=[]},animate:function(t,e,n,o){var i,r;o&&(P(t,\"transition\",\"\"),P(t,\"transform\",\"\"),i=(r=v(this.el))&&r.a,r=r&&r.d,i=(e.left-n.left)/(i||1),r=(e.top-n.top)/(r||1),t.animatingX=!!i,t.animatingY=!!r,P(t,\"transform\",\"translate3d(\"+i+\"px,\"+r+\"px,0)\"),this.forRepaintDummy=t.offsetWidth,P(t,\"transition\",\"transform \"+o+\"ms\"+(this.options.easing?\" \"+this.options.easing:\"\")),P(t,\"transform\",\"translate3d(0,0,0)\"),\"number\"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){P(t,\"transition\",\"\"),P(t,\"transform\",\"\"),t.animated=!1,t.animatingX=!1,t.animatingY=!1},o))}}}var H=[],L={initializeByDefault:!0},K={mount:function(e){for(var t in L)!L.hasOwnProperty(t)||t in e||(e[t]=L[t]);H.forEach(function(t){if(t.pluginName===e.pluginName)throw\"Sortable: Cannot mount plugin \".concat(e.pluginName,\" more than once\")}),H.push(e)},pluginEvent:function(e,n,o){var t=this;this.eventCanceled=!1,o.cancel=function(){t.eventCanceled=!0};var i=e+\"Global\";H.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][i]&&n[t.pluginName][i](M({sortable:n},o)),n.options[t.pluginName]&&n[t.pluginName][e]&&n[t.pluginName][e](M({sortable:n},o)))})},initializePlugins:function(n,o,i,t){for(var e in H.forEach(function(t){var e=t.pluginName;(n.options[e]||t.initializeByDefault)&&((t=new t(n,o,n.options)).sortable=n,t.options=n.options,n[e]=t,a(i,t.defaults))}),n.options){var r;n.options.hasOwnProperty(e)&&(void 0!==(r=this.modifyOption(n,e,n.options[e]))&&(n.options[e]=r))}},getEventProperties:function(e,n){var o={};return H.forEach(function(t){\"function\"==typeof t.eventProperties&&a(o,t.eventProperties.call(n[t.pluginName],e))}),o},modifyOption:function(e,n,o){var i;return H.forEach(function(t){e[t.pluginName]&&t.optionListeners&&\"function\"==typeof t.optionListeners[n]&&(i=t.optionListeners[n].call(e[t.pluginName],o))}),i}};function W(t){var e=t.sortable,n=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[j]){var g,m=e.options,t=\"on\"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||y||w?(g=document.createEvent(\"Event\")).initEvent(o,!0,!0):g=new CustomEvent(o,{bubbles:!0,cancelable:!0}),g.to=a||n,g.from=l||n,g.item=i||n,g.clone=r,g.oldIndex=s,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var v,b=M(M({},p),K.getEventProperties(o,e));for(v in b)g[v]=b[v];n&&n.dispatchEvent(g),m[t]&&m[t].call(e,g)}}function z(t,e){var n=(o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,o=i(o,G);K.pluginEvent.bind(Bt)(t,e,M({dragEl:q,parentEl:V,ghostEl:Z,rootEl:$,nextEl:Q,lastDownEl:J,cloneEl:tt,cloneHidden:et,dragStarted:pt,putSortable:lt,activeSortable:Bt.active,originalEvent:n,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt,hideGhostForTarget:kt,unhideGhostForTarget:Rt,cloneNowHidden:function(){et=!0},cloneNowShown:function(){et=!1},dispatchSortableEvent:function(t){U({sortable:e,name:t,originalEvent:n})}},o))}var G=[\"evt\"];function U(t){W(M({putSortable:lt,cloneEl:tt,targetEl:q,rootEl:$,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt},t))}var q,V,Z,$,Q,J,tt,et,nt,ot,it,rt,at,lt,st,ct,ut,dt,ht,ft,pt,gt,mt,vt,bt,yt=!1,wt=!1,Et=[],Dt=!1,St=!1,_t=[],Ct=!1,Tt=[],xt=\"undefined\"!=typeof document,Ot=n,At=w||y?\"cssFloat\":\"float\",Mt=xt&&!c&&!n&&\"draggable\"in document.createElement(\"div\"),Nt=function(){if(xt){if(y)return!1;var t=document.createElement(\"x\");return t.style.cssText=\"pointer-events:auto\",\"auto\"===t.style.pointerEvents}}(),It=function(t,e){var n=P(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=X(t,0,e),r=X(t,1,e),a=i&&P(i),l=r&&P(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+k(i).width,t=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+k(r).width;if(\"flex\"===n.display)return\"column\"===n.flexDirection||\"column-reverse\"===n.flexDirection?\"vertical\":\"horizontal\";if(\"grid\"===n.display)return n.gridTemplateColumns.split(\" \").length<=1?\"vertical\":\"horizontal\";if(i&&a.float&&\"none\"!==a.float){e=\"left\"===a.float?\"left\":\"right\";return!r||\"both\"!==l.clear&&l.clear!==e?\"horizontal\":\"vertical\"}return i&&(\"block\"===a.display||\"flex\"===a.display||\"table\"===a.display||\"grid\"===a.display||o<=s&&\"none\"===n[At]||r&&\"none\"===n[At]&&o<s+t)?\"vertical\":\"horizontal\"},Pt=function(t){function l(r,a){return function(t,e,n,o){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==r&&(a||i))return!0;if(null==r||!1===r)return!1;if(a&&\"clone\"===r)return r;if(\"function\"==typeof r)return l(r(t,e,n,o),a)(t,e,n,o);e=(a?t:e).options.group.name;return!0===r||\"string\"==typeof r&&r===e||r.join&&-1<r.indexOf(e)}}var e={},n=t.group;n&&\"object\"==o(n)||(n={name:n}),e.name=n.name,e.checkPull=l(n.pull,!0),e.checkPut=l(n.put),e.revertClone=n.revertClone,t.group=e},kt=function(){!Nt&&Z&&P(Z,\"display\",\"none\")},Rt=function(){!Nt&&Z&&P(Z,\"display\",\"\")};xt&&!c&&document.addEventListener(\"click\",function(t){if(wt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),wt=!1},!0);function Xt(t){if(q){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,r=t.clientY,Et.some(function(t){var e=t[j].options.emptyInsertThreshold;if(e&&!Y(t)){var n=k(t),o=i>=n.left-e&&i<=n.right+e,e=r>=n.top-e&&r<=n.bottom+e;return o&&e?a=t:void 0}}),a);if(e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[j]._onDragOver(o)}}var i,r,a}function Yt(t){q&&q.parentNode[j]._isOutsideThisEl(t.target)}function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw\"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(t));this.el=t,this.options=e=a({},e),t[j]=this;var n,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?\">li\":\">*\",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return It(t,this.options)},ghostClass:\"sortable-ghost\",chosenClass:\"sortable-chosen\",dragClass:\"sortable-drag\",ignore:\"a, img\",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData(\"Text\",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:\"data-id\",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:\"sortable-fallback\",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&\"PointerEvent\"in window&&!u,emptyInsertThreshold:5};for(n in K.initializePlugins(this,t,i),i)n in e||(e[n]=i[n]);for(o in Pt(e),this)\"_\"===o.charAt(0)&&\"function\"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Mt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?h(t,\"pointerdown\",this._onTapStart):(h(t,\"mousedown\",this._onTapStart),h(t,\"touchstart\",this._onTapStart)),this.nativeDraggable&&(h(t,\"dragover\",this),h(t,\"dragenter\",this)),Et.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),a(this,x())}function Ft(t,e,n,o,i,r,a,l){var s,c,u=t[j],d=u.options.onMove;return!window.CustomEvent||y||w?(s=document.createEvent(\"Event\")).initEvent(\"move\",!0,!0):s=new CustomEvent(\"move\",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||k(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=d?d.call(u,s,a):c}function jt(t){t.draggable=!1}function Ht(){Ct=!1}function Lt(t){return setTimeout(t,0)}function Kt(t){return clearTimeout(t)}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null)},_getDirection:function(t,e){return\"function\"==typeof this.options.direction?this.options.direction.call(this,t,e,q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,t=this.options,i=t.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&\"touch\"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=t.filter;if(!function(t){Tt.length=0;var e=t.getElementsByTagName(\"input\"),n=e.length;for(;n--;){var o=e[n];o.checked&&Tt.push(o)}}(o),!q&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!u||!l||\"SELECT\"!==l.tagName.toUpperCase())&&!((l=N(l,t.draggable,o,!1))&&l.animated||J===l)){if(nt=B(l),it=B(l,t.draggable),\"function\"==typeof c){if(c.call(this,e,l,this))return U({sortable:n,rootEl:s,name:\"filter\",targetEl:l,toEl:o,fromEl:o}),z(\"filter\",n,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c=c&&c.split(\",\").some(function(t){if(t=N(s,t.trim(),o,!1))return U({sortable:n,rootEl:t,name:\"filter\",targetEl:l,fromEl:o,toEl:o}),z(\"filter\",n,{evt:e}),!0}))return void(i&&e.cancelable&&e.preventDefault());t.handle&&!N(s,t.handle,o,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(t,e,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;n&&!q&&n.parentNode===r&&(o=k(n),$=r,V=(q=n).parentNode,Q=q.nextSibling,J=n,at=a.group,st={target:Bt.dragged=q,clientX:(e||t).clientX,clientY:(e||t).clientY},ht=st.clientX-o.left,ft=st.clientY-o.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,q.style[\"will-change\"]=\"all\",o=function(){z(\"delayEnded\",i,{evt:t}),Bt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!s&&i.nativeDraggable&&(q.draggable=!0),i._triggerDragStart(t,e),U({sortable:i,name:\"choose\",originalEvent:t}),I(q,a.chosenClass,!0))},a.ignore.split(\",\").forEach(function(t){b(q,t.trim(),jt)}),h(l,\"dragover\",Xt),h(l,\"mousemove\",Xt),h(l,\"touchmove\",Xt),h(l,\"mouseup\",i._onDrop),h(l,\"touchend\",i._onDrop),h(l,\"touchcancel\",i._onDrop),s&&this.nativeDraggable&&(this.options.touchStartThreshold=4,q.draggable=!0),z(\"delayStart\",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(w||y)?o():Bt.eventCanceled?this._onDrop():(h(l,\"mouseup\",i._disableDelayedDrag),h(l,\"touchend\",i._disableDelayedDrag),h(l,\"touchcancel\",i._disableDelayedDrag),h(l,\"mousemove\",i._delayedDragTouchMoveHandler),h(l,\"touchmove\",i._delayedDragTouchMoveHandler),a.supportPointer&&h(l,\"pointermove\",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){q&&jt(q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;f(t,\"mouseup\",this._disableDelayedDrag),f(t,\"touchend\",this._disableDelayedDrag),f(t,\"touchcancel\",this._disableDelayedDrag),f(t,\"mousemove\",this._delayedDragTouchMoveHandler),f(t,\"touchmove\",this._delayedDragTouchMoveHandler),f(t,\"pointermove\",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||\"touch\"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?h(document,\"pointermove\",this._onTouchMove):h(document,e?\"touchmove\":\"mousemove\",this._onTouchMove):(h(q,\"dragend\",this),h($,\"dragstart\",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var n;yt=!1,$&&q?(z(\"dragStarted\",this,{evt:e}),this.nativeDraggable&&h(document,\"dragover\",Yt),n=this.options,t||I(q,n.dragClass,!1),I(q,n.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),U({sortable:this,name:\"start\",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(ct){this._lastX=ct.clientX,this._lastY=ct.clientY,kt();for(var t=document.elementFromPoint(ct.clientX,ct.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ct.clientX,ct.clientY))!==e;)e=t;if(q.parentNode[j]._isOutsideThisEl(t),e)do{if(e[j])if(e[j]._onDragOver({clientX:ct.clientX,clientY:ct.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}while(e=(t=e).parentNode);Rt()}},_onTouchMove:function(t){if(st){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=Z&&v(Z,!0),a=Z&&r&&r.a,l=Z&&r&&r.d,e=Ot&&bt&&E(bt),a=(i.clientX-st.clientX+o.x)/(a||1)+(e?e[0]-_t[0]:0)/(a||1),l=(i.clientY-st.clientY+o.y)/(l||1)+(e?e[1]-_t[1]:0)/(l||1);if(!Bt.active&&!yt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}Z&&(r?(r.e+=a-(ut||0),r.f+=l-(dt||0)):r={a:1,b:0,c:0,d:1,e:a,f:l},r=\"matrix(\".concat(r.a,\",\").concat(r.b,\",\").concat(r.c,\",\").concat(r.d,\",\").concat(r.e,\",\").concat(r.f,\")\"),P(Z,\"webkitTransform\",r),P(Z,\"mozTransform\",r),P(Z,\"msTransform\",r),P(Z,\"transform\",r),ut=a,dt=l,ct=i),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Z){var t=this.options.fallbackOnBody?document.body:$,e=k(q,!0,Ot,!0,t),n=this.options;if(Ot){for(bt=t;\"static\"===P(bt,\"position\")&&\"none\"===P(bt,\"transform\")&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=O()),e.top+=bt.scrollTop,e.left+=bt.scrollLeft):bt=O(),_t=E(bt)}I(Z=q.cloneNode(!0),n.ghostClass,!1),I(Z,n.fallbackClass,!0),I(Z,n.dragClass,!0),P(Z,\"transition\",\"\"),P(Z,\"transform\",\"\"),P(Z,\"box-sizing\",\"border-box\"),P(Z,\"margin\",0),P(Z,\"top\",e.top),P(Z,\"left\",e.left),P(Z,\"width\",e.width),P(Z,\"height\",e.height),P(Z,\"opacity\",\"0.8\"),P(Z,\"position\",Ot?\"absolute\":\"fixed\"),P(Z,\"zIndex\",\"100000\"),P(Z,\"pointerEvents\",\"none\"),Bt.ghost=Z,t.appendChild(Z),P(Z,\"transform-origin\",ht/parseInt(Z.style.width)*100+\"% \"+ft/parseInt(Z.style.height)*100+\"%\")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;z(\"dragStart\",this,{evt:t}),Bt.eventCanceled?this._onDrop():(z(\"setupClone\",this),Bt.eventCanceled||((tt=_(q)).removeAttribute(\"id\"),tt.draggable=!1,tt.style[\"will-change\"]=\"\",this._hideClone(),I(tt,this.options.chosenClass,!1),Bt.clone=tt),n.cloneId=Lt(function(){z(\"clone\",n),Bt.eventCanceled||(n.options.removeCloneOnHide||$.insertBefore(tt,q),n._hideClone(),U({sortable:n,name:\"clone\"}))}),e||I(q,i.dragClass,!0),e?(wt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(f(document,\"mouseup\",n._onDrop),f(document,\"touchend\",n._onDrop),f(document,\"touchcancel\",n._onDrop),o&&(o.effectAllowed=\"move\",i.setData&&i.setData.call(n,o,q)),h(document,\"drop\",n),P(q,\"transform\",\"translateZ(0)\")),yt=!0,n._dragStartId=Lt(n._dragStarted.bind(n,e,t)),h(document,\"selectstart\",n),pt=!0,u&&P(document.body,\"user-select\",\"none\"))},_onDragOver:function(n){var o,i,r,t,a=this.el,l=n.target,e=this.options,s=e.group,c=Bt.active,u=at===s,d=e.sort,h=lt||c,f=this,p=!1;if(!Ct){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),l=N(l,e.draggable,a,!0),T(\"dragOver\"),Bt.eventCanceled)return p;if(q.contains(n.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return O(!1);if(wt=!1,c&&!e.disabled&&(u?d||(i=V!==$):lt===this||(this.lastPutMode=at.checkPull(this,c,q,n))&&s.checkPut(this,c,q,n))){if(r=\"vertical\"===this._getDirection(n,l),o=k(q),T(\"dragOverValid\"),Bt.eventCanceled)return p;if(i)return V=$,x(),this._hideClone(),T(\"revert\"),Bt.eventCanceled||(Q?$.insertBefore(q,Q):$.appendChild(q)),O(!0);var g=Y(a,e.draggable);if(!g||function(t,e,n){n=k(Y(n.el,n.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(n,r,this)&&!g.animated){if(g===q)return O(!1);if((l=g&&a===n.target?g:l)&&(w=k(l)),!1!==Ft($,a,q,o,l,w,n,!!l))return x(),g&&g.nextSibling?a.insertBefore(q,g.nextSibling):a.appendChild(q),V=a,A(),O(!0)}else if(g&&function(t,e,n){n=k(X(n.el,0,n.options,!0));return e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left}(n,r,this)){var m=X(a,0,e,!0);if(m===q)return O(!1);if(w=k(l=m),!1!==Ft($,a,q,o,l,w,n,!1))return x(),a.insertBefore(q,m),V=a,A(),O(!0)}else if(l.parentNode===a){var v,b,y,w=k(l),E=q.parentNode!==a,D=(D=q.animated&&q.toRect||o,C=l.animated&&l.toRect||w,S=(t=r)?D.left:D.top,s=t?D.right:D.bottom,g=t?D.width:D.height,m=t?C.left:C.top,D=t?C.right:C.bottom,C=t?C.width:C.height,!(S===m||s===D||S+g/2===m+C/2)),S=r?\"top\":\"left\",g=R(l,\"top\",\"top\")||R(q,\"top\",\"top\"),m=g?g.scrollTop:void 0;if(gt!==l&&(b=w[S],Dt=!1,St=!D&&e.invertSwap||E),0!==(v=function(t,e,n,o,i,r,a,l){var s=o?t.clientY:t.clientX,c=o?n.height:n.width,t=o?n.top:n.left,o=o?n.bottom:n.right,n=!1;if(!a)if(l&&vt<c*i){if(Dt=!Dt&&(1===mt?t+c*r/2<s:s<o-c*r/2)?!0:Dt)n=!0;else if(1===mt?s<t+vt:o-vt<s)return-mt}else if(t+c*(1-i)/2<s&&s<o-c*(1-i)/2)return function(t){return B(q)<B(t)?1:-1}(e);if((n=n||a)&&(s<t+c*r/2||o-c*r/2<s))return t+c/2<s?1:-1;return 0}(n,l,w,r,D?1:e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,St,gt===l)))for(var _=B(q);(y=V.children[_-=v])&&(\"none\"===P(y,\"display\")||y===Z););if(0===v||y===l)return O(!1);mt=v;var C=(gt=l).nextElementSibling,E=!1,D=Ft($,a,q,o,l,w,n,E=1===v);if(!1!==D)return 1!==D&&-1!==D||(E=1===D),Ct=!0,setTimeout(Ht,30),x(),E&&!C?a.appendChild(q):l.parentNode.insertBefore(q,E?C:l),g&&F(g,0,m-g.scrollTop),V=q.parentNode,void 0===b||St||(vt=Math.abs(b-k(l)[S])),A(),O(!0)}if(a.contains(q))return O(!1)}return!1}function T(t,e){z(t,f,M({evt:n,isOwner:u,axis:r?\"vertical\":\"horizontal\",revert:i,dragRect:o,targetRect:w,canSort:d,fromSortable:h,target:l,completed:O,onMove:function(t,e){return Ft($,a,q,o,t,k(t),n,e)},changed:A},e))}function x(){T(\"dragOverAnimationCapture\"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function O(t){return T(\"dragOverCompleted\",{insertion:t}),t&&(u?c._hideClone():c._showClone(f),f!==h&&(I(q,(lt||c).options.ghostClass,!1),I(q,e.ghostClass,!0)),lt!==f&&f!==Bt.active?lt=f:f===Bt.active&&lt&&(lt=null),h===f&&(f._ignoreWhileAnimating=l),f.animateAll(function(){T(\"dragOverAnimationComplete\"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(l===q&&!q.animated||l===a&&!l.animated)&&(gt=null),e.dragoverBubble||n.rootEl||l===document||(q.parentNode[j]._isOutsideThisEl(n.target),t||Xt(n)),!e.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),p=!0}function A(){ot=B(q),rt=B(q,e.draggable),U({sortable:f,name:\"change\",toEl:a,newIndex:ot,newDraggableIndex:rt,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,\"mousemove\",this._onTouchMove),f(document,\"touchmove\",this._onTouchMove),f(document,\"pointermove\",this._onTouchMove),f(document,\"dragover\",Xt),f(document,\"mousemove\",Xt),f(document,\"touchmove\",Xt)},_offUpEvents:function(){var t=this.el.ownerDocument;f(t,\"mouseup\",this._onDrop),f(t,\"touchend\",this._onDrop),f(t,\"pointerup\",this._onDrop),f(t,\"touchcancel\",this._onDrop),f(document,\"selectstart\",this)},_onDrop:function(t){var e=this.el,n=this.options;ot=B(q),rt=B(q,n.draggable),z(\"drop\",this,{evt:t}),V=q&&q.parentNode,ot=B(q),rt=B(q,n.draggable),Bt.eventCanceled||(Dt=St=yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kt(this.cloneId),Kt(this._dragStartId),this.nativeDraggable&&(f(document,\"drop\",this),f(e,\"dragstart\",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&P(document.body,\"user-select\",\"\"),P(q,\"transform\",\"\"),t&&(pt&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),($===V||lt&&\"clone\"!==lt.lastPutMode)&&tt&&tt.parentNode&&tt.parentNode.removeChild(tt),q&&(this.nativeDraggable&&f(q,\"dragend\",this),jt(q),q.style[\"will-change\"]=\"\",pt&&!yt&&I(q,(lt||this).options.ghostClass,!1),I(q,this.options.chosenClass,!1),U({sortable:this,name:\"unchoose\",toEl:V,newIndex:null,newDraggableIndex:null,originalEvent:t}),$!==V?(0<=ot&&(U({rootEl:V,name:\"add\",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:\"remove\",toEl:V,originalEvent:t}),U({rootEl:V,name:\"sort\",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:\"sort\",toEl:V,originalEvent:t})),lt&&lt.save()):ot!==nt&&0<=ot&&(U({sortable:this,name:\"update\",toEl:V,originalEvent:t}),U({sortable:this,name:\"sort\",toEl:V,originalEvent:t})),Bt.active&&(null!=ot&&-1!==ot||(ot=nt,rt=it),U({sortable:this,name:\"end\",toEl:V,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){z(\"nulling\",this),$=q=V=Z=Q=tt=J=et=st=ct=pt=ot=rt=nt=it=gt=mt=lt=at=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,Tt.forEach(function(t){t.checked=!0}),Tt.length=ut=dt=0},handleEvent:function(t){switch(t.type){case\"drop\":case\"dragend\":this._onDrop(t);break;case\"dragenter\":case\"dragover\":q&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect=\"move\");t.cancelable&&t.preventDefault()}(t));break;case\"selectstart\":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)N(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;for(;n--;)o+=e.charCodeAt(n);return o.toString(36)}(t));return e},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(t,e){e=o.children[e];N(e,this.options.draggable,o,!1)&&(n[t]=e)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return N(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=K.modifyOption(this,t,e);n[t]=void 0!==o?o:e,\"group\"===t&&Pt(n)},destroy:function(){z(\"destroy\",this);var t=this.el;t[j]=null,f(t,\"mousedown\",this._onTapStart),f(t,\"touchstart\",this._onTapStart),f(t,\"pointerdown\",this._onTapStart),this.nativeDraggable&&(f(t,\"dragover\",this),f(t,\"dragenter\",this)),Array.prototype.forEach.call(t.querySelectorAll(\"[draggable]\"),function(t){t.removeAttribute(\"draggable\")}),this._onDrop(),this._disableDelayedDragEvents(),Et.splice(Et.indexOf(this.el),1),this.el=t=null},_hideClone:function(){et||(z(\"hideClone\",this),Bt.eventCanceled||(P(tt,\"display\",\"none\"),this.options.removeCloneOnHide&&tt.parentNode&&tt.parentNode.removeChild(tt),et=!0))},_showClone:function(t){\"clone\"===t.lastPutMode?et&&(z(\"showClone\",this),Bt.eventCanceled||(q.parentNode!=$||this.options.group.revertClone?Q?$.insertBefore(tt,Q):$.appendChild(tt):$.insertBefore(tt,q),this.options.group.revertClone&&this.animate(q,tt),P(tt,\"display\",\"\"),et=!1)):this._hideClone()}},xt&&h(document,\"touchmove\",function(t){(Bt.active||yt)&&t.cancelable&&t.preventDefault()}),Bt.utils={on:h,off:f,css:P,find:b,is:function(t,e){return!!N(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:S,closest:N,toggleClass:I,clone:_,index:B,nextTick:Lt,cancelNextTick:Kt,detectDirection:It,getChild:X},Bt.get=function(t){return t[j]},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw\"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(t));t.utils&&(Bt.utils=M(M({},Bt.utils),t.utils)),K.mount(t)})},Bt.create=function(t,e){return new Bt(t,e)};var Wt,zt,Gt,Ut,qt,Vt,Zt=[],$t=!(Bt.version=\"1.15.0\");function Qt(){Zt.forEach(function(t){clearInterval(t.pid)}),Zt=[]}function Jt(){clearInterval(Vt)}var te,ee=S(function(n,t,e,o){if(t.scroll){var i,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=O(),u=!1;zt!==e&&(zt=e,Qt(),Wt=t.scroll,i=t.scrollFn,!0===Wt&&(Wt=A(e,!0)));var d=0,h=Wt;do{var f=h,p=k(f),g=p.top,m=p.bottom,v=p.left,b=p.right,y=p.width,w=p.height,E=void 0,D=void 0,S=f.scrollWidth,_=f.scrollHeight,C=P(f),T=f.scrollLeft,p=f.scrollTop,D=f===c?(E=y<S&&(\"auto\"===C.overflowX||\"scroll\"===C.overflowX||\"visible\"===C.overflowX),w<_&&(\"auto\"===C.overflowY||\"scroll\"===C.overflowY||\"visible\"===C.overflowY)):(E=y<S&&(\"auto\"===C.overflowX||\"scroll\"===C.overflowX),w<_&&(\"auto\"===C.overflowY||\"scroll\"===C.overflowY)),T=E&&(Math.abs(b-r)<=l&&T+y<S)-(Math.abs(v-r)<=l&&!!T),p=D&&(Math.abs(m-a)<=l&&p+w<_)-(Math.abs(g-a)<=l&&!!p);if(!Zt[d])for(var x=0;x<=d;x++)Zt[x]||(Zt[x]={});Zt[d].vx==T&&Zt[d].vy==p&&Zt[d].el===f||(Zt[d].el=f,Zt[d].vx=T,Zt[d].vy=p,clearInterval(Zt[d].pid),0==T&&0==p||(u=!0,Zt[d].pid=setInterval(function(){o&&0===this.layer&&Bt.active._onTouchMove(qt);var t=Zt[this.layer].vy?Zt[this.layer].vy*s:0,e=Zt[this.layer].vx?Zt[this.layer].vx*s:0;\"function\"==typeof i&&\"continue\"!==i.call(Bt.dragged.parentNode[j],e,t,n,qt,Zt[this.layer].el)||F(Zt[this.layer].el,e,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=A(h,!1)));$t=u}},30),c=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(i=n||i,a(),e=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(e.clientX,e.clientY),t(),i&&!i.el.contains(e)&&(r(\"spill\"),this.onSpill({dragEl:o,putSortable:n})))};function ne(){}function oe(){}ne.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex;this.startIndex=t},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();t=X(this.sortable.el,this.startIndex,this.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:c},a(ne,{pluginName:\"revertOnSpill\"}),oe.prototype={onSpill:function(t){var e=t.dragEl,t=t.putSortable||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:c},a(oe,{pluginName:\"removeOnSpill\"});var ie,re,ae,le,se,ce=[],ue=[],de=!1,he=!1,fe=!1;function pe(n,o){ue.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)})}function ge(){ce.forEach(function(t){t!==ae&&t.parentNode&&t.parentNode.removeChild(t)})}return Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)\"_\"===t.charAt(0)&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent;this.sortable.nativeDraggable?h(document,\"dragover\",this._handleAutoScroll):this.options.supportPointer?h(document,\"pointermove\",this._handleFallbackAutoScroll):t.touches?h(document,\"touchmove\",this._handleFallbackAutoScroll):h(document,\"mousemove\",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?f(document,\"dragover\",this._handleAutoScroll):(f(document,\"pointermove\",this._handleFallbackAutoScroll),f(document,\"touchmove\",this._handleFallbackAutoScroll),f(document,\"mousemove\",this._handleFallbackAutoScroll)),Jt(),Qt(),clearTimeout(g),g=void 0},nulling:function(){qt=zt=Wt=$t=Vt=Gt=Ut=null,Zt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var o,i=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(r,a);qt=e,n||this.options.forceAutoScrollFallback||w||y||u?(ee(e,this.options,t,n),o=A(t,!0),!$t||Vt&&r===Gt&&a===Ut||(Vt&&Jt(),Vt=setInterval(function(){var t=A(document.elementFromPoint(r,a),!0);t!==o&&(o=t,Qt()),ee(e,i.options,t,n)},10),Gt=r,Ut=a)):this.options.bubbleScroll&&A(t,!0)!==O()?ee(e,this.options,A(t,!1),!1):Qt()}},a(t,{pluginName:\"scroll\",initializeByDefault:!0})}),Bt.mount(oe,ne),Bt.mount(new function(){function t(){this.defaults={swapClass:\"sortable-swap-highlight\"}}return t.prototype={dragStart:function(t){t=t.dragEl;te=t},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.onMove,i=t.activeSortable,r=t.changed,a=t.cancel;i.options.swap&&(t=this.sortable.el,i=this.options,n&&n!==t&&(t=te,te=!1!==o(n)?(I(n,i.swapClass,!0),n):null,t&&t!==te&&I(t,i.swapClass,!1)),r(),e(!0),a())},drop:function(t){var e,n,o=t.activeSortable,i=t.putSortable,r=t.dragEl,a=i||this.sortable,l=this.options;te&&I(te,l.swapClass,!1),te&&(l.swap||i&&i.options.swap)&&r!==te&&(a.captureAnimationState(),a!==o&&o.captureAnimationState(),n=te,t=(e=r).parentNode,l=n.parentNode,t&&l&&!t.isEqualNode(n)&&!l.isEqualNode(e)&&(i=B(e),r=B(n),t.isEqualNode(l)&&i<r&&r++,t.insertBefore(n,t.children[i]),l.insertBefore(e,l.children[r])),a.animateAll(),a!==o&&o.animateAll())},nulling:function(){te=null}},a(t,{pluginName:\"swap\",eventProperties:function(){return{swapItem:te}}})}),Bt.mount(new function(){function t(o){for(var t in this)\"_\"===t.charAt(0)&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this));o.options.avoidImplicitDeselect||(o.options.supportPointer?h(document,\"pointerup\",this._deselectMultiDrag):(h(document,\"mouseup\",this._deselectMultiDrag),h(document,\"touchend\",this._deselectMultiDrag))),h(document,\"keydown\",this._checkKeyDown),h(document,\"keyup\",this._checkKeyUp),this.defaults={selectedClass:\"sortable-selected\",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,e){var n=\"\";ce.length&&re===o?ce.forEach(function(t,e){n+=(e?\", \":\"\")+t.textContent}):n=e.textContent,t.setData(\"Text\",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl;ae=t},delayEnded:function(){this.isMultiDrag=~ce.indexOf(ae)},setupClone:function(t){var e=t.sortable,t=t.cancel;if(this.isMultiDrag){for(var n=0;n<ce.length;n++)ue.push(_(ce[n])),ue[n].sortableIndex=ce[n].sortableIndex,ue[n].draggable=!1,ue[n].style[\"will-change\"]=\"\",I(ue[n],this.options.selectedClass,!1),ce[n]===ae&&I(ue[n],this.options.chosenClass,!1);e._hideClone(),t()}},clone:function(t){var e=t.sortable,n=t.rootEl,o=t.dispatchSortableEvent,t=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ce.length&&re===e&&(pe(!0,n),o(\"clone\"),t()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,t=t.cancel;this.isMultiDrag&&(pe(!1,n),ue.forEach(function(t){P(t,\"display\",\"\")}),e(),se=!1,t())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),t=t.cancel;this.isMultiDrag&&(ue.forEach(function(t){P(t,\"display\",\"none\"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),se=!0,t())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&re&&re.multiDrag._deselectMultiDrag(),ce.forEach(function(t){t.sortableIndex=B(t)}),ce=ce.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),fe=!0},dragStarted:function(t){var e,n=this,t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation&&(ce.forEach(function(t){t!==ae&&P(t,\"position\",\"absolute\")}),e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&C(t,e)}),de=he=!0)),t.animateAll(function(){de=he=!1,n.options.animation&&ce.forEach(function(t){T(t)}),n.options.sort&&ge()}))},dragOver:function(t){var e=t.target,n=t.completed,t=t.cancel;he&&~ce.indexOf(e)&&(n(!1),t())},revert:function(t){var n,o,e=t.fromSortable,i=t.rootEl,r=t.sortable,a=t.dragRect;1<ce.length&&(ce.forEach(function(t){r.addAnimationState({target:t,rect:he?k(t):a}),T(t),t.fromRect=a,e.removeAnimationState(t)}),he=!1,n=!this.options.removeCloneOnHide,o=i,ce.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)}))},dragOverCompleted:function(t){var e,n=t.sortable,o=t.isOwner,i=t.insertion,r=t.activeSortable,a=t.parentEl,l=t.putSortable,t=this.options;i&&(o&&r._hideClone(),de=!1,t.animation&&1<ce.length&&(he||!o&&!r.options.sort&&!l)&&(e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&(C(t,e),a.appendChild(t))}),he=!0),o||(he||ge(),1<ce.length?(o=se,r._showClone(n),r.options.animation&&!se&&o&&ue.forEach(function(t){r.addAnimationState({target:t,rect:le}),t.fromRect=le,t.thisAnimationDuration=null})):r._showClone(n)))},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,t=t.activeSortable;ce.forEach(function(t){t.thisAnimationDuration=null}),t.options.animation&&!n&&t.multiDrag.isMultiDrag&&(le=a({},e),e=v(ae,!0),le.top-=e.f,le.left-=e.e)},dragOverAnimationComplete:function(){he&&(he=!1,ge())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,i=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,l=t.putSortable,s=l||this.sortable;if(e){var c,u,d,h=this.options,f=o.children;if(!fe)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(ae,h.selectedClass,!~ce.indexOf(ae)),~ce.indexOf(ae))ce.splice(ce.indexOf(ae),1),ie=null,W({sortable:i,rootEl:n,name:\"deselect\",targetEl:ae,originalEvent:e});else{if(ce.push(ae),W({sortable:i,rootEl:n,name:\"select\",targetEl:ae,originalEvent:e}),e.shiftKey&&ie&&i.el.contains(ie)){var p=B(ie),t=B(ae);if(~p&&~t&&p!==t)for(var g,m=p<t?(g=p,t):(g=t,p+1);g<m;g++)~ce.indexOf(f[g])||(I(f[g],h.selectedClass,!0),ce.push(f[g]),W({sortable:i,rootEl:n,name:\"select\",targetEl:f[g],originalEvent:e}))}else ie=ae;re=s}fe&&this.isMultiDrag&&(he=!1,(o[j].options.sort||o!==n)&&1<ce.length&&(c=k(ae),u=B(ae,\":not(.\"+this.options.selectedClass+\")\"),!de&&h.animation&&(ae.thisAnimationDuration=null),s.captureAnimationState(),de||(h.animation&&(ae.fromRect=c,ce.forEach(function(t){var e;t.thisAnimationDuration=null,t!==ae&&(e=he?k(t):c,t.fromRect=e,s.addAnimationState({target:t,rect:e}))})),ge(),ce.forEach(function(t){f[u]?o.insertBefore(t,f[u]):o.appendChild(t),u++}),a===B(ae)&&(d=!1,ce.forEach(function(t){t.sortableIndex!==B(t)&&(d=!0)}),d&&r(\"update\"))),ce.forEach(function(t){T(t)}),s.animateAll()),re=s),(n===o||l&&\"clone\"!==l.lastPutMode)&&ue.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=fe=!1,ue.length=0},destroyGlobal:function(){this._deselectMultiDrag(),f(document,\"pointerup\",this._deselectMultiDrag),f(document,\"mouseup\",this._deselectMultiDrag),f(document,\"touchend\",this._deselectMultiDrag),f(document,\"keydown\",this._checkKeyDown),f(document,\"keyup\",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==fe&&fe||re!==this.sortable||t&&N(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;ce.length;){var e=ce[0];I(e,this.options.selectedClass,!1),ce.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:\"deselect\",targetEl:e,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(t,{pluginName:\"multiDrag\",utils:{select:function(t){var e=t.parentNode[j];e&&e.options.multiDrag&&!~ce.indexOf(t)&&(re&&re!==e&&(re.multiDrag._deselectMultiDrag(),re=e),I(t,e.options.selectedClass,!0),ce.push(t))},deselect:function(t){var e=t.parentNode[j],n=ce.indexOf(t);e&&e.options.multiDrag&&~n&&(I(t,e.options.selectedClass,!1),ce.splice(n,1))}},eventProperties:function(){var n=this,o=[],i=[];return ce.forEach(function(t){var e;o.push({multiDragElement:t,index:t.sortableIndex}),e=he&&t!==ae?-1:he?B(t,\":not(.\"+n.options.selectedClass+\")\"):B(t),i.push({multiDragElement:t,index:e})}),{items:r(ce),clones:[].concat(ue),oldIndicies:o,newIndicies:i}},optionListeners:{multiDragKey:function(t){return\"ctrl\"===(t=t.toLowerCase())?t=\"Control\":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),Bt});", "'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Sortable = _interopDefault(require('sortablejs'));\n\nfunction $(expr, con) {\n    return typeof expr === 'string' ?\n        (con || document).querySelector(expr) :\n        expr || null;\n}\n\n$.each = (expr, con) => {\n    return typeof expr === 'string' ?\n        Array.from((con || document).querySelectorAll(expr)) :\n        expr || null;\n};\n\n$.create = (tag, o) => {\n    let element = document.createElement(tag);\n\n    for (let i in o) {\n        let val = o[i];\n\n        if (i === 'inside') {\n            $(val).appendChild(element);\n        } else\n        if (i === 'around') {\n            let ref = $(val);\n            ref.parentNode.insertBefore(element, ref);\n            element.appendChild(ref);\n        } else\n        if (i === 'styles') {\n            if (typeof val === 'object') {\n                Object.keys(val).map(prop => {\n                    element.style[prop] = val[prop];\n                });\n            }\n        } else\n        if (i in element) {\n            element[i] = val;\n        } else {\n            element.setAttribute(i, val);\n        }\n    }\n\n    return element;\n};\n\n$.on = (element, event, selector, callback) => {\n    if (!callback) {\n        callback = selector;\n        $.bind(element, event, callback);\n    } else {\n        $.delegate(element, event, selector, callback);\n    }\n};\n\n$.off = (element, event, handler) => {\n    element.removeEventListener(event, handler);\n};\n\n$.bind = (element, event, callback) => {\n    event.split(/\\s+/).forEach(function (event) {\n        element.addEventListener(event, callback);\n    });\n};\n\n$.delegate = (element, event, selector, callback) => {\n    element.addEventListener(event, function (e) {\n        const delegatedTarget = e.target.closest(selector);\n        if (delegatedTarget) {\n            e.delegatedTarget = delegatedTarget;\n            callback.call(this, e, delegatedTarget);\n        }\n    });\n};\n\n$.unbind = (element, o) => {\n    if (element) {\n        for (let event in o) {\n            let callback = o[event];\n\n            event.split(/\\s+/).forEach(function (event) {\n                element.removeEventListener(event, callback);\n            });\n        }\n    }\n};\n\n$.fire = (target, type, properties) => {\n    let evt = document.createEvent('HTMLEvents');\n\n    evt.initEvent(type, true, true);\n\n    for (let j in properties) {\n        evt[j] = properties[j];\n    }\n\n    return target.dispatchEvent(evt);\n};\n\n$.data = (element, attrs) => { // eslint-disable-line\n    if (!attrs) {\n        return element.dataset;\n    }\n\n    for (const attr in attrs) {\n        element.dataset[attr] = attrs[attr];\n    }\n};\n\n$.style = (elements, styleMap) => { // eslint-disable-line\n\n    if (typeof styleMap === 'string') {\n        return $.getStyle(elements, styleMap);\n    }\n\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    elements.map(element => {\n        for (const prop in styleMap) {\n            element.style[prop] = styleMap[prop];\n        }\n    });\n};\n\n$.removeStyle = (elements, styleProps) => {\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    if (!Array.isArray(styleProps)) {\n        styleProps = [styleProps];\n    }\n\n    elements.map(element => {\n        for (const prop of styleProps) {\n            element.style[prop] = '';\n        }\n    });\n};\n\n$.getStyle = (element, prop) => {\n    if (!prop) {\n        return getComputedStyle(element);\n    }\n\n    let val = getComputedStyle(element)[prop];\n\n    if (['width', 'height'].includes(prop)) {\n        val = parseFloat(val);\n    }\n\n    return val;\n};\n\n$.closest = (selector, element) => {\n    if (!element) return null;\n\n    if (element.matches(selector)) {\n        return element;\n    }\n\n    return $.closest(selector, element.parentNode);\n};\n\n$.inViewport = (el, parentEl) => {\n    const {\n        top,\n        left,\n        bottom,\n        right\n    } = el.getBoundingClientRect();\n    const {\n        top: pTop,\n        left: pLeft,\n        bottom: pBottom,\n        right: pRight\n    } = parentEl.getBoundingClientRect();\n\n    return top >= pTop && left >= pLeft && bottom <= pBottom && right <= pRight;\n};\n\n$.scrollTop = function scrollTop(element, pixels) {\n    requestAnimationFrame(() => {\n        element.scrollTop = pixels;\n    });\n};\n\n$.scrollbarSize = function scrollbarSize() {\n    if (!$.scrollBarSizeValue) {\n        $.scrollBarSizeValue = getScrollBarSize();\n    }\n    return $.scrollBarSizeValue;\n};\n\nfunction getScrollBarSize() {\n    // assume scrollbar width and height would be the same\n\n    // Create the measurement node\n    const scrollDiv = document.createElement('div');\n    $.style(scrollDiv, {\n        width: '100px',\n        height: '100px',\n        overflow: 'scroll',\n        position: 'absolute',\n        top: '-9999px'\n    });\n    document.body.appendChild(scrollDiv);\n\n    // Get the scrollbar width\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n    // Delete the DIV\n    document.body.removeChild(scrollDiv);\n\n    return scrollbarWidth;\n}\n\n$.hasVerticalOverflow = function (element) {\n    return element.scrollHeight > element.offsetHeight + 10;\n};\n\n$.hasHorizontalOverflow = function (element) {\n    return element.scrollWidth > element.offsetWidth + 10;\n};\n\n$.measureTextWidth = function (text) {\n    const div = document.createElement('div');\n    div.style.position = 'absolute';\n    div.style.visibility = 'hidden';\n    div.style.height = 'auto';\n    div.style.width = 'auto';\n    div.style.whiteSpace = 'nowrap';\n    div.innerText = text;\n    document.body.appendChild(div);\n    return div.clientWidth + 1;\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root.Date.now();\n};\n\nvar now_1 = now;\n\n/** Built-in value references. */\nvar Symbol = _root.Symbol;\n\nvar _Symbol = Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\nvar _objectToString = objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag$1 && symToStringTag$1 in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);\n}\n\nvar isSymbol_1 = isSymbol;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber_1(wait) || 0;\n  if (isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now_1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n  if (isObject_1(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce_1(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nvar throttle_1 = throttle;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = _baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = _root['__core-js_shared__'];\n\nvar _coreJsData = coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);\n}\n\nvar _hashHas = hashHas;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\n\nvar _Hash = Hash;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\n\nvar _ListCache = ListCache;\n\n/* Built-in method references that are verified to be native. */\nvar Map = _getNative(_root, 'Map');\n\nvar _Map = Map;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash,\n    'map': new (_Map || _ListCache),\n    'string': new _Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\n\nvar _MapCache = MapCache;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED$2);\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd;\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new _MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\n\nvar _SetCache = SetCache;\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _baseFindIndex = baseFindIndex;\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nvar _baseIsNaN = baseIsNaN;\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _strictIndexOf = strictIndexOf;\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? _strictIndexOf(array, value, fromIndex)\n    : _baseFindIndex(array, _baseIsNaN, fromIndex);\n}\n\nvar _baseIndexOf = baseIndexOf;\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && _baseIndexOf(array, value, 0) > -1;\n}\n\nvar _arrayIncludes = arrayIncludes;\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arrayIncludesWith = arrayIncludesWith;\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas;\n\n/* Built-in method references that are verified to be native. */\nvar Set = _getNative(_root, 'Set');\n\nvar _Set = Set;\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nvar noop_1 = noop;\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(_Set && (1 / _setToArray(new _Set([,-0]))[1]) == INFINITY) ? noop_1 : function(values) {\n  return new _Set(values);\n};\n\nvar _createSet = createSet;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = _arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = _arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : _createSet(array);\n    if (set) {\n      return _setToArray(set);\n    }\n    isCommon = false;\n    includes = _cacheHas;\n    seen = new _SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nvar _baseUniq = baseUniq;\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? _baseUniq(array) : [];\n}\n\nvar uniq_1 = uniq;\n\nfunction camelCaseToDash(str) {\n    return str.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`);\n}\n\nfunction makeDataAttributeString(props) {\n    const keys = Object.keys(props);\n\n    return keys\n        .map((key) => {\n            const _key = camelCaseToDash(key);\n            const val = props[key];\n\n            if (val === undefined) return '';\n            return `data-${_key}=\"${val}\" `;\n        })\n        .join('')\n        .trim();\n}\n\nfunction copyTextToClipboard(text) {\n    // https://stackoverflow.com/a/30810322/5353542\n    var textArea = document.createElement('textarea');\n\n    //\n    // *** This styling is an extra step which is likely not required. ***\n    //\n    // Why is it here? To ensure:\n    // 1. the element is able to have focus and selection.\n    // 2. if element was to flash render it has minimal visual impact.\n    // 3. less flakyness with selection and copying which **might** occur if\n    //    the textarea element is not visible.\n    //\n    // The likelihood is the element won't even render, not even a flash,\n    // so some of these are just precautions. However in IE the element\n    // is visible whilst the popup box asking the user for permission for\n    // the web page to copy to the clipboard.\n    //\n\n    // Place in top-left corner of screen regardless of scroll position.\n    textArea.style.position = 'fixed';\n    textArea.style.top = 0;\n    textArea.style.left = 0;\n\n    // Ensure it has a small width and height. Setting to 1px / 1em\n    // doesn't work as this gives a negative w/h on some browsers.\n    textArea.style.width = '2em';\n    textArea.style.height = '2em';\n\n    // We don't need padding, reducing the size if it does flash render.\n    textArea.style.padding = 0;\n\n    // Clean up any borders.\n    textArea.style.border = 'none';\n    textArea.style.outline = 'none';\n    textArea.style.boxShadow = 'none';\n\n    // Avoid flash of white box if rendered for any reason.\n    textArea.style.background = 'transparent';\n\n    textArea.value = text;\n\n    document.body.appendChild(textArea);\n\n    textArea.select();\n\n    try {\n        document.execCommand('copy');\n    } catch (err) {\n        console.log('Oops, unable to copy');\n    }\n\n    document.body.removeChild(textArea);\n}\n\nfunction isNumeric(val) {\n    return !isNaN(val);\n}\n\nlet throttle$1 = throttle_1;\n\nlet debounce$1 = debounce_1;\n\nfunction nextTick(fn, context = null) {\n    return (...args) => {\n        return new Promise(resolve => {\n            const execute = () => {\n                const out = fn.apply(context, args);\n                resolve(out);\n            };\n            setTimeout(execute);\n        });\n    };\n}\nfunction linkProperties(target, source, properties) {\n    const props = properties.reduce((acc, prop) => {\n        acc[prop] = {\n            get() {\n                return source[prop];\n            }\n        };\n        return acc;\n    }, {});\n    Object.defineProperties(target, props);\n}\nfunction isSet(val) {\n    return val !== undefined || val !== null;\n}\n\nfunction notSet(val) {\n    return !isSet(val);\n}\n\nfunction isNumber(val) {\n    return !isNaN(val);\n}\n\nfunction ensureArray(val) {\n    if (!Array.isArray(val)) {\n        return [val];\n    }\n    return val;\n}\n\nfunction uniq$1(arr) {\n    return uniq_1(arr);\n}\n\nfunction numberSortAsc(a, b) {\n    return a - b;\n}\nfunction stripHTML(html) {\n    return html.replace(/<[^>]*>/g, '');\n}\nfunction format(str, args) {\n    if (!str) return str;\n\n    Object.keys(args).forEach(arg => {\n        let regex = new RegExp(`{(${arg})}`, 'g');\n        str = str.replace(regex, args[arg]);\n    });\n\n    return str;\n}\nfunction escapeHTML(txt) {\n    if (!txt) return '';\n    let escapeHtmlMapping = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#39;',\n        '/': '&#x2F;',\n        '`': '&#x60;',\n        '=': '&#x3D;',\n    };\n\n    return String(txt).replace(/[&<>\"'`=/]/g, (char) => escapeHtmlMapping[char] || char);\n}\n\nclass DataManager {\n    constructor(options) {\n        this.options = options;\n        this.sortRows = nextTick(this.sortRows, this);\n        this.switchColumn = nextTick(this.switchColumn, this);\n        this.removeColumn = nextTick(this.removeColumn, this);\n        this.options.filterRows = nextTick(this.options.filterRows, this);\n    }\n\n    init(data, columns) {\n        if (!data) {\n            data = this.options.data;\n        }\n        if (columns) {\n            this.options.columns = columns;\n        }\n\n        this.data = data;\n\n        this.rowCount = 0;\n        this.columns = [];\n        this.rows = [];\n\n        this.prepareColumns();\n        this.validateData(this.data);\n        this.rows = this.prepareRows(this.data);\n        this.prepareTreeRows();\n        this.prepareRowView();\n        this.prepareNumericColumns();\n    }\n\n    // computed property\n    get currentSort() {\n        const col = this.columns.find(col => col.sortOrder !== 'none');\n        return col || {\n            colIndex: -1,\n            sortOrder: 'none'\n        };\n    }\n\n    prepareColumns() {\n        this.columns = [];\n        this.validateColumns();\n        this.prepareDefaultColumns();\n        this.prepareHeader();\n    }\n\n    prepareDefaultColumns() {\n        if (this.options.checkboxColumn && !this.hasColumnById('_checkbox')) {\n            const cell = {\n                id: '_checkbox',\n                content: this.getCheckboxHTML(),\n                editable: false,\n                resizable: false,\n                sortable: false,\n                focusable: false,\n                dropdown: false,\n                width: 32\n            };\n            this.columns.push(cell);\n        }\n\n        if (this.options.serialNoColumn && !this.hasColumnById('_rowIndex')) {\n            let cell = {\n                id: '_rowIndex',\n                content: '',\n                align: 'center',\n                editable: false,\n                resizable: false,\n                focusable: false,\n                dropdown: false\n            };\n\n            this.columns.push(cell);\n        }\n    }\n\n    prepareHeader() {\n        let columns = this.columns.concat(this.options.columns);\n        const baseCell = {\n            isHeader: 1,\n            editable: true,\n            sortable: true,\n            resizable: true,\n            focusable: true,\n            dropdown: true,\n            width: null,\n            format: (value) => {\n                if (value === null || value === undefined) {\n                    return '';\n                }\n                return value + '';\n            }\n        };\n\n        this.columns = columns\n            .map((cell, i) => this.prepareCell(cell, i))\n            .map(col => Object.assign({}, baseCell, col))\n            .map(col => {\n                col.content = col.content || col.name || '';\n                col.id = col.id || col.content;\n                return col;\n            });\n    }\n\n    prepareCell(content, i) {\n        const cell = {\n            content: '',\n            sortOrder: 'none',\n            colIndex: i,\n            column: this.columns[i]\n        };\n\n        if (content !== null && typeof content === 'object') {\n            // passed as column/header\n            Object.assign(cell, content);\n        } else {\n            cell.content = content;\n        }\n\n        return cell;\n    }\n\n    prepareNumericColumns() {\n        const row0 = this.getRow(0);\n        if (!row0) return;\n        this.columns = this.columns.map((column, i) => {\n\n            const cellValue = row0[i].content;\n            if (!column.align && isNumeric(cellValue)) {\n                column.align = 'right';\n            }\n\n            return column;\n        });\n    }\n\n    prepareRows(data) {\n        return data.map((d, i) => {\n            const index = this._getNextRowCount();\n\n            let row = [];\n            let meta = {\n                rowIndex: index\n            };\n\n            if (Array.isArray(d)) {\n                // row is an array\n                if (this.options.checkboxColumn) {\n                    row.push(this.getCheckboxHTML());\n                }\n                if (this.options.serialNoColumn) {\n                    row.push((index + 1) + '');\n                }\n                row = row.concat(d);\n\n                while (row.length < this.columns.length) {\n                    row.push('');\n                }\n\n            } else {\n                // row is an object\n                for (let col of this.columns) {\n                    if (col.id === '_checkbox') {\n                        row.push(this.getCheckboxHTML());\n                    } else if (col.id === '_rowIndex') {\n                        row.push((index + 1) + '');\n                    } else {\n                        row.push(d[col.id]);\n                    }\n                }\n\n                meta.indent = d.indent || 0;\n            }\n\n            return this.prepareRow(row, meta);\n        });\n    }\n\n    prepareTreeRows() {\n        this.rows.forEach((row, i) => {\n            if (isNumber(row.meta.indent)) {\n                // if (i === 36) debugger;\n                const nextRow = this.getRow(i + 1);\n                row.meta.isLeaf = !nextRow ||\n                    notSet(nextRow.meta.indent) ||\n                    nextRow.meta.indent <= row.meta.indent;\n                row.meta.isTreeNodeClose = false;\n            }\n        });\n    }\n\n    prepareRowView() {\n        // This is order in which rows will be rendered in the table.\n        // When sorting happens, only this.rowViewOrder will change\n        // and not the original this.rows\n        this.rowViewOrder = this.rows.map(row => row.meta.rowIndex);\n    }\n\n    prepareRow(row, meta) {\n        const baseRowCell = {\n            rowIndex: meta.rowIndex,\n            indent: meta.indent\n        };\n\n        row = row\n            .map((cell, i) => this.prepareCell(cell, i))\n            .map(cell => Object.assign({}, baseRowCell, cell));\n\n        // monkey patched in array object\n        row.meta = meta;\n        return row;\n    }\n\n    validateColumns() {\n        const columns = this.options.columns;\n        if (!Array.isArray(columns)) {\n            throw new DataError('`columns` must be an array');\n        }\n\n        columns.forEach((column, i) => {\n            if (typeof column !== 'string' && typeof column !== 'object') {\n                throw new DataError(`column \"${i}\" must be a string or an object`);\n            }\n        });\n    }\n\n    validateData(data) {\n        if (Array.isArray(data) &&\n            (data.length === 0 || Array.isArray(data[0]) || typeof data[0] === 'object')) {\n            return true;\n        }\n        throw new DataError('`data` must be an array of arrays or objects');\n    }\n\n    appendRows(rows) {\n        this.validateData(rows);\n        this.rows = this.rows.concat(this.prepareRows(rows));\n        this.prepareTreeRows();\n        this.prepareRowView();\n    }\n\n    sortRows(colIndex, sortOrder = 'none') {\n        colIndex = +colIndex;\n\n        // reset sortOrder and update for colIndex\n        this.getColumns()\n            .map(col => {\n                if (col.colIndex === colIndex) {\n                    col.sortOrder = sortOrder;\n                } else {\n                    col.sortOrder = 'none';\n                }\n            });\n\n        this._sortRows(colIndex, sortOrder);\n    }\n\n    _sortRows(colIndex, sortOrder) {\n\n        if (this.currentSort.colIndex === colIndex) {\n            // reverse the array if only sortOrder changed\n            if (\n                (this.currentSort.sortOrder === 'asc' && sortOrder === 'desc') ||\n                (this.currentSort.sortOrder === 'desc' && sortOrder === 'asc')\n            ) {\n                this.reverseArray(this.rowViewOrder);\n                this.currentSort.sortOrder = sortOrder;\n                return;\n            }\n        }\n\n        this.rowViewOrder.sort((a, b) => {\n            const aIndex = a;\n            const bIndex = b;\n\n            let aContent = this.getCell(colIndex, a).content;\n            let bContent = this.getCell(colIndex, b).content;\n            aContent = aContent == null ? '' : aContent;\n            bContent = bContent == null ? '' : bContent;\n\n            if (sortOrder === 'none') {\n                return aIndex - bIndex;\n            } else if (sortOrder === 'asc') {\n                if (aContent < bContent) return -1;\n                if (aContent > bContent) return 1;\n                if (aContent === bContent) return 0;\n            } else if (sortOrder === 'desc') {\n                if (aContent < bContent) return 1;\n                if (aContent > bContent) return -1;\n                if (aContent === bContent) return 0;\n            }\n            return 0;\n        });\n\n        if (this.hasColumnById('_rowIndex')) {\n            // update row index\n            const srNoColIndex = this.getColumnIndexById('_rowIndex');\n            this.rows.forEach((row, index) => {\n                const viewIndex = this.rowViewOrder.indexOf(index);\n                const cell = row[srNoColIndex];\n                cell.content = (viewIndex + 1) + '';\n            });\n        }\n    }\n\n    reverseArray(array) {\n        let left = null;\n        let right = null;\n        let length = array.length;\n\n        for (left = 0, right = length - 1; left < right; left += 1, right -= 1) {\n            const temporary = array[left];\n\n            array[left] = array[right];\n            array[right] = temporary;\n        }\n    }\n\n    switchColumn(index1, index2) {\n        // update columns\n        const temp = this.columns[index1];\n        this.columns[index1] = this.columns[index2];\n        this.columns[index2] = temp;\n\n        this.columns[index1].colIndex = index1;\n        this.columns[index2].colIndex = index2;\n\n        // update rows\n        this.rows.forEach(row => {\n            const newCell1 = Object.assign({}, row[index1], {\n                colIndex: index2\n            });\n            const newCell2 = Object.assign({}, row[index2], {\n                colIndex: index1\n            });\n\n            row[index2] = newCell1;\n            row[index1] = newCell2;\n        });\n    }\n\n    removeColumn(index) {\n        index = +index;\n        const filter = cell => cell.colIndex !== index;\n        const map = (cell, i) => Object.assign({}, cell, {\n            colIndex: i\n        });\n        // update columns\n        this.columns = this.columns\n            .filter(filter)\n            .map(map);\n\n        // update rows\n        this.rows.forEach(row => {\n            // remove cell\n            row.splice(index, 1);\n            // update colIndex\n            row.forEach((cell, i) => {\n                cell.colIndex = i;\n            });\n        });\n    }\n\n    updateRow(row, rowIndex) {\n        if (row.length < this.columns.length) {\n            if (this.hasColumnById('_rowIndex')) {\n                const val = (rowIndex + 1) + '';\n\n                row = [val].concat(row);\n            }\n\n            if (this.hasColumnById('_checkbox')) {\n                const val = '<input type=\"checkbox\" />';\n\n                row = [val].concat(row);\n            }\n        }\n\n        const _row = this.prepareRow(row, {rowIndex});\n        const index = this.rows.findIndex(row => row[0].rowIndex === rowIndex);\n        this.rows[index] = _row;\n\n        return _row;\n    }\n\n    updateCell(colIndex, rowIndex, options) {\n        let cell;\n        if (typeof colIndex === 'object') {\n            // cell object was passed,\n            // must have colIndex, rowIndex\n            cell = colIndex;\n            colIndex = cell.colIndex;\n            rowIndex = cell.rowIndex;\n            // the object passed must be merged with original cell\n            options = cell;\n        }\n        cell = this.getCell(colIndex, rowIndex);\n\n        // mutate object directly\n        for (let key in options) {\n            const newVal = options[key];\n            if (newVal !== undefined) {\n                cell[key] = newVal;\n            }\n        }\n\n        return cell;\n    }\n\n    updateColumn(colIndex, keyValPairs) {\n        const column = this.getColumn(colIndex);\n        for (let key in keyValPairs) {\n            const newVal = keyValPairs[key];\n            if (newVal !== undefined) {\n                column[key] = newVal;\n            }\n        }\n        return column;\n    }\n\n    filterRows(filters) {\n        return this.options.filterRows(this.rows, filters, this)\n            .then(result => {\n                if (!result) {\n                    result = this.getAllRowIndices();\n                }\n\n                if (!result.then) {\n                    result = Promise.resolve(result);\n                }\n\n                return result.then(rowsToShow => {\n                    this._filteredRows = rowsToShow;\n\n                    const rowsToHide = this.getAllRowIndices()\n                        .filter(index => !rowsToShow.includes(index));\n\n                    return {\n                        rowsToHide,\n                        rowsToShow\n                    };\n                });\n            });\n    }\n\n    getFilteredRowIndices() {\n        return this._filteredRows || this.getAllRowIndices();\n    }\n\n    getAllRowIndices() {\n        return this.rows.map(row => row.meta.rowIndex);\n    }\n\n    getRowCount() {\n        return this.rowCount;\n    }\n\n    _getNextRowCount() {\n        const val = this.rowCount;\n\n        this.rowCount++;\n        return val;\n    }\n\n    getRows(start, end) {\n        return this.rows.slice(start, end);\n    }\n\n    getRowsForView(start, end) {\n        const rows = this.rowViewOrder.map(i => this.rows[i]);\n        return rows.slice(start, end);\n    }\n\n    getColumns(skipStandardColumns) {\n        let columns = this.columns;\n\n        if (skipStandardColumns) {\n            columns = columns.slice(this.getStandardColumnCount());\n        }\n\n        return columns;\n    }\n\n    getStandardColumnCount() {\n        if (this.options.checkboxColumn && this.options.serialNoColumn) {\n            return 2;\n        }\n\n        if (this.options.checkboxColumn || this.options.serialNoColumn) {\n            return 1;\n        }\n\n        return 0;\n    }\n\n    getColumnCount(skipStandardColumns) {\n        let val = this.columns.length;\n\n        if (skipStandardColumns) {\n            val = val - this.getStandardColumnCount();\n        }\n\n        return val;\n    }\n\n    getColumn(colIndex) {\n        colIndex = +colIndex;\n\n        if (colIndex < 0) {\n            // negative indexes\n            colIndex = this.columns.length + colIndex;\n        }\n\n        return this.columns.find(col => col.colIndex === colIndex);\n    }\n\n    getColumnById(id) {\n        return this.columns.find(col => col.id === id);\n    }\n\n    getRow(rowIndex) {\n        rowIndex = +rowIndex;\n        return this.rows[rowIndex];\n    }\n\n    getCell(colIndex, rowIndex) {\n        rowIndex = +rowIndex;\n        colIndex = +colIndex;\n        return this.getRow(rowIndex)[colIndex];\n    }\n\n    getChildren(parentRowIndex) {\n        parentRowIndex = +parentRowIndex;\n        const parentIndent = this.getRow(parentRowIndex).meta.indent;\n        const out = [];\n\n        for (let i = parentRowIndex + 1; i < this.rowCount; i++) {\n            const row = this.getRow(i);\n            if (isNaN(row.meta.indent)) continue;\n\n            if (row.meta.indent > parentIndent) {\n                out.push(i);\n            }\n\n            if (row.meta.indent === parentIndent) {\n                break;\n            }\n        }\n\n        return out;\n    }\n\n    getImmediateChildren(parentRowIndex) {\n        parentRowIndex = +parentRowIndex;\n        const parentIndent = this.getRow(parentRowIndex).meta.indent;\n        const out = [];\n        const childIndent = parentIndent + 1;\n\n        for (let i = parentRowIndex + 1; i < this.rowCount; i++) {\n            const row = this.getRow(i);\n            if (isNaN(row.meta.indent) || row.meta.indent > childIndent) continue;\n\n            if (row.meta.indent === childIndent) {\n                out.push(i);\n            }\n\n            if (row.meta.indent === parentIndent) {\n                break;\n            }\n        }\n\n        return out;\n    }\n\n    get() {\n        return {\n            columns: this.columns,\n            rows: this.rows\n        };\n    }\n\n    /**\n     * Returns the original data which was passed\n     * based on rowIndex\n     * @param {Number} rowIndex\n     * @returns Array|Object\n     * @memberof DataManager\n     */\n    getData(rowIndex) {\n        return this.data[rowIndex];\n    }\n\n    hasColumn(name) {\n        return Boolean(this.columns.find(col => col.content === name));\n    }\n\n    hasColumnById(id) {\n        return Boolean(this.columns.find(col => col.id === id));\n    }\n\n    getColumnIndex(name) {\n        return this.columns.findIndex(col => col.content === name);\n    }\n\n    getColumnIndexById(id) {\n        return this.columns.findIndex(col => col.id === id);\n    }\n\n    getCheckboxHTML() {\n        return '<input type=\"checkbox\" />';\n    }\n}\n\n// Custom Errors\nclass DataError extends TypeError {}\n\n/* eslint-disable max-len */\n\n// Icons from https://feathericons.com/\n\nlet icons = {\n    chevronDown: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-down\"><polyline points=\"6 9 12 15 18 9\"></polyline></svg>',\n    chevronRight: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-right\"><polyline points=\"9 18 15 12 9 6\"></polyline></svg>'\n};\n\nclass CellManager {\n    constructor(instance) {\n        this.instance = instance;\n        linkProperties(this, this.instance, [\n            'wrapper',\n            'options',\n            'style',\n            'header',\n            'bodyScrollable',\n            'columnmanager',\n            'rowmanager',\n            'datamanager',\n            'keyboard'\n        ]);\n\n        this.bindEvents();\n    }\n\n    bindEvents() {\n        this.bindFocusCell();\n        this.bindEditCell();\n        this.bindKeyboardSelection();\n        this.bindCopyCellContents();\n        this.bindMouseEvents();\n        this.bindTreeEvents();\n    }\n\n    bindFocusCell() {\n        this.bindKeyboardNav();\n    }\n\n    bindEditCell() {\n        this.$editingCell = null;\n\n        $.on(this.bodyScrollable, 'dblclick', '.dt-cell', (e, cell) => {\n            this.activateEditing(cell);\n        });\n\n        this.keyboard.on('enter', () => {\n            if (this.$focusedCell && !this.$editingCell) {\n                // enter keypress on focused cell\n                this.activateEditing(this.$focusedCell);\n            } else if (this.$editingCell) {\n                // enter keypress on editing cell\n                this.deactivateEditing();\n            }\n        });\n    }\n\n    bindKeyboardNav() {\n        const focusLastCell = (direction) => {\n            if (!this.$focusedCell || this.$editingCell) {\n                return false;\n            }\n\n            let $cell = this.$focusedCell;\n            const {\n                rowIndex,\n                colIndex\n            } = $.data($cell);\n\n            if (direction === 'left') {\n                $cell = this.getLeftMostCell$(rowIndex);\n            } else if (direction === 'right') {\n                $cell = this.getRightMostCell$(rowIndex);\n            } else if (direction === 'up') {\n                $cell = this.getTopMostCell$(colIndex);\n            } else if (direction === 'down') {\n                $cell = this.getBottomMostCell$(colIndex);\n            }\n\n            this.focusCell($cell);\n            return true;\n        };\n\n        ['left', 'right', 'up', 'down', 'tab', 'shift+tab']\n            .map(direction => this.keyboard.on(direction, () => this.focusCellInDirection(direction)));\n\n        ['left', 'right', 'up', 'down']\n            .map(direction => this.keyboard.on(`ctrl+${direction}`, () => focusLastCell(direction)));\n\n        this.keyboard.on('esc', () => {\n            this.deactivateEditing(false);\n            this.columnmanager.toggleFilter(false);\n        });\n\n        if (this.options.inlineFilters) {\n            this.keyboard.on('ctrl+f', (e) => {\n                const $cell = $.closest('.dt-cell', e.target);\n                const { colIndex } = $.data($cell);\n\n                this.activateFilter(colIndex);\n                return true;\n            });\n\n            $.on(this.header, 'focusin', '.dt-filter', () => {\n                this.unfocusCell(this.$focusedCell);\n            });\n        }\n    }\n\n    bindKeyboardSelection() {\n        const getNextSelectionCursor = (direction) => {\n            let $selectionCursor = this.getSelectionCursor();\n\n            if (direction === 'left') {\n                $selectionCursor = this.getLeftCell$($selectionCursor);\n            } else if (direction === 'right') {\n                $selectionCursor = this.getRightCell$($selectionCursor);\n            } else if (direction === 'up') {\n                $selectionCursor = this.getAboveCell$($selectionCursor);\n            } else if (direction === 'down') {\n                $selectionCursor = this.getBelowCell$($selectionCursor);\n            }\n\n            return $selectionCursor;\n        };\n\n        ['left', 'right', 'up', 'down']\n            .map(direction =>\n                this.keyboard.on(`shift+${direction}`, () => this.selectArea(getNextSelectionCursor(direction))));\n    }\n\n    bindCopyCellContents() {\n        this.keyboard.on('ctrl+c', () => {\n            const noOfCellsCopied = this.copyCellContents(this.$focusedCell, this.$selectionCursor);\n            const message = this.instance.translate('{count} cells copied', {\n                count: noOfCellsCopied\n            });\n\n            if (noOfCellsCopied) {\n                this.instance.showToastMessage(message, 2);\n            }\n        });\n\n        if (this.options.pasteFromClipboard) {\n            this.keyboard.on('ctrl+v', (e) => {\n                // hack\n                // https://stackoverflow.com/a/2177059/5353542\n                this.instance.pasteTarget.focus();\n\n                setTimeout(() => {\n                    const data = this.instance.pasteTarget.value;\n                    this.instance.pasteTarget.value = '';\n                    this.pasteContentInCell(data);\n                }, 10);\n\n                return false;\n            });\n        }\n    }\n\n    bindMouseEvents() {\n        let mouseDown = null;\n\n        $.on(this.bodyScrollable, 'mousedown', '.dt-cell', (e) => {\n            mouseDown = true;\n            this.focusCell($(e.delegatedTarget));\n        });\n\n        $.on(this.bodyScrollable, 'mouseup', () => {\n            mouseDown = false;\n        });\n\n        const selectArea = (e) => {\n            if (!mouseDown) return;\n            this.selectArea($(e.delegatedTarget));\n        };\n\n        $.on(this.bodyScrollable, 'mousemove', '.dt-cell', throttle$1(selectArea, 50));\n    }\n\n    bindTreeEvents() {\n        $.on(this.bodyScrollable, 'click', '.dt-tree-node__toggle', (e, $toggle) => {\n            const $cell = $.closest('.dt-cell', $toggle);\n            const { rowIndex } = $.data($cell);\n\n            if ($cell.classList.contains('dt-cell--tree-close')) {\n                this.rowmanager.openSingleNode(rowIndex);\n            } else {\n                this.rowmanager.closeSingleNode(rowIndex);\n            }\n        });\n    }\n\n    focusCell($cell, {\n        skipClearSelection = 0,\n        skipDOMFocus = 0,\n        skipScrollToCell = 0\n    } = {}) {\n        if (!$cell) return;\n\n        // don't focus if already editing cell\n        if ($cell === this.$editingCell) return;\n\n        const {\n            colIndex,\n            isHeader\n        } = $.data($cell);\n        if (isHeader) {\n            return;\n        }\n\n        const column = this.columnmanager.getColumn(colIndex);\n        if (column.focusable === false) {\n            return;\n        }\n\n        if (!skipScrollToCell) {\n            this.scrollToCell($cell);\n        }\n\n        this.deactivateEditing();\n        if (!skipClearSelection) {\n            this.clearSelection();\n        }\n\n        if (this.$focusedCell) {\n            this.$focusedCell.classList.remove('dt-cell--focus');\n        }\n\n        this.$focusedCell = $cell;\n        $cell.classList.add('dt-cell--focus');\n\n        if (!skipDOMFocus) {\n            // so that keyboard nav works\n            $cell.focus();\n        }\n\n        this.highlightRowColumnHeader($cell);\n    }\n\n    unfocusCell($cell) {\n        if (!$cell) return;\n\n        // remove cell border\n        $cell.classList.remove('dt-cell--focus');\n        this.$focusedCell = null;\n\n        // reset header background\n        if (this.lastHeaders) {\n            this.lastHeaders.forEach(header => header && header.classList.remove('dt-cell--highlight'));\n        }\n    }\n\n    highlightRowColumnHeader($cell) {\n        const {\n            colIndex,\n            rowIndex\n        } = $.data($cell);\n\n        const srNoColIndex = this.datamanager.getColumnIndexById('_rowIndex');\n        const colHeaderSelector = `.dt-cell--header-${colIndex}`;\n        const rowHeaderSelector = `.dt-cell--${srNoColIndex}-${rowIndex}`;\n\n        if (this.lastHeaders) {\n            this.lastHeaders.forEach(header => header && header.classList.remove('dt-cell--highlight'));\n        }\n\n        const colHeader = $(colHeaderSelector, this.wrapper);\n        const rowHeader = $(rowHeaderSelector, this.wrapper);\n\n        this.lastHeaders = [colHeader, rowHeader];\n        this.lastHeaders.forEach(header => header && header.classList.add('dt-cell--highlight'));\n    }\n\n    selectAreaOnClusterChanged() {\n        if (!(this.$focusedCell && this.$selectionCursor)) return;\n        const {\n            colIndex,\n            rowIndex\n        } = $.data(this.$selectionCursor);\n        const $cell = this.getCell$(colIndex, rowIndex);\n\n        if (!$cell || $cell === this.$selectionCursor) return;\n\n        // selectArea needs $focusedCell\n        const fCell = $.data(this.$focusedCell);\n        this.$focusedCell = this.getCell$(fCell.colIndex, fCell.rowIndex);\n\n        this.selectArea($cell);\n    }\n\n    focusCellOnClusterChanged() {\n        if (!this.$focusedCell) return;\n\n        const {\n            colIndex,\n            rowIndex\n        } = $.data(this.$focusedCell);\n        const $cell = this.getCell$(colIndex, rowIndex);\n\n        if (!$cell) return;\n        // this function is called after hyperlist renders the rows after scroll,\n        // focusCell calls clearSelection which resets the area selection\n        // so a flag to skip it\n        // we also skip DOM focus and scroll to cell\n        // because it fights with the user scroll\n        this.focusCell($cell, {\n            skipClearSelection: 1,\n            skipDOMFocus: 1,\n            skipScrollToCell: 1\n        });\n    }\n\n    selectArea($selectionCursor) {\n        if (!this.$focusedCell) return;\n\n        if (this._selectArea(this.$focusedCell, $selectionCursor)) {\n            // valid selection\n            this.$selectionCursor = $selectionCursor;\n        }\n    }\n\n    _selectArea($cell1, $cell2) {\n        if ($cell1 === $cell2) return false;\n\n        const cells = this.getCellsInRange($cell1, $cell2);\n        if (!cells) return false;\n\n        this.clearSelection();\n        this._selectedCells = cells.map(index => this.getCell$(...index));\n        requestAnimationFrame(() => {\n            this._selectedCells.map($cell => $cell.classList.add('dt-cell--highlight'));\n        });\n        return true;\n    }\n\n    getCellsInRange($cell1, $cell2) {\n        let colIndex1, rowIndex1, colIndex2, rowIndex2;\n\n        if (typeof $cell1 === 'number') {\n            [colIndex1, rowIndex1, colIndex2, rowIndex2] = arguments;\n        } else\n        if (typeof $cell1 === 'object') {\n            if (!($cell1 && $cell2)) {\n                return false;\n            }\n\n            const cell1 = $.data($cell1);\n            const cell2 = $.data($cell2);\n\n            colIndex1 = +cell1.colIndex;\n            rowIndex1 = +cell1.rowIndex;\n            colIndex2 = +cell2.colIndex;\n            rowIndex2 = +cell2.rowIndex;\n        }\n\n        if (rowIndex1 > rowIndex2) {\n            [rowIndex1, rowIndex2] = [rowIndex2, rowIndex1];\n        }\n\n        if (colIndex1 > colIndex2) {\n            [colIndex1, colIndex2] = [colIndex2, colIndex1];\n        }\n\n        if (this.isStandardCell(colIndex1) || this.isStandardCell(colIndex2)) {\n            return false;\n        }\n\n        const cells = [];\n        let colIndex = colIndex1;\n        let rowIndex = rowIndex1;\n        const rowIndices = [];\n\n        while (rowIndex <= rowIndex2) {\n            rowIndices.push(rowIndex);\n            rowIndex += 1;\n        }\n\n        rowIndices.map((rowIndex) => {\n            while (colIndex <= colIndex2) {\n                cells.push([colIndex, rowIndex]);\n                colIndex++;\n            }\n            colIndex = colIndex1;\n        });\n\n        return cells;\n    }\n\n    clearSelection() {\n        (this._selectedCells || [])\n            .forEach($cell => $cell.classList.remove('dt-cell--highlight'));\n\n        this._selectedCells = [];\n        this.$selectionCursor = null;\n    }\n\n    getSelectionCursor() {\n        return this.$selectionCursor || this.$focusedCell;\n    }\n\n    activateEditing($cell) {\n        this.focusCell($cell);\n        const {\n            rowIndex,\n            colIndex\n        } = $.data($cell);\n\n        const col = this.columnmanager.getColumn(colIndex);\n        if (col && (col.editable === false || col.focusable === false)) {\n            return;\n        }\n\n        const cell = this.getCell(colIndex, rowIndex);\n        if (cell && cell.editable === false) {\n            return;\n        }\n\n        if (this.$editingCell) {\n            const {\n                _rowIndex,\n                _colIndex\n            } = $.data(this.$editingCell);\n\n            if (rowIndex === _rowIndex && colIndex === _colIndex) {\n                // editing the same cell\n                return;\n            }\n        }\n\n        this.$editingCell = $cell;\n        $cell.classList.add('dt-cell--editing');\n\n        const $editCell = $('.dt-cell__edit', $cell);\n        $editCell.innerHTML = '';\n\n        const editor = this.getEditor(colIndex, rowIndex, cell.content, $editCell);\n\n        if (editor) {\n            this.currentCellEditor = editor;\n            // initialize editing input with cell value\n            editor.initValue(cell.content, rowIndex, col);\n        }\n    }\n\n    deactivateEditing(submitValue = true) {\n        if (submitValue) {\n            this.submitEditing();\n        }\n        // keep focus on the cell so that keyboard navigation works\n        if (this.$focusedCell) this.$focusedCell.focus();\n\n        if (!this.$editingCell) return;\n        this.$editingCell.classList.remove('dt-cell--editing');\n        this.$editingCell = null;\n    }\n\n    getEditor(colIndex, rowIndex, value, parent) {\n        const column = this.datamanager.getColumn(colIndex);\n        const row = this.datamanager.getRow(rowIndex);\n        const data = this.datamanager.getData(rowIndex);\n        let editor = this.options.getEditor ?\n            this.options.getEditor(colIndex, rowIndex, value, parent, column, row, data) :\n            this.getDefaultEditor(parent);\n\n        if (editor === false) {\n            // explicitly returned false\n            return false;\n        }\n        if (editor === undefined) {\n            // didn't return editor, fallback to default\n            editor = this.getDefaultEditor(parent);\n        }\n\n        return editor;\n    }\n\n    getDefaultEditor(parent) {\n        const $input = $.create('input', {\n            class: 'dt-input',\n            type: 'text',\n            inside: parent\n        });\n\n        return {\n            initValue(value) {\n                $input.focus();\n                $input.value = value;\n            },\n            getValue() {\n                return $input.value;\n            },\n            setValue(value) {\n                $input.value = value;\n            }\n        };\n    }\n\n    submitEditing() {\n        let promise = Promise.resolve();\n        if (!this.$editingCell) return promise;\n\n        const $cell = this.$editingCell;\n        const {\n            rowIndex,\n            colIndex\n        } = $.data($cell);\n        const col = this.datamanager.getColumn(colIndex);\n\n        if ($cell) {\n            const editor = this.currentCellEditor;\n\n            if (editor) {\n                let valuePromise = editor.getValue();\n\n                // convert to stubbed Promise\n                if (!valuePromise.then) {\n                    valuePromise = Promise.resolve(valuePromise);\n                }\n\n                promise = valuePromise.then((value) => {\n                    const oldValue = this.getCell(colIndex, rowIndex).content;\n\n                    if (oldValue === value) return false;\n\n                    const done = editor.setValue(value, rowIndex, col);\n\n                    // update cell immediately\n                    this.updateCell(colIndex, rowIndex, value, true);\n                    $cell.focus();\n\n                    if (done && done.then) {\n                        // revert to oldValue if promise fails\n                        done.catch((e) => {\n                            console.log(e);\n                            this.updateCell(colIndex, rowIndex, oldValue);\n                        });\n                    }\n                    return done;\n                });\n            }\n        }\n\n        this.currentCellEditor = null;\n        return promise;\n    }\n\n    copyCellContents($cell1, $cell2) {\n        if (!$cell2 && $cell1) {\n            // copy only focusedCell\n            const {\n                colIndex,\n                rowIndex\n            } = $.data($cell1);\n            const cell = this.getCell(colIndex, rowIndex);\n            copyTextToClipboard(cell.content);\n            return 1;\n        }\n        const cells = this.getCellsInRange($cell1, $cell2);\n\n        if (!cells) return 0;\n\n        const rows = cells\n            // get cell objects\n            .map(index => this.getCell(...index))\n            // convert to array of rows\n            .reduce((acc, curr) => {\n                const rowIndex = curr.rowIndex;\n\n                acc[rowIndex] = acc[rowIndex] || [];\n                acc[rowIndex].push(curr.content);\n\n                return acc;\n            }, []);\n\n        const values = rows\n            // join values by tab\n            .map(row => row.join('\\t'))\n            // join rows by newline\n            .join('\\n');\n\n        copyTextToClipboard(values);\n\n        // return no of cells copied\n        return rows.reduce((total, row) => total + row.length, 0);\n    }\n\n    pasteContentInCell(data) {\n        if (!this.$focusedCell) return;\n\n        const matrix = data\n            .split('\\n')\n            .map(row => row.split('\\t'))\n            .filter(row => row.length && row.every(it => it));\n\n        let { colIndex, rowIndex } = $.data(this.$focusedCell);\n\n        let focusedCell = {\n            colIndex: +colIndex,\n            rowIndex: +rowIndex\n        };\n\n        matrix.forEach((row, i) => {\n            let rowIndex = i + focusedCell.rowIndex;\n            row.forEach((cell, j) => {\n                let colIndex = j + focusedCell.colIndex;\n                this.updateCell(colIndex, rowIndex, cell, true);\n            });\n        });\n    }\n\n    activateFilter(colIndex) {\n        this.columnmanager.toggleFilter();\n        this.columnmanager.focusFilter(colIndex);\n\n        if (!this.columnmanager.isFilterShown) {\n            // put focus back on cell\n            this.$focusedCell && this.$focusedCell.focus();\n        }\n    }\n\n    updateCell(colIndex, rowIndex, value, refreshHtml = false) {\n        const cell = this.datamanager.updateCell(colIndex, rowIndex, {\n            content: value\n        });\n        this.refreshCell(cell, refreshHtml);\n    }\n\n    refreshCell(cell, refreshHtml = false) {\n        const $cell = $(this.selector(cell.colIndex, cell.rowIndex), this.bodyScrollable);\n        $cell.innerHTML = this.getCellContent(cell, refreshHtml);\n    }\n\n    toggleTreeButton(rowIndex, flag) {\n        const colIndex = this.columnmanager.getFirstColumnIndex();\n        const $cell = this.getCell$(colIndex, rowIndex);\n        if ($cell) {\n            $cell.classList[flag ? 'remove' : 'add']('dt-cell--tree-close');\n        }\n    }\n\n    isStandardCell(colIndex) {\n        // Standard cells are in Sr. No and Checkbox column\n        return colIndex < this.columnmanager.getFirstColumnIndex();\n    }\n\n    focusCellInDirection(direction) {\n        if (!this.$focusedCell || (this.$editingCell && ['left', 'right', 'up', 'down'].includes(direction))) {\n            return false;\n        } else if (this.$editingCell && ['tab', 'shift+tab'].includes(direction)) {\n            this.deactivateEditing();\n        }\n\n        let $cell = this.$focusedCell;\n\n        if (direction === 'left' || direction === 'shift+tab') {\n            $cell = this.getLeftCell$($cell);\n        } else if (direction === 'right' || direction === 'tab') {\n            $cell = this.getRightCell$($cell);\n        } else if (direction === 'up') {\n            $cell = this.getAboveCell$($cell);\n        } else if (direction === 'down') {\n            $cell = this.getBelowCell$($cell);\n        }\n\n        if (!$cell) {\n            return false;\n        }\n\n        const {\n            colIndex\n        } = $.data($cell);\n        const column = this.columnmanager.getColumn(colIndex);\n\n        if (!column.focusable) {\n            let $prevFocusedCell = this.$focusedCell;\n            this.unfocusCell($prevFocusedCell);\n            this.$focusedCell = $cell;\n            let ret = this.focusCellInDirection(direction);\n            if (!ret) {\n                this.focusCell($prevFocusedCell);\n            }\n            return ret;\n        }\n\n        this.focusCell($cell);\n        return true;\n    }\n\n    getCell$(colIndex, rowIndex) {\n        return $(this.selector(colIndex, rowIndex), this.bodyScrollable);\n    }\n\n    getAboveCell$($cell) {\n        const {\n            colIndex\n        } = $.data($cell);\n\n        let $aboveRow = $cell.parentElement.previousElementSibling;\n        while ($aboveRow && $aboveRow.classList.contains('dt-row--hide')) {\n            $aboveRow = $aboveRow.previousElementSibling;\n        }\n\n        if (!$aboveRow) return $cell;\n        return $(`.dt-cell--col-${colIndex}`, $aboveRow);\n    }\n\n    getBelowCell$($cell) {\n        const {\n            colIndex\n        } = $.data($cell);\n\n        let $belowRow = $cell.parentElement.nextElementSibling;\n        while ($belowRow && $belowRow.classList.contains('dt-row--hide')) {\n            $belowRow = $belowRow.nextElementSibling;\n        }\n\n        if (!$belowRow) return $cell;\n        return $(`.dt-cell--col-${colIndex}`, $belowRow);\n    }\n\n    getLeftCell$($cell) {\n        return $cell.previousElementSibling;\n    }\n\n    getRightCell$($cell) {\n        return $cell.nextElementSibling;\n    }\n\n    getLeftMostCell$(rowIndex) {\n        return this.getCell$(this.columnmanager.getFirstColumnIndex(), rowIndex);\n    }\n\n    getRightMostCell$(rowIndex) {\n        return this.getCell$(this.columnmanager.getLastColumnIndex(), rowIndex);\n    }\n\n    getTopMostCell$(colIndex) {\n        return this.getCell$(colIndex, this.rowmanager.getFirstRowIndex());\n    }\n\n    getBottomMostCell$(colIndex) {\n        return this.getCell$(colIndex, this.rowmanager.getLastRowIndex());\n    }\n\n    getCell(colIndex, rowIndex) {\n        return this.instance.datamanager.getCell(colIndex, rowIndex);\n    }\n\n    getRowHeight() {\n        return $.style($('.dt-row', this.bodyScrollable), 'height');\n    }\n\n    scrollToCell($cell) {\n        if ($.inViewport($cell, this.bodyScrollable)) return false;\n\n        const {\n            rowIndex\n        } = $.data($cell);\n        this.rowmanager.scrollToRow(rowIndex);\n        return false;\n    }\n\n    getRowCountPerPage() {\n        return Math.ceil(this.instance.getViewportHeight() / this.getRowHeight());\n    }\n\n    getCellHTML(cell) {\n        const {\n            rowIndex,\n            colIndex,\n            isHeader,\n            isFilter,\n            isTotalRow\n        } = cell;\n        const dataAttr = makeDataAttributeString({\n            rowIndex,\n            colIndex,\n            isHeader,\n            isFilter,\n            isTotalRow\n        });\n\n        const row = this.datamanager.getRow(rowIndex);\n\n        const isBodyCell = !(isHeader || isFilter || isTotalRow);\n\n        const className = [\n            'dt-cell',\n            'dt-cell--col-' + colIndex,\n            isBodyCell ? `dt-cell--${colIndex}-${rowIndex}` : '',\n            isBodyCell ? 'dt-cell--row-' + rowIndex : '',\n            isHeader ? 'dt-cell--header' : '',\n            isHeader ? `dt-cell--header-${colIndex}` : '',\n            isFilter ? 'dt-cell--filter' : '',\n            isBodyCell && (row && row.meta.isTreeNodeClose) ? 'dt-cell--tree-close' : ''\n        ].join(' ');\n\n        return `\n            <div class=\"${className}\" ${dataAttr} tabindex=\"0\">\n                ${this.getCellContent(cell)}\n            </div>\n        `;\n    }\n\n    getCellContent(cell, refreshHtml = false) {\n        const {\n            isHeader,\n            isFilter,\n            colIndex\n        } = cell;\n\n        const editable = !isHeader && cell.editable !== false;\n        const editCellHTML = editable ? this.getEditCellHTML(colIndex) : '';\n\n        const sortable = isHeader && cell.sortable !== false;\n        const sortIndicator = sortable ?\n            `<span class=\"sort-indicator\">\n                ${this.options.sortIndicator[cell.sortOrder]}\n            </span>` :\n            '';\n\n        const resizable = isHeader && cell.resizable !== false;\n        const resizeColumn = resizable ? '<span class=\"dt-cell__resize-handle\"></span>' : '';\n\n        const hasDropdown = isHeader && cell.dropdown !== false;\n        const dropdown = hasDropdown ? this.columnmanager.getDropdownHTML() : '';\n\n        let customFormatter = CellManager.getCustomCellFormatter(cell);\n        let contentHTML;\n        if (isHeader || isFilter || !customFormatter) {\n            contentHTML = cell.content;\n        } else {\n            if (!cell.html || refreshHtml) {\n                const row = this.datamanager.getRow(cell.rowIndex);\n                const data = this.datamanager.getData(cell.rowIndex);\n                contentHTML = customFormatter(cell.content, row, cell.column, data);\n            } else {\n                contentHTML = cell.html;\n            }\n        }\n\n        cell.html = contentHTML;\n\n        if (this.options.treeView && !(isHeader || isFilter) && cell.indent !== undefined) {\n            const nextRow = this.datamanager.getRow(cell.rowIndex + 1);\n            const addToggle = nextRow && nextRow.meta.indent > cell.indent;\n            const leftPadding = 20;\n            const unit = 'px';\n\n            // Add toggle and indent in the first column\n            const firstColumnIndex = this.datamanager.getColumnIndexById('_rowIndex') + 1;\n            if (firstColumnIndex === cell.colIndex) {\n                const padding = ((cell.indent || 0)) * leftPadding;\n                const toggleHTML = addToggle ?\n                    `<span class=\"dt-tree-node__toggle\" style=\"left: ${padding - leftPadding}${unit}\">\n                        <span class=\"icon-open\">${icons.chevronDown}</span>\n                        <span class=\"icon-close\">${icons.chevronRight}</span>\n                    </span>` : '';\n                contentHTML = `<span class=\"dt-tree-node\" style=\"padding-left: ${padding}${unit}\">\n                    ${toggleHTML}\n                    <span>${contentHTML}</span>\n                </span>`;\n            }\n        }\n\n        const className = [\n            'dt-cell__content',\n            isHeader ? `dt-cell__content--header-${colIndex}` : `dt-cell__content--col-${colIndex}`\n        ].join(' ');\n\n        let cellContentHTML = `\n            <div class=\"${className}\">\n                ${contentHTML}\n                ${sortIndicator}\n                ${resizeColumn}\n                ${dropdown}\n            </div>\n            ${editCellHTML}\n        `;\n\n        let div = document.createElement('div');\n        div.innerHTML = contentHTML;\n\n        let textContent = div.textContent;\n        textContent = textContent.replace(/\\s+/g, ' ').trim();\n\n        cellContentHTML = cellContentHTML.replace('>', ` title=\"${escapeHTML(textContent)}\">`);\n\n        return cellContentHTML;\n    }\n\n    getEditCellHTML(colIndex) {\n        return `<div class=\"dt-cell__edit dt-cell__edit--col-${colIndex}\"></div>`;\n    }\n\n    selector(colIndex, rowIndex) {\n        return `.dt-cell--${colIndex}-${rowIndex}`;\n    }\n\n    static getCustomCellFormatter(cell) {\n        return cell.format || (cell.column && cell.column.format) || null;\n    }\n}\n\nclass ColumnManager {\n    constructor(instance) {\n        this.instance = instance;\n\n        linkProperties(this, this.instance, [\n            'options',\n            'fireEvent',\n            'header',\n            'datamanager',\n            'cellmanager',\n            'style',\n            'wrapper',\n            'rowmanager',\n            'bodyScrollable',\n            'bodyRenderer'\n        ]);\n\n        this.bindEvents();\n    }\n\n    renderHeader() {\n        this.header.innerHTML = '<div></div>';\n        this.refreshHeader();\n    }\n\n    refreshHeader() {\n        const columns = this.datamanager.getColumns();\n\n        // refresh html\n        $('div', this.header).innerHTML = this.getHeaderHTML(columns);\n\n        this.$filterRow = $('.dt-row-filter', this.header);\n        if (this.$filterRow) {\n            $.style(this.$filterRow, { display: 'none' });\n        }\n        // reset columnMap\n        this.$columnMap = [];\n        this.bindMoveColumn();\n    }\n\n    getHeaderHTML(columns) {\n        let html = this.rowmanager.getRowHTML(columns, {\n            isHeader: 1\n        });\n        if (this.options.inlineFilters) {\n            html += this.rowmanager.getRowHTML(columns, {\n                isFilter: 1\n            });\n        }\n        return html;\n    }\n\n    bindEvents() {\n        this.bindDropdown();\n        this.bindResizeColumn();\n        this.bindPerfectColumnWidth();\n        this.bindFilter();\n    }\n\n    bindDropdown() {\n        let toggleClass = '.dt-dropdown__toggle';\n        let dropdownClass = '.dt-dropdown__list';\n\n        // attach the dropdown list to container\n        this.instance.dropdownContainer.innerHTML = this.getDropdownListHTML();\n        this.$dropdownList = this.instance.dropdownContainer.firstElementChild;\n\n        $.on(this.header, 'click', toggleClass, e => {\n            this.openDropdown(e);\n        });\n\n        const deactivateDropdownOnBodyClick = (e) => {\n            const selector = [\n                toggleClass, toggleClass + ' *',\n                dropdownClass, dropdownClass + ' *'\n            ].join(',');\n            if (e.target.matches(selector)) return;\n            deactivateDropdown();\n        };\n        $.on(document.body, 'click', deactivateDropdownOnBodyClick);\n        document.addEventListener('scroll', deactivateDropdown, true);\n\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'click', deactivateDropdownOnBodyClick);\n            $.off(document, 'scroll', deactivateDropdown);\n        });\n\n        $.on(this.$dropdownList, 'click', '.dt-dropdown__list-item', (e, $item) => {\n            if (!this._dropdownActiveColIndex) return;\n            const dropdownItems = this.options.headerDropdown;\n            const { index } = $.data($item);\n            const colIndex = this._dropdownActiveColIndex;\n            let callback = dropdownItems[index].action;\n\n            callback && callback.call(this.instance, this.getColumn(colIndex));\n            this.hideDropdown();\n        });\n\n        const _this = this;\n        function deactivateDropdown(e) {\n            _this.hideDropdown();\n        }\n\n        this.hideDropdown();\n    }\n\n    openDropdown(e) {\n        if (!this._dropdownWidth) {\n            $.style(this.$dropdownList, { display: '' });\n            this._dropdownWidth = $.style(this.$dropdownList, 'width');\n        }\n        $.style(this.$dropdownList, {\n            display: '',\n            left: (e.clientX - this._dropdownWidth + 4) + 'px',\n            top: (e.clientY + 4) + 'px'\n        });\n        const $cell = $.closest('.dt-cell', e.target);\n        const { colIndex } = $.data($cell);\n        this._dropdownActiveColIndex = colIndex;\n    }\n\n    hideDropdown() {\n        $.style(this.$dropdownList, {\n            display: 'none'\n        });\n        this._dropdownActiveColIndex = null;\n    }\n\n    bindResizeColumn() {\n        let isDragging = false;\n        let $resizingCell, startWidth, startX;\n\n        $.on(this.header, 'mousedown', '.dt-cell .dt-cell__resize-handle', (e, $handle) => {\n            document.body.classList.add('dt-resize');\n            const $cell = $handle.parentNode.parentNode;\n            $resizingCell = $cell;\n            const {\n                colIndex\n            } = $.data($resizingCell);\n            const col = this.getColumn(colIndex);\n\n            if (col && col.resizable === false) {\n                return;\n            }\n\n            isDragging = true;\n            startWidth = $.style($('.dt-cell__content', $resizingCell), 'width');\n            startX = e.pageX;\n        });\n\n        const onMouseup = (e) => {\n            document.body.classList.remove('dt-resize');\n            if (!$resizingCell) return;\n            isDragging = false;\n\n            const {\n                colIndex\n            } = $.data($resizingCell);\n            this.setColumnWidth(colIndex);\n            this.style.setBodyStyle();\n            $resizingCell = null;\n        };\n        $.on(document.body, 'mouseup', onMouseup);\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'mouseup', onMouseup);\n        });\n\n        const onMouseMove = (e) => {\n            if (!isDragging) return;\n            let delta = e.pageX - startX;\n            if (this.options.direction === 'rtl') {\n                delta = -1 * delta;\n            }\n            const finalWidth = startWidth + delta;\n            const {\n                colIndex\n            } = $.data($resizingCell);\n\n            let columnMinWidth = this.options.minimumColumnWidth;\n            if (columnMinWidth > finalWidth) {\n                // don't resize past 30 pixels\n                return;\n            }\n            this.datamanager.updateColumn(colIndex, {\n                width: finalWidth\n            });\n            this.setColumnHeaderWidth(colIndex);\n        };\n        $.on(document.body, 'mousemove', onMouseMove);\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'mousemove', onMouseMove);\n        });\n    }\n\n    bindPerfectColumnWidth() {\n        $.on(this.header, 'dblclick', '.dt-cell .dt-cell__resize-handle', (e, $handle) => {\n            const $cell = $handle.parentNode.parentNode;\n            const { colIndex } = $.data($cell);\n\n            let longestCell = this.bodyRenderer.visibleRows\n                .map(d => d[colIndex])\n                .reduce((acc, curr) => acc.content.length > curr.content.length ? acc : curr);\n\n            let $longestCellHTML = this.cellmanager.getCellHTML(longestCell);\n            let $div = document.createElement('div');\n            $div.innerHTML = $longestCellHTML;\n            let cellText = $div.querySelector('.dt-cell__content').textContent;\n\n            let {\n                borderLeftWidth,\n                borderRightWidth,\n                paddingLeft,\n                paddingRight\n            } = $.getStyle(this.bodyScrollable.querySelector('.dt-cell__content'));\n\n            let padding = [borderLeftWidth, borderRightWidth, paddingLeft, paddingRight]\n                .map(parseFloat)\n                .reduce((sum, val) => sum + val);\n\n            let width = $.measureTextWidth(cellText) + padding;\n            this.datamanager.updateColumn(colIndex, { width });\n            this.setColumnHeaderWidth(colIndex);\n            this.setColumnWidth(colIndex);\n        });\n    }\n\n    bindMoveColumn() {\n        if (this.options.disableReorderColumn) return;\n\n        const $parent = $('.dt-row', this.header);\n\n        this.sortable = Sortable.create($parent, {\n            onEnd: (e) => {\n                const {\n                    oldIndex,\n                    newIndex\n                } = e;\n                const $draggedCell = e.item;\n                const {\n                    colIndex\n                } = $.data($draggedCell);\n                if (+colIndex === newIndex) return;\n\n                this.switchColumn(oldIndex, newIndex);\n            },\n            preventOnFilter: false,\n            filter: '.dt-cell__resize-handle, .dt-dropdown',\n            chosenClass: 'dt-cell--dragging',\n            animation: 150\n        });\n    }\n\n    sortColumn(colIndex, nextSortOrder) {\n        this.instance.freeze();\n        this.sortRows(colIndex, nextSortOrder)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => this.instance.unfreeze())\n            .then(() => {\n                this.fireEvent('onSortColumn', this.getColumn(colIndex));\n            });\n    }\n\n    removeColumn(colIndex) {\n        const removedCol = this.getColumn(colIndex);\n        this.instance.freeze();\n        this.datamanager.removeColumn(colIndex)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => this.instance.unfreeze())\n            .then(() => {\n                this.fireEvent('onRemoveColumn', removedCol);\n            });\n    }\n\n    switchColumn(oldIndex, newIndex) {\n        this.instance.freeze();\n        this.datamanager.switchColumn(oldIndex, newIndex)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => {\n                this.setColumnWidth(oldIndex);\n                this.setColumnWidth(newIndex);\n                this.instance.unfreeze();\n            })\n            .then(() => {\n                this.fireEvent('onSwitchColumn',\n                    this.getColumn(oldIndex), this.getColumn(newIndex)\n                );\n            });\n    }\n\n    toggleFilter(flag) {\n        if (!this.options.inlineFilters) return;\n\n        let showFilter;\n        if (flag === undefined) {\n            showFilter = !this.isFilterShown;\n        } else {\n            showFilter = flag;\n        }\n\n        if (showFilter) {\n            $.style(this.$filterRow, { display: '' });\n        } else {\n            $.style(this.$filterRow, { display: 'none' });\n        }\n\n        this.isFilterShown = showFilter;\n        this.style.setBodyStyle();\n    }\n\n    focusFilter(colIndex) {\n        if (!this.isFilterShown) return;\n\n        const $filterInput = $(`.dt-cell--col-${colIndex} .dt-filter`, this.$filterRow);\n        $filterInput.focus();\n    }\n\n    bindFilter() {\n        if (!this.options.inlineFilters) return;\n        const handler = e => {\n            this.applyFilter(this.getAppliedFilters());\n        };\n        $.on(this.header, 'keydown', '.dt-filter', debounce$1(handler, 300));\n    }\n\n    applyFilter(filters) {\n        this.datamanager.filterRows(filters)\n            .then(({\n                rowsToShow\n            }) => {\n                this.rowmanager.showRows(rowsToShow);\n            });\n    }\n\n    getAppliedFilters() {\n        const filters = {};\n        $.each('.dt-filter', this.header).map((input) => {\n            const value = input.value;\n            if (value) {\n                filters[input.dataset.colIndex] = value;\n            }\n        });\n        return filters;\n    }\n\n    applyDefaultSortOrder() {\n        // sort rows if any 1 column has a default sortOrder set\n        const columnsToSort = this.getColumns().filter(col => col.sortOrder !== 'none');\n\n        if (columnsToSort.length === 1) {\n            const column = columnsToSort[0];\n            this.sortColumn(column.colIndex, column.sortOrder);\n        }\n    }\n\n    sortRows(colIndex, sortOrder) {\n        return this.datamanager.sortRows(colIndex, sortOrder);\n    }\n\n    getColumn(colIndex) {\n        return this.datamanager.getColumn(colIndex);\n    }\n\n    getColumns() {\n        return this.datamanager.getColumns();\n    }\n\n    setColumnWidth(colIndex, width) {\n        colIndex = +colIndex;\n\n        let columnWidth = width || this.getColumn(colIndex).width;\n\n        const selector = [\n            `.dt-cell__content--col-${colIndex}`,\n            `.dt-cell__edit--col-${colIndex}`\n        ].join(', ');\n\n        const styles = {\n            width: columnWidth + 'px'\n        };\n\n        this.style.setStyle(selector, styles);\n    }\n\n    setColumnHeaderWidth(colIndex) {\n        colIndex = +colIndex;\n        this.$columnMap = this.$columnMap || [];\n        const selector = `.dt-cell__content--header-${colIndex}`;\n        const {\n            width\n        } = this.getColumn(colIndex);\n\n        let $column = this.$columnMap[colIndex];\n        if (!$column) {\n            $column = this.header.querySelector(selector);\n            this.$columnMap[colIndex] = $column;\n        }\n\n        $column.style.width = width + 'px';\n    }\n\n    getColumnMinWidth(colIndex) {\n        colIndex = +colIndex;\n        return this.getColumn(colIndex).minWidth || 24;\n    }\n\n    getFirstColumnIndex() {\n        return this.datamanager.getColumnIndexById('_rowIndex') + 1;\n    }\n\n    getHeaderCell$(colIndex) {\n        return $(`.dt-cell--header-${colIndex}`, this.header);\n    }\n\n    getLastColumnIndex() {\n        return this.datamanager.getColumnCount() - 1;\n    }\n\n    getDropdownHTML() {\n        const { dropdownButton } = this.options;\n\n        return `\n            <div class=\"dt-dropdown\">\n                <div class=\"dt-dropdown__toggle\">${dropdownButton}</div>\n            </div>\n      `;\n    }\n\n    getDropdownListHTML() {\n        const { headerDropdown: dropdownItems } = this.options;\n\n        return `\n            <div class=\"dt-dropdown__list\">\n            ${dropdownItems.map((d, i) => `\n                <div class=\"dt-dropdown__list-item\" data-index=\"${i}\">${d.label}</div>\n            `).join('')}\n            </div>\n        `;\n    }\n}\n\nclass RowManager {\n    constructor(instance) {\n        this.instance = instance;\n        linkProperties(this, this.instance, [\n            'options',\n            'fireEvent',\n            'wrapper',\n            'bodyScrollable',\n            'bodyRenderer',\n            'style'\n        ]);\n\n        this.bindEvents();\n        this.refreshRows = nextTick(this.refreshRows, this);\n    }\n\n    get datamanager() {\n        return this.instance.datamanager;\n    }\n\n    get cellmanager() {\n        return this.instance.cellmanager;\n    }\n\n    bindEvents() {\n        this.bindCheckbox();\n    }\n\n    bindCheckbox() {\n        if (!this.options.checkboxColumn) return;\n\n        // map of checked rows\n        this.checkMap = [];\n\n        $.on(this.wrapper, 'click', '.dt-cell--col-0 [type=\"checkbox\"]', (e, $checkbox) => {\n            const $cell = $checkbox.closest('.dt-cell');\n            const {\n                rowIndex,\n                isHeader\n            } = $.data($cell);\n            const checked = $checkbox.checked;\n\n            if (isHeader) {\n                this.checkAll(checked);\n            } else {\n                this.checkRow(rowIndex, checked);\n            }\n        });\n    }\n\n    refreshRows() {\n        this.instance.renderBody();\n        this.instance.setDimensions();\n    }\n\n    refreshRow(row, rowIndex) {\n        const _row = this.datamanager.updateRow(row, rowIndex);\n\n        _row.forEach(cell => {\n            this.cellmanager.refreshCell(cell, true);\n        });\n    }\n\n    getCheckedRows() {\n        if (!this.checkMap) {\n            return [];\n        }\n\n        let out = [];\n        for (let rowIndex in this.checkMap) {\n            const checked = this.checkMap[rowIndex];\n            if (checked === 1) {\n                out.push(rowIndex);\n            }\n        }\n\n        return out;\n    }\n\n    highlightCheckedRows() {\n        this.getCheckedRows()\n            .map(rowIndex => this.checkRow(rowIndex, true));\n    }\n\n    checkRow(rowIndex, toggle) {\n        const value = toggle ? 1 : 0;\n        const selector = rowIndex => `.dt-cell--0-${rowIndex} [type=\"checkbox\"]`;\n        // update internal map\n        this.checkMap[rowIndex] = value;\n        // set checkbox value explicitly\n        $.each(selector(rowIndex), this.bodyScrollable)\n            .map(input => {\n                input.checked = toggle;\n            });\n        // highlight row\n        this.highlightRow(rowIndex, toggle);\n        this.showCheckStatus();\n        this.fireEvent('onCheckRow', this.datamanager.getRow(rowIndex));\n    }\n\n    checkAll(toggle) {\n        const value = toggle ? 1 : 0;\n\n        // update internal map\n        if (toggle) {\n            if (this.datamanager._filteredRows) {\n                this.datamanager._filteredRows.forEach(f => {\n                    this.checkRow(f, toggle);\n                });\n            } else {\n                this.checkMap = Array.from(Array(this.getTotalRows())).map(c => value);\n            }\n        } else {\n            this.checkMap = [];\n        }\n        // set checkbox value\n        $.each('.dt-cell--col-0 [type=\"checkbox\"]', this.bodyScrollable)\n            .map(input => {\n                input.checked = toggle;\n            });\n        // highlight all\n        this.highlightAll(toggle);\n        this.showCheckStatus();\n        this.fireEvent('onCheckRow');\n    }\n\n    showCheckStatus() {\n        if (!this.options.checkedRowStatus) return;\n        const checkedRows = this.getCheckedRows();\n        const count = checkedRows.length;\n        if (count > 0) {\n            let message = this.instance.translate('{count} rows selected', {\n                count: count\n            });\n            this.bodyRenderer.showToastMessage(message);\n        } else {\n            this.bodyRenderer.clearToastMessage();\n        }\n    }\n\n    highlightRow(rowIndex, toggle = true) {\n        const $row = this.getRow$(rowIndex);\n        if (!$row) return;\n\n        if (!toggle && this.bodyScrollable.classList.contains('dt-scrollable--highlight-all')) {\n            $row.classList.add('dt-row--unhighlight');\n            return;\n        }\n\n        if (toggle && $row.classList.contains('dt-row--unhighlight')) {\n            $row.classList.remove('dt-row--unhighlight');\n        }\n\n        this._highlightedRows = this._highlightedRows || {};\n\n        if (toggle) {\n            $row.classList.add('dt-row--highlight');\n            this._highlightedRows[rowIndex] = $row;\n        } else {\n            $row.classList.remove('dt-row--highlight');\n            delete this._highlightedRows[rowIndex];\n        }\n    }\n\n    highlightAll(toggle = true) {\n        if (toggle) {\n            this.bodyScrollable.classList.add('dt-scrollable--highlight-all');\n        } else {\n            this.bodyScrollable.classList.remove('dt-scrollable--highlight-all');\n            for (const rowIndex in this._highlightedRows) {\n                const $row = this._highlightedRows[rowIndex];\n                $row.classList.remove('dt-row--highlight');\n            }\n            this._highlightedRows = {};\n        }\n    }\n\n    showRows(rowIndices) {\n        rowIndices = ensureArray(rowIndices);\n        const rows = rowIndices.map(rowIndex => this.datamanager.getRow(rowIndex));\n        this.bodyRenderer.renderRows(rows);\n    }\n\n    showAllRows() {\n        const rowIndices = this.datamanager.getAllRowIndices();\n        this.showRows(rowIndices);\n    }\n\n    getChildrenToShowForNode(rowIndex) {\n        const row = this.datamanager.getRow(rowIndex);\n        row.meta.isTreeNodeClose = false;\n\n        return this.datamanager.getImmediateChildren(rowIndex);\n    }\n\n    openSingleNode(rowIndex) {\n        const childrenToShow = this.getChildrenToShowForNode(rowIndex);\n        const visibleRowIndices = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = uniq$1([...childrenToShow, ...visibleRowIndices]).sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    getChildrenToHideForNode(rowIndex) {\n        const row = this.datamanager.getRow(rowIndex);\n        row.meta.isTreeNodeClose = true;\n\n        const rowsToHide = this.datamanager.getChildren(rowIndex);\n        rowsToHide.forEach(rowIndex => {\n            const row = this.datamanager.getRow(rowIndex);\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = true;\n            }\n        });\n\n        return rowsToHide;\n    }\n\n    closeSingleNode(rowIndex) {\n        const rowsToHide = this.getChildrenToHideForNode(rowIndex);\n        const visibleRows = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = visibleRows\n            .filter(rowIndex => !rowsToHide.includes(rowIndex))\n            .sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    expandAllNodes() {\n        let rows = this.datamanager.getRows();\n        let rootNodes = rows.filter(row => !row.meta.isLeaf);\n\n        const childrenToShow = rootNodes.map(row => this.getChildrenToShowForNode(row.meta.rowIndex)).flat();\n        const visibleRowIndices = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = uniq$1([...childrenToShow, ...visibleRowIndices]).sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    collapseAllNodes() {\n        let rows = this.datamanager.getRows();\n        let rootNodes = rows.filter(row => row.meta.indent === 0);\n\n        const rowsToHide = rootNodes.map(row => this.getChildrenToHideForNode(row.meta.rowIndex)).flat();\n        const visibleRows = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = visibleRows\n            .filter(rowIndex => !rowsToHide.includes(rowIndex))\n            .sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    setTreeDepth(depth) {\n        let rows = this.datamanager.getRows();\n\n        const rowsToOpen = rows.filter(row => row.meta.indent < depth);\n        const rowsToClose = rows.filter(row => row.meta.indent >= depth);\n        const rowsToHide = rowsToClose.filter(row => row.meta.indent > depth);\n\n        rowsToClose.forEach(row => {\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = true;\n            }\n        });\n        rowsToOpen.forEach(row => {\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = false;\n            }\n        });\n\n        const rowsToShow = rows\n            .filter(row => !rowsToHide.includes(row))\n            .map(row => row.meta.rowIndex)\n            .sort(numberSortAsc);\n        this.showRows(rowsToShow);\n    }\n\n    getRow$(rowIndex) {\n        return $(this.selector(rowIndex), this.bodyScrollable);\n    }\n\n    getTotalRows() {\n        return this.datamanager.getRowCount();\n    }\n\n    getFirstRowIndex() {\n        return 0;\n    }\n\n    getLastRowIndex() {\n        return this.datamanager.getRowCount() - 1;\n    }\n\n    scrollToRow(rowIndex) {\n        rowIndex = +rowIndex;\n        this._lastScrollTo = this._lastScrollTo || 0;\n        const $row = this.getRow$(rowIndex);\n        if ($.inViewport($row, this.bodyScrollable)) return;\n\n        const {\n            height\n        } = $row.getBoundingClientRect();\n        const {\n            top,\n            bottom\n        } = this.bodyScrollable.getBoundingClientRect();\n        const rowsInView = Math.floor((bottom - top) / height);\n\n        let offset = 0;\n        if (rowIndex > this._lastScrollTo) {\n            offset = height * ((rowIndex + 1) - rowsInView);\n        } else {\n            offset = height * ((rowIndex + 1) - 1);\n        }\n\n        this._lastScrollTo = rowIndex;\n        $.scrollTop(this.bodyScrollable, offset);\n    }\n\n    getRowHTML(row, props) {\n        const dataAttr = makeDataAttributeString(props);\n        let rowIdentifier = props.rowIndex;\n\n        if (props.isFilter) {\n            row = row.map(cell => (Object.assign({}, cell, {\n                content: this.getFilterInput({\n                    colIndex: cell.colIndex,\n                    name: cell.name\n                }),\n                isFilter: 1,\n                isHeader: undefined,\n                editable: false\n            })));\n\n            rowIdentifier = 'filter';\n        }\n\n        if (props.isHeader) {\n            rowIdentifier = 'header';\n        }\n\n        return `\n            <div class=\"dt-row dt-row-${rowIdentifier}\" ${dataAttr}>\n                ${row.map(cell => this.cellmanager.getCellHTML(cell)).join('')}\n            </div>\n        `;\n    }\n\n    getFilterInput(props) {\n        let title = `title=\"Filter based on ${props.name || 'Index'}\"`;\n        const dataAttr = makeDataAttributeString(props);\n        return `<input class=\"dt-filter dt-input\" type=\"text\" ${dataAttr} tabindex=\"1\"\n            ${props.colIndex === 0 ? 'disabled' : title} />`;\n    }\n\n    selector(rowIndex) {\n        return `.dt-row-${rowIndex}`;\n    }\n}\n\nvar hyperlist = createCommonjsModule(function (module, exports) {\n(function(f){{module.exports=f();}})(function(){return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof commonjsRequire==\"function\"&&commonjsRequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r);}return n[o].exports}var i=typeof commonjsRequire==\"function\"&&commonjsRequire;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\n// Default configuration.\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultConfig = {\n  width: '100%',\n  height: '100%'\n};\n\n// Check for valid number.\nvar isNumber = function isNumber(input) {\n  return Number(input) === Number(input);\n};\n\n/**\n * Creates a HyperList instance that virtually scrolls very large amounts of\n * data effortlessly.\n */\n\nvar HyperList = function () {\n  _createClass(HyperList, null, [{\n    key: 'create',\n    value: function create(element, userProvidedConfig) {\n      return new HyperList(element, userProvidedConfig);\n    }\n\n    /**\n     * Merge given css style on an element\n     * @param {DOMElement} element\n     * @param {Object} style\n     */\n\n  }, {\n    key: 'mergeStyle',\n    value: function mergeStyle(element, style) {\n      for (var i in style) {\n        if (element.style[i] !== style[i]) {\n          element.style[i] = style[i];\n        }\n      }\n    }\n  }, {\n    key: 'getMaxBrowserHeight',\n    value: function getMaxBrowserHeight() {\n      // Create two elements, the wrapper is `1px` tall and is transparent and\n      // positioned at the top of the page. Inside that is an element that gets\n      // set to 1 billion pixels. Then reads the max height the browser can\n      // calculate.\n      var wrapper = document.createElement('div');\n      var fixture = document.createElement('div');\n\n      // As said above, these values get set to put the fixture elements into the\n      // right visual state.\n      HyperList.mergeStyle(wrapper, { position: 'absolute', height: '1px', opacity: 0 });\n      HyperList.mergeStyle(fixture, { height: '1e7px' });\n\n      // Add the fixture into the wrapper element.\n      wrapper.appendChild(fixture);\n\n      // Apply to the page, the values won't kick in unless this is attached.\n      document.body.appendChild(wrapper);\n\n      // Get the maximum element height in pixels.\n      var maxElementHeight = fixture.offsetHeight;\n\n      // Remove the element immediately after reading the value.\n      document.body.removeChild(wrapper);\n\n      return maxElementHeight;\n    }\n  }]);\n\n  function HyperList(element, userProvidedConfig) {\n    var _this = this;\n\n    _classCallCheck(this, HyperList);\n\n    this._config = {};\n    this._lastRepaint = null;\n    this._maxElementHeight = HyperList.getMaxBrowserHeight();\n\n    this.refresh(element, userProvidedConfig);\n\n    var config = this._config;\n\n    // Create internal render loop.\n    var render = function render() {\n      var scrollTop = _this._getScrollPosition();\n      var lastRepaint = _this._lastRepaint;\n\n      _this._renderAnimationFrame = window.requestAnimationFrame(render);\n\n      if (scrollTop === lastRepaint) {\n        return;\n      }\n\n      if (!lastRepaint || Math.abs(scrollTop - lastRepaint) > _this._averageHeight) {\n        var rendered = _this._renderChunk();\n\n        _this._lastRepaint = scrollTop;\n\n        if (rendered !== false && typeof config.afterRender === 'function') {\n          config.afterRender();\n        }\n      }\n    };\n\n    render();\n  }\n\n  _createClass(HyperList, [{\n    key: 'destroy',\n    value: function destroy() {\n      window.cancelAnimationFrame(this._renderAnimationFrame);\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh(element, userProvidedConfig) {\n      var _this2 = this;\n\n      Object.assign(this._config, defaultConfig, userProvidedConfig);\n\n      if (!element || element.nodeType !== 1) {\n        throw new Error('HyperList requires a valid DOM Node container');\n      }\n\n      this._element = element;\n\n      var config = this._config;\n\n      var scroller = this._scroller || config.scroller || document.createElement(config.scrollerTagName || 'tr');\n\n      // Default configuration option `useFragment` to `true`.\n      if (typeof config.useFragment !== 'boolean') {\n        this._config.useFragment = true;\n      }\n\n      if (!config.generate) {\n        throw new Error('Missing required `generate` function');\n      }\n\n      if (!isNumber(config.total)) {\n        throw new Error('Invalid required `total` value, expected number');\n      }\n\n      if (!Array.isArray(config.itemHeight) && !isNumber(config.itemHeight)) {\n        throw new Error('\\n        Invalid required `itemHeight` value, expected number or array\\n      '.trim());\n      } else if (isNumber(config.itemHeight)) {\n        this._itemHeights = Array(config.total).fill(config.itemHeight);\n      } else {\n        this._itemHeights = config.itemHeight;\n      }\n\n      // Width and height should be coerced to string representations. Either in\n      // `%` or `px`.\n      Object.keys(defaultConfig).filter(function (prop) {\n        return prop in config;\n      }).forEach(function (prop) {\n        var value = config[prop];\n        var isValueNumber = isNumber(value);\n        var isValuePercent = isValueNumber ? false : value.slice(-1) === '%';\n\n        if (value && typeof value !== 'string' && typeof value !== 'number') {\n          var msg = 'Invalid optional `' + prop + '`, expected string or number';\n          throw new Error(msg);\n        } else if (isValueNumber) {\n          config[prop] = value + 'px';\n        }\n\n        if (prop !== 'height') {\n          return;\n        }\n\n        // Compute the containerHeight as number\n        var numberValue = isValueNumber ? value : parseInt(value.replace(/px|%/, ''), 10);\n\n        if (isValuePercent) {\n          _this2._containerHeight = window.innerHeight * numberValue / 100;\n        } else {\n          _this2._containerHeight = isNumber(value) ? value : numberValue;\n        }\n      });\n\n      // Decorate the container element with styles that will match\n      // the user supplied configuration.\n      var elementStyle = {\n        width: '' + config.width,\n        height: '' + config.height,\n        overflow: 'auto',\n        position: 'relative'\n      };\n\n      HyperList.mergeStyle(element, elementStyle);\n\n      var scrollerHeight = config.itemHeight * config.total;\n      var maxElementHeight = this._maxElementHeight;\n\n      if (scrollerHeight > maxElementHeight) {\n        console.warn(['HyperList: The maximum element height', maxElementHeight + 'px has', 'been exceeded; please reduce your item height.'].join(' '));\n      }\n\n      var scrollerStyle = {\n        opacity: '0',\n        position: 'absolute',\n        width: '1px',\n        height: scrollerHeight + 'px'\n      };\n\n      HyperList.mergeStyle(scroller, scrollerStyle);\n\n      // Only append the scroller element once.\n      if (!this._scroller) {\n        element.appendChild(scroller);\n      }\n\n      // Set the scroller instance.\n      this._scroller = scroller;\n      this._scrollHeight = this._computeScrollHeight();\n\n      // Reuse the item positions if refreshed, otherwise set to empty array.\n      this._itemPositions = this._itemPositions || Array(config.total).fill(0);\n\n      // Each index in the array should represent the position in the DOM.\n      this._computePositions(0);\n\n      // Render after refreshing. Force render if we're calling refresh manually.\n      this._renderChunk(this._lastRepaint !== null);\n\n      if (typeof config.afterRender === 'function') {\n        config.afterRender();\n      }\n    }\n  }, {\n    key: '_getRow',\n    value: function _getRow(i) {\n      var config = this._config;\n      var item = config.generate(i);\n      var height = item.height;\n\n      if (height !== undefined && isNumber(height)) {\n        item = item.element;\n\n        // The height isn't the same as predicted, compute positions again\n        if (height !== this._itemHeights) {\n          this._itemHeights[i] = height;\n          this._computePositions(i);\n          this._scrollHeight = this._computeScrollHeight(i);\n        }\n      } else {\n        height = this._itemHeights[i];\n      }\n\n      if (!item || item.nodeType !== 1) {\n        throw new Error('Generator did not return a DOM Node for index: ' + i);\n      }\n\n      var oldClass = item.getAttribute('class') || '';\n      item.setAttribute('class', oldClass + ' ' + (config.rowClassName || 'vrow'));\n\n      var top = this._itemPositions[i];\n\n      HyperList.mergeStyle(item, {\n        position: 'absolute',\n        top: top + 'px'\n      });\n\n      return item;\n    }\n  }, {\n    key: '_getScrollPosition',\n    value: function _getScrollPosition() {\n      var config = this._config;\n\n      if (typeof config.overrideScrollPosition === 'function') {\n        return config.overrideScrollPosition();\n      }\n\n      return this._element.scrollTop;\n    }\n  }, {\n    key: '_renderChunk',\n    value: function _renderChunk(force) {\n      var config = this._config;\n      var element = this._element;\n      var scrollTop = this._getScrollPosition();\n      var total = config.total;\n\n      var from = config.reverse ? this._getReverseFrom(scrollTop) : this._getFrom(scrollTop) - 1;\n\n      if (from < 0 || from - this._screenItemsLen < 0) {\n        from = 0;\n      }\n\n      if (!force && this._lastFrom === from) {\n        return false;\n      }\n\n      this._lastFrom = from;\n\n      var to = from + this._cachedItemsLen;\n\n      if (to > total || to + this._cachedItemsLen > total) {\n        to = total;\n      }\n\n      // Append all the new rows in a document fragment that we will later append\n      // to the parent node\n      var fragment = config.useFragment ? document.createDocumentFragment() : []\n      // Sometimes you'll pass fake elements to this tool and Fragments require\n      // real elements.\n\n\n      // The element that forces the container to scroll.\n      ;var scroller = this._scroller;\n\n      // Keep the scroller in the list of children.\n      fragment[config.useFragment ? 'appendChild' : 'push'](scroller);\n\n      for (var i = from; i < to; i++) {\n        var row = this._getRow(i);\n\n        fragment[config.useFragment ? 'appendChild' : 'push'](row);\n      }\n\n      if (config.applyPatch) {\n        return config.applyPatch(element, fragment);\n      }\n\n      element.innerHTML = '';\n      element.appendChild(fragment);\n    }\n  }, {\n    key: '_computePositions',\n    value: function _computePositions() {\n      var from = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\n      var config = this._config;\n      var total = config.total;\n      var reverse = config.reverse;\n\n      if (from < 1 && !reverse) {\n        from = 1;\n      }\n\n      for (var i = from; i < total; i++) {\n        if (reverse) {\n          if (i === 0) {\n            this._itemPositions[0] = this._scrollHeight - this._itemHeights[0];\n          } else {\n            this._itemPositions[i] = this._itemPositions[i - 1] - this._itemHeights[i];\n          }\n        } else {\n          this._itemPositions[i] = this._itemHeights[i - 1] + this._itemPositions[i - 1];\n        }\n      }\n    }\n  }, {\n    key: '_computeScrollHeight',\n    value: function _computeScrollHeight() {\n      var _this3 = this;\n\n      var config = this._config;\n      var total = config.total;\n      var scrollHeight = this._itemHeights.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n\n      HyperList.mergeStyle(this._scroller, {\n        opacity: 0,\n        position: 'absolute',\n        width: '1px',\n        height: scrollHeight + 'px'\n      });\n\n      // Calculate the height median\n      var sortedItemHeights = this._itemHeights.slice(0).sort(function (a, b) {\n        return a - b;\n      });\n      var middle = Math.floor(total / 2);\n      var averageHeight = total % 2 === 0 ? (sortedItemHeights[middle] + sortedItemHeights[middle - 1]) / 2 : sortedItemHeights[middle];\n\n      var containerHeight = this._element.clientHeight ? this._element.clientHeight : this._containerHeight;\n      this._screenItemsLen = Math.ceil(containerHeight / averageHeight);\n      this._containerHeight = containerHeight;\n\n      // Cache 3 times the number of items that fit in the container viewport.\n      this._cachedItemsLen = Math.max(this._cachedItemsLen || 0, this._screenItemsLen * 3);\n      this._averageHeight = averageHeight;\n\n      if (config.reverse) {\n        window.requestAnimationFrame(function () {\n          _this3._element.scrollTop = scrollHeight;\n        });\n      }\n\n      return scrollHeight;\n    }\n  }, {\n    key: '_getFrom',\n    value: function _getFrom(scrollTop) {\n      var i = 0;\n\n      while (this._itemPositions[i] < scrollTop) {\n        i++;\n      }\n\n      return i;\n    }\n  }, {\n    key: '_getReverseFrom',\n    value: function _getReverseFrom(scrollTop) {\n      var i = this._config.total - 1;\n\n      while (i > 0 && this._itemPositions[i] < scrollTop + this._containerHeight) {\n        i--;\n      }\n\n      return i;\n    }\n  }]);\n\n  return HyperList;\n}();\n\nexports.default = HyperList;\nmodule.exports = exports['default'];\n\n},{}]},{},[1])(1)\n});\n});\n\nvar HyperList = unwrapExports(hyperlist);\n\nclass BodyRenderer {\n    constructor(instance) {\n        this.instance = instance;\n        this.options = instance.options;\n        this.datamanager = instance.datamanager;\n        this.rowmanager = instance.rowmanager;\n        this.cellmanager = instance.cellmanager;\n        this.bodyScrollable = instance.bodyScrollable;\n        this.footer = this.instance.footer;\n        this.log = instance.log;\n    }\n\n    renderRows(rows) {\n        this.visibleRows = rows;\n        this.visibleRowIndices = rows.map(row => row.meta.rowIndex);\n\n        if (rows.length === 0) {\n            this.bodyScrollable.innerHTML = this.getNoDataHTML();\n            return;\n        }\n\n        const rowViewOrder = this.datamanager.rowViewOrder.map(index => {\n            if (this.visibleRowIndices.includes(index)) {\n                return index;\n            }\n            return null;\n        }).filter(index => index !== null);\n\n        const computedStyle = getComputedStyle(this.bodyScrollable);\n\n        let config = {\n            width: computedStyle.width,\n            height: computedStyle.height,\n            itemHeight: this.options.cellHeight,\n            total: rows.length,\n            generate: (index) => {\n                const el = document.createElement('div');\n                const rowIndex = rowViewOrder[index];\n                const row = this.datamanager.getRow(rowIndex);\n                const rowHTML = this.rowmanager.getRowHTML(row, row.meta);\n                el.innerHTML = rowHTML;\n                return el.children[0];\n            },\n            afterRender: () => {\n                this.restoreState();\n            }\n        };\n\n        if (!this.hyperlist) {\n            this.hyperlist = new HyperList(this.bodyScrollable, config);\n        } else {\n            this.hyperlist.refresh(this.bodyScrollable, config);\n        }\n\n        this.renderFooter();\n    }\n\n    render() {\n        const rows = this.datamanager.getRowsForView();\n        this.renderRows(rows);\n        // setDimensions requires atleast 1 row to exist in dom\n        this.instance.setDimensions();\n    }\n\n    renderFooter() {\n        if (!this.options.showTotalRow) return;\n\n        const totalRow = this.getTotalRow();\n        let html = this.rowmanager.getRowHTML(totalRow, { isTotalRow: 1, rowIndex: 'totalRow' });\n\n        this.footer.innerHTML = html;\n    }\n\n    getTotalRow() {\n        const columns = this.datamanager.getColumns();\n        const totalRowTemplate = columns.map(col => {\n            let content = null;\n            if (['_rowIndex', '_checkbox'].includes(col.id)) {\n                content = '';\n            }\n            return {\n                content,\n                isTotalRow: 1,\n                colIndex: col.colIndex,\n                column: col\n            };\n        });\n\n        const totalRow = totalRowTemplate.map((cell, i) => {\n            if (cell.content === '') return cell;\n\n            if (this.options.hooks.columnTotal) {\n                const columnValues = this.visibleRows.map(row => row[i].content);\n                const result = this.options.hooks.columnTotal.call(this.instance, columnValues, cell);\n                if (result != null) {\n                    cell.content = result;\n                    return cell;\n                }\n            }\n\n            cell.content = this.visibleRows.reduce((acc, prevRow) => {\n                const prevCell = prevRow[i];\n                if (typeof prevCell.content === 'number') {\n                    if (acc == null) acc = 0;\n                    return acc + prevCell.content;\n                }\n                return acc;\n            }, cell.content);\n\n            return cell;\n        });\n\n        return totalRow;\n    }\n\n    restoreState() {\n        this.rowmanager.highlightCheckedRows();\n        this.cellmanager.selectAreaOnClusterChanged();\n        this.cellmanager.focusCellOnClusterChanged();\n    }\n\n    showToastMessage(message, hideAfter) {\n        this.instance.toastMessage.innerHTML = this.getToastMessageHTML(message);\n\n        if (hideAfter) {\n            setTimeout(() => {\n                this.clearToastMessage();\n            }, hideAfter * 1000);\n        }\n    }\n\n    clearToastMessage() {\n        this.instance.toastMessage.innerHTML = '';\n    }\n\n    getNoDataHTML() {\n        return `<div class=\"dt-scrollable__no-data\">${this.options.noDataMessage}</div>`;\n    }\n\n    getToastMessageHTML(message) {\n        return `<span class=\"dt-toast__message\">${message}</span>`;\n    }\n}\n\nclass Style {\n    constructor(instance) {\n        this.instance = instance;\n\n        linkProperties(this, this.instance, [\n            'options', 'datamanager', 'columnmanager',\n            'header', 'footer', 'bodyScrollable', 'datatableWrapper',\n            'getColumn', 'bodyRenderer'\n        ]);\n\n        this.scopeClass = 'dt-instance-' + instance.constructor.instances;\n        instance.datatableWrapper.classList.add(this.scopeClass);\n\n        const styleEl = document.createElement('style');\n        instance.wrapper.insertBefore(styleEl, instance.datatableWrapper);\n        this.styleEl = styleEl;\n\n        this.bindResizeWindow();\n        this.bindScrollHeader();\n    }\n\n    get stylesheet() {\n        return this.styleEl.sheet;\n    }\n\n    bindResizeWindow() {\n        this.onWindowResize = this.onWindowResize.bind(this);\n        this.onWindowResize = throttle$1(this.onWindowResize, 300);\n\n        if (this.options.layout === 'fluid') {\n            $.on(window, 'resize', this.onWindowResize);\n        }\n    }\n\n    bindScrollHeader() {\n        this._settingHeaderPosition = false;\n\n        $.on(this.bodyScrollable, 'scroll', (e) => {\n            if (this._settingHeaderPosition) return;\n\n            this._settingHeaderPosition = true;\n\n            requestAnimationFrame(() => {\n                const left = -e.target.scrollLeft;\n\n                $.style(this.header, {\n                    transform: `translateX(${left}px)`\n                });\n                $.style(this.footer, {\n                    transform: `translateX(${left}px)`\n                });\n                this._settingHeaderPosition = false;\n            });\n        });\n    }\n\n    onWindowResize() {\n        this.distributeRemainingWidth();\n        this.refreshColumnWidth();\n        this.setBodyStyle();\n    }\n\n    destroy() {\n        this.styleEl.remove();\n        $.off(window, 'resize', this.onWindowResize);\n    }\n\n    setStyle(selector, styleObject) {\n        if (selector.includes(',')) {\n            selector.split(',')\n                .map(s => s.trim())\n                .forEach(selector => {\n                    this.setStyle(selector, styleObject);\n                });\n            return;\n        }\n\n        selector = selector.trim();\n        if (!selector) return;\n\n        this._styleRulesMap = this._styleRulesMap || {};\n        const prefixedSelector = this._getPrefixedSelector(selector);\n\n        if (this._styleRulesMap[prefixedSelector]) {\n            this.removeStyle(selector);\n\n            // merge with old styleobject\n            styleObject = Object.assign({}, this._styleRulesMap[prefixedSelector], styleObject);\n        }\n\n        const styleString = this._getRuleString(styleObject);\n        const ruleString = `${prefixedSelector} { ${styleString} }`;\n\n        this._styleRulesMap[prefixedSelector] = styleObject;\n        this.stylesheet.insertRule(ruleString);\n    }\n\n    removeStyle(selector) {\n        if (selector.includes(',')) {\n            selector.split(',')\n                .map(s => s.trim())\n                .forEach(selector => {\n                    this.removeStyle(selector);\n                });\n            return;\n        }\n\n        selector = selector.trim();\n        if (!selector) return;\n\n        // find and remove\n        const prefixedSelector = this._getPrefixedSelector(selector);\n        const index = Array.from(this.stylesheet.cssRules)\n            .findIndex(rule => rule.selectorText === prefixedSelector);\n\n        if (index === -1) return;\n        this.stylesheet.deleteRule(index);\n    }\n\n    _getPrefixedSelector(selector) {\n        return `.${this.scopeClass} ${selector}`;\n    }\n\n    _getRuleString(styleObject) {\n        return Object.keys(styleObject)\n            .map(prop => {\n                let dashed = prop;\n                if (!prop.includes('-')) {\n                    dashed = camelCaseToDash(prop);\n                }\n                return `${dashed}:${styleObject[prop]};`;\n            })\n            .join('');\n    }\n\n    setDimensions() {\n        this.setCellHeight();\n        this.setupMinWidth();\n        this.setupNaturalColumnWidth();\n        this.setupColumnWidth();\n        this.distributeRemainingWidth();\n        this.setColumnStyle();\n        this.setBodyStyle();\n    }\n\n    setCellHeight() {\n        this.setStyle('.dt-cell', {\n            height: this.options.cellHeight + 'px'\n        });\n    }\n\n    setupMinWidth() {\n        $.each('.dt-cell--header', this.header).map(col => {\n            const { colIndex } = $.data(col);\n            const column = this.getColumn(colIndex);\n\n            if (!column.minWidth) {\n                const width = $.style($('.dt-cell__content', col), 'width');\n                // only set this once\n                column.minWidth = width;\n            }\n        });\n    }\n\n    setupNaturalColumnWidth() {\n        if (!$('.dt-row')) return;\n\n        $.each('.dt-row-header .dt-cell', this.header).map($headerCell => {\n            const { colIndex } = $.data($headerCell);\n            const column = this.datamanager.getColumn(colIndex);\n            let width = $.style($('.dt-cell__content', $headerCell), 'width');\n            if (typeof width === 'number' && width >= this.options.minimumColumnWidth) {\n                column.naturalWidth = width;\n            } else {\n                column.naturalWidth = this.options.minimumColumnWidth;\n            }\n        });\n\n        // set initial width as naturally calculated by table's first row\n        $.each('.dt-row-0 .dt-cell', this.bodyScrollable).map($cell => {\n            const {\n                colIndex\n            } = $.data($cell);\n            const column = this.datamanager.getColumn(colIndex);\n\n            let naturalWidth = $.style($('.dt-cell__content', $cell), 'width');\n\n            if (typeof naturalWidth === 'number' && naturalWidth >= column.naturalWidth) {\n                column.naturalWidth = naturalWidth;\n            } else {\n                column.naturalWidth = column.naturalWidth;\n            }\n        });\n    }\n\n    setupColumnWidth() {\n        if (this.options.layout === 'ratio') {\n            let totalWidth = $.style(this.datatableWrapper, 'width');\n\n            if (this.options.serialNoColumn) {\n                const rowIndexColumn = this.datamanager.getColumnById('_rowIndex');\n                totalWidth = totalWidth - rowIndexColumn.width - 1;\n            }\n\n            if (this.options.checkboxColumn) {\n                const rowIndexColumn = this.datamanager.getColumnById('_checkbox');\n                totalWidth = totalWidth - rowIndexColumn.width - 1;\n            }\n\n            const totalParts = this.datamanager.getColumns()\n                .map(column => {\n                    if (column.id === '_rowIndex' || column.id === '_checkbox') {\n                        return 0;\n                    }\n                    if (!column.width) {\n                        column.width = 1;\n                    }\n                    column.ratioWidth = parseInt(column.width, 10);\n                    return column.ratioWidth;\n                })\n                .reduce((a, c) => a + c);\n\n            const onePart = totalWidth / totalParts;\n\n            this.datamanager.getColumns()\n                .map(column => {\n                    if (column.id === '_rowIndex' || column.id === '_checkbox') return;\n                    column.width = Math.floor(onePart * column.ratioWidth) - 1;\n                });\n        } else {\n            this.datamanager.getColumns()\n                .map(column => {\n                    if (!column.width) {\n                        column.width = column.naturalWidth;\n                    }\n                    if (column.id === '_rowIndex') {\n                        column.width = this.getRowIndexColumnWidth();\n                    }\n                    if (column.width < this.options.minimumColumnWidth) {\n                        column.width = this.options.minimumColumnWidth;\n                    }\n                });\n        }\n    }\n\n    distributeRemainingWidth() {\n        if (this.options.layout !== 'fluid') return;\n\n        const wrapperWidth = $.style(this.instance.datatableWrapper, 'width');\n        let firstRow = $('.dt-row', this.bodyScrollable);\n        let firstRowWidth = wrapperWidth;\n        if (!firstRow) {\n            let headerRow = $('.dt-row', this.instance.header);\n            let cellWidths = Array.from(headerRow.children)\n                .map(cell => cell.offsetWidth);\n            firstRowWidth = cellWidths.reduce((sum, a) => sum + a, 0);\n        } else {\n            firstRowWidth = $.style(firstRow, 'width');\n        }\n        const resizableColumns = this.datamanager.getColumns().filter(col => col.resizable);\n        const deltaWidth = (wrapperWidth - firstRowWidth) / resizableColumns.length;\n\n        resizableColumns.map(col => {\n            const width = $.style(this.getColumnHeaderElement(col.colIndex), 'width');\n            let finalWidth = Math.floor(width + deltaWidth) - 2;\n\n            this.datamanager.updateColumn(col.colIndex, {\n                width: finalWidth\n            });\n        });\n    }\n\n    setColumnStyle() {\n        // align columns\n        this.datamanager.getColumns()\n            .map(column => {\n                // alignment\n                if (!column.align) {\n                    column.align = 'left';\n                }\n                if (!['left', 'center', 'right'].includes(column.align)) {\n                    column.align = 'left';\n                }\n                this.setStyle(`.dt-cell--col-${column.colIndex}`, {\n                    'text-align': column.align\n                });\n\n                // width\n                this.columnmanager.setColumnHeaderWidth(column.colIndex);\n                this.columnmanager.setColumnWidth(column.colIndex);\n            });\n    }\n\n    refreshColumnWidth() {\n        this.datamanager.getColumns()\n            .map(column => {\n                this.columnmanager.setColumnHeaderWidth(column.colIndex);\n                this.columnmanager.setColumnWidth(column.colIndex);\n            });\n    }\n\n    setBodyStyle() {\n        const bodyWidth = $.style(this.datatableWrapper, 'width');\n        const firstRow = $('.dt-row', this.bodyScrollable);\n        if (!firstRow) return;\n        const rowWidth = $.style(firstRow, 'width');\n\n        let width = bodyWidth > rowWidth ? rowWidth : bodyWidth;\n        $.style(this.bodyScrollable, {\n            width: width + 'px'\n        });\n\n        // remove the body height, so that it resets to it's original\n        $.removeStyle(this.bodyScrollable, 'height');\n\n        // when there are less rows than the container\n        // adapt the container height\n        let bodyHeight = $.getStyle(this.bodyScrollable, 'height');\n        const scrollHeight = (this.bodyRenderer.hyperlist || {})._scrollHeight || Infinity;\n        const hasHorizontalOverflow = $.hasHorizontalOverflow(this.bodyScrollable);\n\n        let height;\n\n        if (scrollHeight < bodyHeight) {\n            height = scrollHeight;\n\n            // account for scrollbar size when\n            // there is horizontal overflow\n            if (hasHorizontalOverflow) {\n                height += $.scrollbarSize();\n            }\n\n            $.style(this.bodyScrollable, {\n                height: height + 'px'\n            });\n        }\n\n        const verticalOverflow = this.bodyScrollable.scrollHeight - this.bodyScrollable.offsetHeight;\n        if (verticalOverflow < $.scrollbarSize()) {\n            // if verticalOverflow is less than scrollbar size\n            // then most likely scrollbar is causing the scroll\n            // which is not needed\n            $.style(this.bodyScrollable, {\n                overflowY: 'hidden'\n            });\n        }\n\n        if (this.options.layout === 'fluid') {\n            $.style(this.bodyScrollable, {\n                overflowX: 'hidden'\n            });\n        }\n    }\n\n    getColumnHeaderElement(colIndex) {\n        colIndex = +colIndex;\n        if (colIndex < 0) return null;\n        return $(`.dt-cell--col-${colIndex}`, this.header);\n    }\n\n    getRowIndexColumnWidth() {\n        const rowCount = this.datamanager.getRowCount();\n        const padding = 22;\n        return $.measureTextWidth(rowCount + '') + padding;\n    }\n}\n\nconst KEYCODES = {\n    13: 'enter',\n    91: 'meta',\n    16: 'shift',\n    17: 'ctrl',\n    18: 'alt',\n    37: 'left',\n    38: 'up',\n    39: 'right',\n    40: 'down',\n    9: 'tab',\n    27: 'esc',\n    67: 'c',\n    70: 'f',\n    86: 'v'\n};\n\nclass Keyboard {\n    constructor(element) {\n        this.listeners = {};\n        $.on(element, 'keydown', this.handler.bind(this));\n    }\n\n    handler(e) {\n        let key = KEYCODES[e.keyCode];\n\n        if (e.shiftKey && key !== 'shift') {\n            key = 'shift+' + key;\n        }\n\n        if ((e.ctrlKey && key !== 'ctrl') || (e.metaKey && key !== 'meta')) {\n            key = 'ctrl+' + key;\n        }\n\n        const listeners = this.listeners[key];\n\n        if (listeners && listeners.length > 0) {\n            for (let listener of listeners) {\n                const preventBubbling = listener(e);\n                if (preventBubbling === undefined || preventBubbling === true) {\n                    e.preventDefault();\n                }\n            }\n        }\n    }\n\n    on(key, listener) {\n        const keys = key.split(',').map(k => k.trim());\n\n        keys.map(key => {\n            this.listeners[key] = this.listeners[key] || [];\n            this.listeners[key].push(listener);\n        });\n    }\n}\n\nvar en = {\n\t\"Sort Ascending\": \"Sort Ascending\",\n\t\"Sort Descending\": \"Sort Descending\",\n\t\"Reset sorting\": \"Reset sorting\",\n\t\"Remove column\": \"Remove column\",\n\t\"No Data\": \"No Data\",\n\t\"{count} cells copied\": {\"1\":\"{count} cell copied\",\"default\":\"{count} cells copied\"},\n\t\"{count} rows selected\": {\"1\":\"{count} row selected\",\"default\":\"{count} rows selected\"}\n};\n\nvar de = {\n\t\"Sort Ascending\": \"Aufsteigend sortieren\",\n\t\"Sort Descending\": \"Absteigend sortieren\",\n\t\"Reset sorting\": \"Sortierung zur\u00FCcksetzen\",\n\t\"Remove column\": \"Spalte entfernen\",\n\t\"No Data\": \"Keine Daten\",\n\t\"{count} cells copied\": {\"1\":\"{count} Zelle kopiert\",\"default\":\"{count} Zellen kopiert\"},\n\t\"{count} rows selected\": {\"1\":\"{count} Zeile ausgew\u00E4hlt\",\"default\":\"{count} Zeilen ausgew\u00E4hlt\"}\n};\n\nvar fr = {\n\t\"Sort Ascending\": \"Trier par ordre croissant\",\n\t\"Sort Descending\": \"Trier par ordre d\u00E9croissant\",\n\t\"Reset sorting\": \"R\u00E9initialiser le tri\",\n\t\"Remove column\": \"Supprimer colonne\",\n\t\"No Data\": \"Pas de donn\u00E9es\",\n\t\"{count} cells copied\": {\"1\":\"{count} cellule copi\u00E9e\",\"default\":\"{count} cellules copi\u00E9es\"},\n\t\"{count} rows selected\": {\"1\":\"{count} ligne s\u00E9lectionn\u00E9e\",\"default\":\"{count} lignes s\u00E9lectionn\u00E9es\"}\n};\n\nvar it = {\n\t\"Sort Ascending\": \"Ordinamento ascendente\",\n\t\"Sort Descending\": \"Ordinamento decrescente\",\n\t\"Reset sorting\": \"Azzeramento ordinamento\",\n\t\"Remove column\": \"Rimuovi colonna\",\n\t\"No Data\": \"Nessun dato\",\n\t\"{count} cells copied\": {\"1\":\"Copiato {count} cella\",\"default\":\"{count} celle copiate\"},\n\t\"{count} rows selected\": {\"1\":\"{count} linea selezionata\",\"default\":\"{count} linee selezionate\"}\n};\n\nfunction getTranslations() {\n    return {\n        en,\n        de,\n        fr,\n        it,\n    };\n}\n\nclass TranslationManager {\n    constructor(language) {\n        this.language = language;\n        this.translations = getTranslations();\n    }\n\n    addTranslations(translations) {\n        this.translations = Object.assign(this.translations, translations);\n    }\n\n    translate(sourceText, args) {\n        let translation = (this.translations[this.language] &&\n            this.translations[this.language][sourceText]) || sourceText;\n\n        if (typeof translation === 'object') {\n            translation = args && args.count ?\n                this.getPluralizedTranslation(translation, args.count) :\n                sourceText;\n        }\n\n        return format(translation, args || {});\n    }\n\n    getPluralizedTranslation(translations, count) {\n        return translations[count] || translations['default'];\n    }\n}\n\nfunction filterRows(rows, filters, data) {\n    let filteredRowIndices = [];\n\n    if (Object.keys(filters).length === 0) {\n        return rows.map(row => row.meta.rowIndex);\n    }\n\n    for (let colIndex in filters) {\n        const keyword = filters[colIndex];\n\n        const filteredRows = filteredRowIndices.length ?\n            filteredRowIndices.map(i => rows[i]) :\n            rows;\n\n        const cells = filteredRows.map(row => row[colIndex]);\n\n        let filter = guessFilter(keyword);\n        let filterMethod = getFilterMethod(rows, data, filter);\n\n        if (filterMethod) {\n            filteredRowIndices = filterMethod(filter.text, cells);\n        } else {\n            filteredRowIndices = cells.map(cell => cell.rowIndex);\n        }\n    }\n\n    return filteredRowIndices;\n}\nfunction getFilterMethod(rows, allData, filter) {\n    const getFormattedValue = cell => {\n        let formatter = CellManager.getCustomCellFormatter(cell);\n        let rowData = rows[cell.rowIndex];\n        if (allData && allData.data && allData.data.length) {\n            rowData = allData.data[cell.rowIndex];\n        }\n        if (formatter && cell.content) {\n            cell.html = formatter(cell.content, rows[cell.rowIndex], cell.column, rowData, filter);\n            return stripHTML(cell.html);\n        }\n        return cell.content || '';\n    };\n\n    const stringCompareValue = cell =>\n        String(stripHTML(cell.html || '') || getFormattedValue(cell)).toLowerCase();\n\n    const numberCompareValue = cell => parseFloat(cell.content);\n\n    const getCompareValues = (cell, keyword) => {\n        if (cell.column.compareValue) {\n            const compareValues = cell.column.compareValue(cell, keyword);\n            if (compareValues && Array.isArray(compareValues)) return compareValues;\n        }\n\n        // check if it can be converted to number\n        const float = numberCompareValue(cell);\n        if (!isNaN(float)) {\n            return [float, keyword];\n        }\n\n        return [stringCompareValue(cell), keyword];\n    };\n\n    let filterMethodMap = {\n        contains(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const hay = stringCompareValue(cell);\n                    const needle = (keyword || '').toLowerCase();\n                    return !needle || hay.includes(needle);\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        greaterThan(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const [compareValue, keywordValue] = getCompareValues(cell, keyword);\n                    return compareValue > keywordValue;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        lessThan(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const [compareValue, keywordValue] = getCompareValues(cell, keyword);\n                    return compareValue < keywordValue;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        equals(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const value = parseFloat(cell.content);\n                    return value === keyword;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        notEquals(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const value = parseFloat(cell.content);\n                    return value !== keyword;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        range(rangeValues, cells) {\n            return cells\n                .filter(cell => {\n                    const values1 = getCompareValues(cell, rangeValues[0]);\n                    const values2 = getCompareValues(cell, rangeValues[1]);\n                    const value = values1[0];\n                    return value >= values1[1] && value <= values2[1];\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        containsNumber(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    let number = parseFloat(keyword, 10);\n                    let string = keyword;\n                    let hayNumber = numberCompareValue(cell);\n                    let hayString = stringCompareValue(cell);\n\n                    return number === hayNumber || hayString.includes(string);\n                })\n                .map(cell => cell.rowIndex);\n        }\n    };\n\n    return filterMethodMap[filter.type];\n}\n\nfunction guessFilter(keyword = '') {\n    if (keyword.length === 0) return {};\n\n    let compareString = keyword;\n\n    if (['>', '<', '='].includes(compareString[0])) {\n        compareString = keyword.slice(1);\n    } else if (compareString.startsWith('!=')) {\n        compareString = keyword.slice(2);\n    }\n\n    if (keyword.startsWith('>')) {\n        if (compareString) {\n            return {\n                type: 'greaterThan',\n                text: compareString.trim()\n            };\n        }\n    }\n\n    if (keyword.startsWith('<')) {\n        if (compareString) {\n            return {\n                type: 'lessThan',\n                text: compareString.trim()\n            };\n        }\n    }\n\n    if (keyword.startsWith('=')) {\n        if (isNumber(compareString)) {\n            return {\n                type: 'equals',\n                text: Number(keyword.slice(1).trim())\n            };\n        }\n    }\n\n    if (isNumber(compareString)) {\n        return {\n            type: 'containsNumber',\n            text: compareString\n        };\n    }\n\n    if (keyword.startsWith('!=')) {\n        if (isNumber(compareString)) {\n            return {\n                type: 'notEquals',\n                text: Number(keyword.slice(2).trim())\n            };\n        }\n    }\n\n    if (keyword.split(':').length === 2 && keyword.split(':').every(v => isNumber(v.trim()))) {\n        compareString = keyword.split(':');\n        return {\n            type: 'range',\n            text: compareString.map(v => v.trim())\n        };\n    }\n\n    return {\n        type: 'contains',\n        text: compareString.toLowerCase()\n    };\n}\n\nfunction getDefaultOptions(instance) {\n    return {\n        columns: [],\n        data: [],\n        dropdownButton: icons.chevronDown,\n        headerDropdown: [\n            {\n                label: instance.translate('Sort Ascending'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'asc');\n                }\n            },\n            {\n                label: instance.translate('Sort Descending'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'desc');\n                }\n            },\n            {\n                label: instance.translate('Reset sorting'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'none');\n                }\n            },\n            {\n                label: instance.translate('Remove column'),\n                action: function (column) {\n                    this.removeColumn(column.colIndex);\n                }\n            }\n        ],\n        events: {\n            onRemoveColumn(column) {},\n            onSwitchColumn(column1, column2) {},\n            onSortColumn(column) {},\n            onCheckRow(row) {},\n            onDestroy() {}\n        },\n        hooks: {\n            columnTotal: null\n        },\n        sortIndicator: {\n            asc: '\u2191',\n            desc: '\u2193',\n            none: ''\n        },\n        overrideComponents: {\n            // ColumnManager: CustomColumnManager\n        },\n        filterRows: filterRows,\n        freezeMessage: '',\n        getEditor: null,\n        serialNoColumn: true,\n        checkboxColumn: false,\n        clusterize: true,\n        logs: false,\n        layout: 'fixed', // fixed, fluid, ratio\n        noDataMessage: instance.translate('No Data'),\n        cellHeight: 40,\n        minimumColumnWidth: 30,\n        inlineFilters: false,\n        treeView: false,\n        checkedRowStatus: true,\n        dynamicRowHeight: false,\n        pasteFromClipboard: false,\n        showTotalRow: false,\n        direction: 'ltr',\n        disableReorderColumn: false\n    };\n}\n\nlet defaultComponents = {\n    DataManager,\n    CellManager,\n    ColumnManager,\n    RowManager,\n    BodyRenderer,\n    Style,\n    Keyboard\n};\n\nclass DataTable {\n    constructor(wrapper, options) {\n        DataTable.instances++;\n\n        if (typeof wrapper === 'string') {\n            // css selector\n            wrapper = document.querySelector(wrapper);\n        }\n        this.wrapper = wrapper;\n        if (!(this.wrapper instanceof HTMLElement)) {\n            throw new Error('Invalid argument given for `wrapper`');\n        }\n\n        this.initializeTranslations(options);\n        this.setDefaultOptions();\n        this.buildOptions(options);\n        this.prepare();\n        this.initializeComponents();\n\n        if (this.options.data) {\n            this.refresh();\n            this.columnmanager.applyDefaultSortOrder();\n        }\n    }\n\n    initializeTranslations(options) {\n        this.language = options.language || 'en';\n        this.translationManager = new TranslationManager(this.language);\n\n        if (options.translations) {\n            this.translationManager.addTranslations(options.translations);\n        }\n    }\n\n    setDefaultOptions() {\n        this.DEFAULT_OPTIONS = getDefaultOptions(this);\n    }\n\n    buildOptions(options) {\n        this.options = this.options || {};\n\n        this.options = Object.assign(\n            {}, this.DEFAULT_OPTIONS,\n            this.options || {}, options\n        );\n\n        options.headerDropdown = options.headerDropdown || [];\n        this.options.headerDropdown = [\n            ...this.DEFAULT_OPTIONS.headerDropdown,\n            ...options.headerDropdown\n        ];\n\n        // custom user events\n        this.events = Object.assign(\n            {}, this.DEFAULT_OPTIONS.events,\n            this.options.events || {},\n            options.events || {}\n        );\n        this.fireEvent = this.fireEvent.bind(this);\n    }\n\n    prepare() {\n        this.prepareDom();\n        this.unfreeze();\n    }\n\n    initializeComponents() {\n        let components = Object.assign({}, defaultComponents, this.options.overrideComponents);\n        let {\n            Style: Style$$1,\n            Keyboard: Keyboard$$1,\n            DataManager: DataManager$$1,\n            RowManager: RowManager$$1,\n            ColumnManager: ColumnManager$$1,\n            CellManager: CellManager$$1,\n            BodyRenderer: BodyRenderer$$1\n        } = components;\n\n        this.style = new Style$$1(this);\n        this.keyboard = new Keyboard$$1(this.wrapper);\n        this.datamanager = new DataManager$$1(this.options);\n        this.rowmanager = new RowManager$$1(this);\n        this.columnmanager = new ColumnManager$$1(this);\n        this.cellmanager = new CellManager$$1(this);\n        this.bodyRenderer = new BodyRenderer$$1(this);\n    }\n\n    prepareDom() {\n        this.wrapper.innerHTML = `\n            <div class=\"datatable\" dir=\"${this.options.direction}\">\n                <div class=\"dt-header\"></div>\n                <div class=\"dt-scrollable\"></div>\n                <div class=\"dt-footer\"></div>\n                <div class=\"dt-freeze\">\n                    <span class=\"dt-freeze__message\">\n                        ${this.options.freezeMessage}\n                    </span>\n                </div>\n                <div class=\"dt-toast\"></div>\n                <div class=\"dt-dropdown-container\"></div>\n                <textarea class=\"dt-paste-target\"></textarea>\n            </div>\n        `;\n\n        this.datatableWrapper = $('.datatable', this.wrapper);\n        this.header = $('.dt-header', this.wrapper);\n        this.footer = $('.dt-footer', this.wrapper);\n        this.bodyScrollable = $('.dt-scrollable', this.wrapper);\n        this.freezeContainer = $('.dt-freeze', this.wrapper);\n        this.toastMessage = $('.dt-toast', this.wrapper);\n        this.pasteTarget = $('.dt-paste-target', this.wrapper);\n        this.dropdownContainer = $('.dt-dropdown-container', this.wrapper);\n    }\n\n    refresh(data, columns) {\n        this.datamanager.init(data, columns);\n        this.render();\n        this.setDimensions();\n    }\n\n    destroy() {\n        this.wrapper.innerHTML = '';\n        this.style.destroy();\n        this.fireEvent('onDestroy');\n    }\n\n    appendRows(rows) {\n        this.datamanager.appendRows(rows);\n        this.rowmanager.refreshRows();\n    }\n\n    refreshRow(row, rowIndex) {\n        this.rowmanager.refreshRow(row, rowIndex);\n    }\n\n    render() {\n        this.renderHeader();\n        this.renderBody();\n    }\n\n    renderHeader() {\n        this.columnmanager.renderHeader();\n    }\n\n    renderBody() {\n        this.bodyRenderer.render();\n    }\n\n    setDimensions() {\n        this.style.setDimensions();\n    }\n\n    showToastMessage(message, hideAfter) {\n        this.bodyRenderer.showToastMessage(message, hideAfter);\n    }\n\n    clearToastMessage() {\n        this.bodyRenderer.clearToastMessage();\n    }\n\n    getColumn(colIndex) {\n        return this.datamanager.getColumn(colIndex);\n    }\n\n    getColumns() {\n        return this.datamanager.getColumns();\n    }\n\n    getRows() {\n        return this.datamanager.getRows();\n    }\n\n    getCell(colIndex, rowIndex) {\n        return this.datamanager.getCell(colIndex, rowIndex);\n    }\n\n    getColumnHeaderElement(colIndex) {\n        return this.columnmanager.getColumnHeaderElement(colIndex);\n    }\n\n    getViewportHeight() {\n        if (!this.viewportHeight) {\n            this.viewportHeight = $.style(this.bodyScrollable, 'height');\n        }\n\n        return this.viewportHeight;\n    }\n\n    sortColumn(colIndex, sortOrder) {\n        this.columnmanager.sortColumn(colIndex, sortOrder);\n    }\n\n    removeColumn(colIndex) {\n        this.columnmanager.removeColumn(colIndex);\n    }\n\n    scrollToLastColumn() {\n        this.datatableWrapper.scrollLeft = 9999;\n    }\n\n    freeze() {\n        $.style(this.freezeContainer, {\n            display: ''\n        });\n    }\n\n    unfreeze() {\n        $.style(this.freezeContainer, {\n            display: 'none'\n        });\n    }\n\n    updateOptions(options) {\n        this.buildOptions(options);\n    }\n\n    fireEvent(eventName, ...args) {\n        // fire internalEventHandlers if any\n        // and then user events\n        const handlers = [\n            ...(this._internalEventHandlers[eventName] || []),\n            this.events[eventName]\n        ].filter(Boolean);\n\n        for (let handler of handlers) {\n            handler.apply(this, args);\n        }\n    }\n\n    on(event, handler) {\n        this._internalEventHandlers = this._internalEventHandlers || {};\n        this._internalEventHandlers[event] = this._internalEventHandlers[event] || [];\n        this._internalEventHandlers[event].push(handler);\n    }\n\n    log() {\n        if (this.options.logs) {\n            console.log.apply(console, arguments);\n        }\n    }\n\n    translate(str, args) {\n        return this.translationManager.translate(str, args);\n    }\n}\n\nDataTable.instances = 0;\n\nvar name = \"frappe-datatable\";\nvar version = \"0.0.0-development\";\nvar description = \"A modern datatable library for the web\";\nvar main = \"dist/frappe-datatable.cjs.js\";\nvar unpkg = \"dist/frappe-datatable.min.js\";\nvar jsdelivr = \"dist/frappe-datatable.min.js\";\nvar scripts = {\"start\":\"yarn run dev\",\"build\":\"rollup -c && NODE_ENV=production rollup -c\",\"dev\":\"rollup -c -w\",\"cy:server\":\"http-server -p 8989\",\"cy:open\":\"cypress open\",\"cy:run\":\"cypress run\",\"test\":\"start-server-and-test cy:server http://localhost:8989 cy:run\",\"test-local\":\"start-server-and-test cy:server http://localhost:8989 cy:open\",\"travis-deploy-once\":\"travis-deploy-once\",\"semantic-release\":\"semantic-release\",\"lint\":\"eslint src\",\"lint-and-build\":\"yarn lint && yarn build\",\"commit\":\"npx git-cz\"};\nvar files = [\"dist\",\"src\"];\nvar devDependencies = {\"autoprefixer\":\"^9.0.0\",\"chai\":\"3.5.0\",\"cypress\":\"^9.2.0\",\"cz-conventional-changelog\":\"^2.1.0\",\"deepmerge\":\"^2.0.1\",\"eslint\":\"^5.0.1\",\"eslint-config-airbnb\":\"^16.1.0\",\"eslint-config-airbnb-base\":\"^12.1.0\",\"eslint-plugin-import\":\"^2.11.0\",\"http-server\":\"^0.11.1\",\"mocha\":\"3.3.0\",\"postcss-custom-properties\":\"^7.0.0\",\"postcss-nested\":\"^3.0.0\",\"rollup\":\"^0.59.4\",\"rollup-plugin-commonjs\":\"^8.3.0\",\"rollup-plugin-eslint\":\"^4.0.0\",\"rollup-plugin-json\":\"^2.3.0\",\"rollup-plugin-node-resolve\":\"^3.0.3\",\"rollup-plugin-postcss\":\"^1.2.8\",\"rollup-plugin-uglify-es\":\"^0.0.1\",\"semantic-release\":\"^17.1.1\",\"start-server-and-test\":\"^1.4.1\",\"travis-deploy-once\":\"^5.0.1\"};\nvar repository = {\"type\":\"git\",\"url\":\"https://github.com/frappe/datatable.git\"};\nvar keywords = [\"datatable\",\"data\",\"grid\",\"table\"];\nvar author = \"Faris Ansari\";\nvar license = \"MIT\";\nvar bugs = {\"url\":\"https://github.com/frappe/datatable/issues\"};\nvar homepage = \"https://frappe.io/datatable\";\nvar dependencies = {\"hyperlist\":\"^1.0.0-beta\",\"lodash\":\"^4.17.5\",\"sortablejs\":\"^1.7.0\"};\nvar config = {\"commitizen\":{\"path\":\"cz-conventional-changelog\"}};\nvar packageJson = {\n\tname: name,\n\tversion: version,\n\tdescription: description,\n\tmain: main,\n\tunpkg: unpkg,\n\tjsdelivr: jsdelivr,\n\tscripts: scripts,\n\tfiles: files,\n\tdevDependencies: devDependencies,\n\trepository: repository,\n\tkeywords: keywords,\n\tauthor: author,\n\tlicense: license,\n\tbugs: bugs,\n\thomepage: homepage,\n\tdependencies: dependencies,\n\tconfig: config\n};\n\nDataTable.__version__ = packageJson.version;\n\nmodule.exports = DataTable;\n", "jQuery.event.special.touchstart = {\n\tsetup: function( _, ns, handle ){\n\t\tthis.addEventListener && this.addEventListener(\"touchstart\", handle, { passive: true });\t  \n\t}\n};\n\njQuery.event.special.touchend = {\n\tsetup: function( _, ns, handle ){\n\t\tthis.addEventListener && this.addEventListener(\"touchend\", handle, { passive: true });\n\t}\n};\n\njQuery.event.special.touchmove = {\n\tsetup: function( _, ns, handle ){\t  \n\t\tthis.addEventListener && this.addEventListener(\"touchmove\", handle, { passive: true });\n\t}\n};\n\n$(document).on('app_ready', function() {\n\tif (document.referrer.endsWith(\"/login\")) {\n\t\t// app ready after login, let's rumble\n\t\t//console.log(\"let's rumble\");\n\t\t// get persistent session settings\n\t\tfrappe.call({\n\t\t\t'method': \"erpnext_oob.utils.get_user_default\",\n\t\t\t'callback': function(response) {\n\t\t\t\tif (response.message) {\n\t\t\t\t\tresponse.message.forEach(function (setting) {\n\t\t\t\t\t\tvar key = setting.setting_key.toLowerCase().replaceAll(\" \", \"_\");\n\t\t\t\t\t\tfrappe.defaults.set_user_default_local(key, setting.setting_value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n$(document).bind('toolbar_setup', function() {\n\t// \u65E5\u671F\u9009\u62E9\u4E2D\u6587\n    //frappe.boot.user.language = frappe.boot.lang\n    // \u9690\u85CF/\u5220\u9664\u6240\u6709\u5E2E\u52A9\u6587\u6863\n    // $('.dropdown-help ul li:lt(6)').attr(\"style\",\"display:none;\")\n    // $('.dropdown-help ul li:lt(6)').remove()\n});\n\n\n\nfrappe.views.Calendar = class Calendar extends frappe.views.Calendar {\n    setup_options(defaults) {\n        super.setup_options(defaults);\n        if (this.cal_options.locale == 'zh') {\n            this.cal_options.locale = 'zh-cn'\n        }\n    }\n}\n\n\n// \u5217\u8868\u9F20\u6807\u60AC\u505C\u4E2D\u6587\u88AB\u8F6C\u7801 \u5176\u5B9E\u5C31\u6539\u4E86\u4E00\u884C\n// \u5B57\u6BB5\u503C\u90FD\u7FFB\u8BD1\u4E00\u4E0B\uFF0C\u4E0D\u6B62select\u7C7B\u578B\nvar MyListView = class MyListView extends frappe.views.ListView {\n    get_column_html(col, doc) {\n\t\tif (col.type === 'Status') {\n\t\t\treturn `\n\t\t\t\t<div class=\"list-row-col hidden-xs ellipsis\">\n\t\t\t\t\t${this.get_indicator_html(doc)}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\tconst df = col.df || {};\n\t\tconst label = df.label;\n\t\tconst fieldname = df.fieldname;\n\t\tconst value = doc[fieldname] || '';\n\n\t\tconst format = () => {\n\t\t\tif (df.fieldtype === 'Code') {\n\t\t\t\treturn value;\n\t\t\t} else if (df.fieldtype === 'Percent') {\n\t\t\t\treturn `<div class=\"progress level\" style=\"margin: 0px;\">\n\t\t\t\t\t\t<div class=\"progress-bar progress-bar-success\" role=\"progressbar\"\n\t\t\t\t\t\t\taria-valuenow=\"${value}\"\n\t\t\t\t\t\t\taria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: ${Math.round(value)}%;\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`;\n\t\t\t} else {\n\t\t\t\treturn frappe.format(value, df, null, doc);\n\t\t\t}\n\t\t};\n\n\t\tconst field_html = () => {\n\t\t\tlet html;\n\t\t\tlet _value;\n\t\t\t// listview_setting formatter\n\t\t\tif (this.settings.formatters && this.settings.formatters[fieldname]) {\n\t\t\t\t_value = this.settings.formatters[fieldname](value, df, doc);\n\t\t\t} else {\n\t\t\t\tlet strip_html_required = df.fieldtype == 'Text Editor'\n\t\t\t\t\t|| (df.fetch_from && ['Text', 'Small Text'].includes(df.fieldtype));\n\t\t\t\tif (strip_html_required) {\n\t\t\t\t\t_value = strip_html(value);\n\t\t\t\t} else {\n\t\t\t\t\t_value = typeof value === 'string' ? frappe.utils.escape_html(value) : value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (df.fieldtype === 'Image') {\n\t\t\t\thtml = df.options ?\n\t\t\t\t\t`<img src=\"${doc[df.options]}\" style=\"max-height: 30px; max-width: 100%;\">` :\n\t\t\t\t\t`<div class=\"missing-image small\">\n\t\t\t\t\t\t<span class=\"octicon octicon-circle-slash\"></span>\n\t\t\t\t\t</div>`;\n\t\t\t} else if (df.fieldtype === 'Select') {\n\t\t\t\thtml = `<span class=\"filterable indicator ${frappe.utils.guess_colour(_value)} ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${__(_value)}\n\t\t\t\t</span>`;\n\t\t\t} else if (df.fieldtype === 'Link') {\n\t\t\t\thtml = `<a class=\"filterable text-muted ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${__(_value)}\n\t\t\t\t</a>`;\n\t\t\t} else if (['Text Editor', 'Text', 'Small Text', 'HTML Editor'].includes(df.fieldtype)) {\n\t\t\t\thtml = `<span class=\"text-muted ellipsis\">\n\t\t\t\t\t${__(_value)}\n\t\t\t\t</span>`;\n\t\t\t} else {\n\t\t\t\thtml = `<a class=\"filterable text-muted ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${format()}\n\t\t\t\t</a>`;\n\t\t\t}\n\t\t\t// \u8FD9\u91CC\u7684escape(_value)\u6539\u6210__(_value)\n\t\t\treturn `<span class=\"ellipsis\"\n\t\t\t\ttitle=\"${__(label)}: ${__(_value)}\">\n\t\t\t\t${html}\n\t\t\t</span>`;\n\t\t};\n\n\t\tconst class_map = {\n\t\t\tSubject: 'list-subject level',\n\t\t\tField: 'hidden-xs'\n\t\t};\n\t\tconst css_class = [\n\t\t\t'list-row-col ellipsis',\n\t\t\tclass_map[col.type],\n\t\t\tfrappe.model.is_numeric_field(df) ? 'text-right' : ''\n\t\t].join(' ');\n\n\t\tconst html_map = {\n\t\t\tSubject: this.get_subject_html(doc),\n\t\t\tField: field_html()\n\t\t};\n\t\tconst column_html = html_map[col.type];\n\n\t\treturn `\n\t\t\t<div class=\"${css_class}\">\n\t\t\t\t${column_html}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tget_subject_html(doc) {\n\t\tlet user = frappe.session.user;\n\t\tlet subject_field = this.columns[0].df;\n\t\tlet value = doc[subject_field.fieldname] || doc.name;\n\t\tlet subject = strip_html(value.toString());\n\t\tlet escaped_subject = frappe.utils.escape_html(subject);\n\n\t\tconst liked_by = JSON.parse(doc._liked_by || '[]');\n\t\tlet heart_class = liked_by.includes(user) ?\n\t\t\t'liked-by' : 'text-extra-muted not-liked';\n\n\t\tconst seen = JSON.parse(doc._seen || '[]')\n\t\t\t.includes(user) ? '' : 'bold';\n\n\t\t// \u8FD9\u91CC\u7684\u6539\u6210title=\"xxxx\" \u548C${subject} \u90FD\u52A0\u4E0A\u4E86\u7FFB\u8BD1 __()\n\t\tlet subject_html = `\n\t\t\t<input class=\"level-item list-row-checkbox hidden-xs\" type=\"checkbox\" data-name=\"${escape(doc.name)}\">\n\t\t\t<span class=\"level-item\" style=\"margin-bottom: 1px;\">\n\t\t\t\t<i class=\"octicon octicon-heart like-action ${heart_class}\"\n\t\t\t\t\tdata-name=\"${doc.name}\" data-doctype=\"${this.doctype}\"\n\t\t\t\t\tdata-liked-by=\"${encodeURI(doc._liked_by) || '[]'}\"\n\t\t\t\t>\n\t\t\t\t</i>\n\t\t\t\t<span class=\"likes-count\">\n\t\t\t\t\t${ liked_by.length > 99 ? __(\"99\") + '+' : __(liked_by.length || '')}\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t<span class=\"level-item ${seen} ellipsis\" title=\"${__(escaped_subject)}\">\n\t\t\t\t<a class=\"ellipsis\" href=\"${this.get_form_link(doc)}\" title=\"${__(escaped_subject)}\" data-doctype=\"${this.doctype}\" data-name=\"${doc.name}\">\n\t\t\t\t${__(subject)}\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t`;\n\n\t\treturn subject_html;\n\t}\n}\n\n//frappe.views.ListView = MyListView\n\n//\u56E0\u7F51\u7EDC\u95EE\u9898\u5BFC\u81F4emoji\u65E0\u6CD5\u8FDC\u7A0B\u52A0\u8F7D\uFF0C\u6539\u6210\u52A0\u8F7D\u672C\u5730json\u6587\u4EF6\uFF0C\n// frappe.chat.emoji  = function (fn) {\n// \treturn new Promise(resolve => {\n// \t\tif ( !frappe._.is_empty(frappe.chat.emojis) ) {\n// \t\t\tif ( fn )\n// \t\t\t\tfn(frappe.chat.emojis);\n\n// \t\t\tresolve(frappe.chat.emojis)\n// \t\t}\n// \t\telse\n// \t\t\t$.get('/assets/erpnext_oob/js/lib/emoji.json', (data) => {\n// \t\t\t\tfrappe.chat.emojis = data;\n\n// \t\t\t\tif ( fn )\n// \t\t\t\t\tfn(frappe.chat.emojis);\n\n// \t\t\t\tresolve(frappe.chat.emojis)\n// \t\t\t})\n// \t})\n// }\n\n// frappe.untranslated = new Set()\n// let mytranslation = function(txt, replace, context = null) {\n// \tlet translated_text = frappe._(txt, replace, context = null);\n// \tif (txt === translated_text && ! frappe.untranslated.has(txt)) frappe.untranslated.add(txt)\n// \treturn translated_text\n// }\n\n// window.__ = mytranslation\n\n//fisher \u89E3\u51B3\u7CFB\u7EDF\u7BA1\u7406\u8D26\u53F7\u4E5F\u663E\u793A\u65E0\u6743\u9650\u67E5\u770B\u6253\u5370\u683C\u5F0F\u7684\u95EE\u9898\uFF0C\u56E0\u4E3A\u6743\u9650\u903B\u8F91\u4E2D\u5224\u65ADprint format\u5143\u6570\u636E\u662F\u5426\u5B58\u5728\nfrappe.model.with_doctype('Print Format')", "class WidgetDialog {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.editing = Boolean(this.values && Object.keys(this.values).length);\n\t}\n\n\tmake() {\n\t\tthis.make_dialog();\n\t\tthis.setup_dialog_events();\n\t\tthis.dialog.show();\n\n\t\twindow.cur_dialog = this.dialog;\n\t\tthis.editing && this.set_default_values();\n\t}\n\n\tmake_dialog() {\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: this.get_title(),\n\t\t\tfields: this.get_fields(),\n\t\t\tprimary_action: (data) => {\n\t\t\t\tdata = this.process_data(data);\n\n\t\t\t\tif (!this.editing && !data.name) {\n\t\t\t\t\tdata.name = `${this.type}-${this.label}-${frappe.utils.get_random(20)}`;\n\t\t\t\t}\n\n\t\t\t\tthis.dialog.hide();\n\t\t\t\tthis.primary_action(data);\n\t\t\t},\n\t\t\tprimary_action_label: this.primary_action_label || __(\"Add\"),\n\t\t});\n\t}\n\n\tget_title() {\n\t\t// DO NOT REMOVE: Comment to load translation\n\t\t// __(\"New Chart\") __(\"New Shortcut\") __(\"Edit Chart\") __(\"Edit Shortcut\")\n\n\t\tlet action = this.editing ? \"Edit\" : \"Add\";\n\t\tlet label = (action = action + \" \" + frappe.model.unscrub(this.type));\n\t\treturn __(label);\n\t}\n\n\tget_fields() {\n\t\t//\n\t}\n\n\tset_default_values() {\n\t\treturn this.dialog.set_values(this.values);\n\t}\n\n\tprocess_data(data) {\n\t\treturn data;\n\t}\n\n\tsetup_dialog_events() {\n\t\t//\n\t}\n\n\thide_field(fieldname) {\n\t\tthis.dialog.set_df_property(fieldname, \"hidden\", true);\n\t}\n\n\tshow_field(fieldname) {\n\t\tthis.dialog.set_df_property(fieldname, \"hidden\", false);\n\t}\n\n\tsetup_filter(doctype) {\n\t\tif (this.filter_group) {\n\t\t\tthis.filter_group.wrapper.empty();\n\t\t\tdelete this.filter_group;\n\t\t}\n\n\t\tlet $loading = this.dialog.get_field(\"filter_area_loading\").$wrapper;\n\t\t$(`<span class=\"text-muted\">${__(\"Loading Filters...\")}</span>`).appendTo($loading);\n\n\t\tthis.filters = [];\n\n\t\tthis.generate_filter_from_json && this.generate_filter_from_json();\n\n\t\tthis.filter_group = new frappe.ui.FilterGroup({\n\t\t\tparent: this.dialog.get_field(\"filter_area\").$wrapper,\n\t\t\tdoctype: doctype,\n\t\t\ton_change: () => {},\n\t\t});\n\n\t\tfrappe.model.with_doctype(doctype, () => {\n\t\t\tthis.filter_group.add_filters_to_filter_group(this.filters);\n\t\t\tthis.hide_field(\"filter_area_loading\");\n\t\t\tthis.show_field(\"filter_area\");\n\t\t});\n\t}\n}\n\nclass ChartDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"chart_name\",\n\t\t\t\tlabel: \"Chart Name\",\n\t\t\t\toptions: \"Dashboard Chart\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t];\n\t}\n\n\tprocess_data(data) {\n\t\tdata.label = data.label ? data.label : data.chart_name;\n\t\treturn data;\n\t}\n}\nclass QuickListDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"document_type\",\n\t\t\t\tlabel: \"DocType\",\n\t\t\t\toptions: \"DocType\",\n\t\t\t\treqd: 1,\n\t\t\t\tonchange: () => {\n\t\t\t\t\tthis.document_type = this.dialog.get_value(\"document_type\");\n\t\t\t\t\tthis.document_type && this.setup_filter(this.document_type);\n\t\t\t\t},\n\t\t\t\tget_query: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\tissingle: 0,\n\t\t\t\t\t\t\tistable: 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"column_break_4\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"filter_section\",\n\t\t\t\tlabel: __(\"Add Filters\"),\n\t\t\t\tdepends_on: \"eval: doc.document_type\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area_loading\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area\",\n\t\t\t},\n\t\t];\n\t}\n\n\tgenerate_filter_from_json() {\n\t\tif (this.values && this.values.quick_list_filter) {\n\t\t\tthis.filters = frappe.utils.get_filter_from_json(\n\t\t\t\tthis.values.quick_list_filter,\n\t\t\t\tthis.values.document_type\n\t\t\t);\n\t\t}\n\t}\n\n\tprocess_data(data) {\n\t\tif (this.filter_group) {\n\t\t\tlet filters = this.filter_group.get_filters();\n\t\t\tdata.quick_list_filter = JSON.stringify(filters);\n\t\t}\n\n\t\tdata.label = data.label ? data.label : data.document_type;\n\t\treturn data;\n\t}\n}\n\nclass OnboardingDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"onboarding_name\",\n\t\t\t\tlabel: \"Onboarding Name\",\n\t\t\t\toptions: \"Module Onboarding\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t];\n\t}\n}\n\nclass CardDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\tlet me = this;\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"links\",\n\t\t\t\tfieldtype: \"Table\",\n\t\t\t\tlabel: __(\"Card Links\"),\n\t\t\t\teditable_grid: 1,\n\t\t\t\tdata: me.values ? JSON.parse(me.values.links) : [],\n\t\t\t\tget_data: () => {\n\t\t\t\t\treturn me.values ? JSON.parse(me.values.links) : [];\n\t\t\t\t},\n\t\t\t\tfields: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"label\",\n\t\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\tlabel: \"Label\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"icon\",\n\t\t\t\t\t\tfieldtype: \"Icon\",\n\t\t\t\t\t\tlabel: \"Icon\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"link_type\",\n\t\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\tlabel: \"Link Type\",\n\t\t\t\t\t\treqd: 1,\n\t\t\t\t\t\toptions: [\"DocType\", \"Page\", \"Report\"],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"link_to\",\n\t\t\t\t\t\tfieldtype: \"Dynamic Link\",\n\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\tlabel: \"Link To\",\n\t\t\t\t\t\treqd: 1,\n\t\t\t\t\t\tget_options: (df) => {\n\t\t\t\t\t\t\treturn df.doc.link_type;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget_query: function (df) {\n\t\t\t\t\t\t\tif (df.link_type == \"DocType\") {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t\t\tistable: 0,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"column_break_7\",\n\t\t\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"dependencies\",\n\t\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t\t\tlabel: \"Dependencies\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"only_for\",\n\t\t\t\t\t\tfieldtype: \"Link\",\n\t\t\t\t\t\tlabel: \"Only for\",\n\t\t\t\t\t\toptions: \"Country\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \"0\",\n\t\t\t\t\t\tfieldname: \"onboard\",\n\t\t\t\t\t\tfieldtype: \"Check\",\n\t\t\t\t\t\tlabel: \"Onboard\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \"0\",\n\t\t\t\t\t\tfieldname: \"is_query_report\",\n\t\t\t\t\t\tfieldtype: \"Check\",\n\t\t\t\t\t\tlabel: \"Is Query Report\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t];\n\t}\n\n\tprocess_data(data) {\n\t\tlet message = \"\";\n\n\t\tif (!data.links) {\n\t\t\tmessage = __(\"You must add atleast one link.\");\n\t\t} else {\n\t\t\tdata.links.map((item, idx) => {\n\t\t\t\tlet row = idx + 1;\n\n\t\t\t\tif (!item.link_type) {\n\t\t\t\t\tmessage = __(\"Following fields have missing values\") + \": <br><br><ul>\";\n\t\t\t\t\tmessage += `<li>${__(\"Link Type in Row\")} ${row}</li>`;\n\t\t\t\t}\n\n\t\t\t\tif (!item.link_to) {\n\t\t\t\t\tmessage += `<li>${__(\"Link To in Row\")} ${row}</li>`;\n\t\t\t\t}\n\n\t\t\t\titem.label = item.label ? item.label : item.link_to;\n\t\t\t});\n\t\t}\n\n\t\tif (message) {\n\t\t\tmessage += \"</ul>\";\n\t\t\tfrappe.throw({\n\t\t\t\tmessage: __(message),\n\t\t\t\ttitle: __(\"Missing Values Required\"),\n\t\t\t\tindicator: \"orange\",\n\t\t\t});\n\t\t}\n\n\t\tdata.label = data.label ? data.label : data.chart_name;\n\t\treturn data;\n\t}\n}\n\nclass ShortcutDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\thide_filters() {\n\t\tthis.hide_field(\"count_section_break\");\n\t\tthis.hide_field(\"filters_section_break\");\n\t}\n\n\tshow_filters() {\n\t\tthis.show_field(\"count_section_break\");\n\t\tthis.show_field(\"filters_section_break\");\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"type\",\n\t\t\t\tlabel: \"Type\",\n\t\t\t\treqd: 1,\n\t\t\t\toptions: \"DocType\\nReport\\nPage\\nDashboard\\nURL\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tif (this.dialog.get_value(\"type\") == \"DocType\") {\n\t\t\t\t\t\tthis.dialog.fields_dict.link_to.get_query = () => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tquery: \"frappe.core.report.permitted_documents_for_user.permitted_documents_for_user.query_doctypes\",\n\t\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t\tuser: frappe.session.user,\n\t\t\t\t\t\t\t\t\tinclude_single_doctypes: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.dialog.fields_dict.link_to.get_query = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"column_break_4\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Dynamic Link\",\n\t\t\t\tfieldname: \"link_to\",\n\t\t\t\tlabel: \"Link To\",\n\t\t\t\toptions: \"type\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tconst doctype = this.dialog.get_value(\"link_to\");\n\t\t\t\t\tif (doctype && this.dialog.get_value(\"type\") == \"DocType\") {\n\t\t\t\t\t\tfrappe.model.with_doctype(doctype, async () => {\n\t\t\t\t\t\t\tlet meta = frappe.get_meta(doctype);\n\n\t\t\t\t\t\t\tif (doctype && frappe.boot.single_types.includes(doctype)) {\n\t\t\t\t\t\t\t\tthis.hide_filters();\n\t\t\t\t\t\t\t} else if (doctype) {\n\t\t\t\t\t\t\t\tthis.setup_filter(doctype);\n\t\t\t\t\t\t\t\tthis.show_filters();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst views = [\"List\", \"Report Builder\", \"Dashboard\", \"New\"];\n\t\t\t\t\t\t\tif (meta.is_tree === 1) views.push(\"Tree\");\n\t\t\t\t\t\t\tif (frappe.boot.calendars.includes(doctype)) views.push(\"Calendar\");\n\n\t\t\t\t\t\t\tconst response = await frappe.db.get_value(\n\t\t\t\t\t\t\t\t\"Kanban Board\",\n\t\t\t\t\t\t\t\t{ reference_doctype: doctype },\n\t\t\t\t\t\t\t\t\"name\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (response?.message?.name) views.push(\"Kanban\");\n\n\t\t\t\t\t\t\tthis.dialog.set_df_property(\"doc_view\", \"options\", views.join(\"\\n\"));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.hide_filters();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdepends_on: (s) => s.type != \"URL\",\n\t\t\t\tmandatory_depends_on: (s) => s.type != \"URL\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"url\",\n\t\t\t\tlabel: \"URL\",\n\t\t\t\tdefault: \"\",\n\t\t\t\tdepends_on: (s) => s.type == \"URL\",\n\t\t\t\tmandatory_depends_on: (s) => s.type == \"URL\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"doc_view\",\n\t\t\t\tlabel: \"DocType View\",\n\t\t\t\toptions: \"List\\nReport Builder\\nDashboard\\nTree\\nNew\\nCalendar\\nKanban\",\n\t\t\t\tdescription: __(\n\t\t\t\t\t\"Which view of the associated DocType should this shortcut take you to?\"\n\t\t\t\t),\n\t\t\t\tdefault: \"List\",\n\t\t\t\tdepends_on: (state) => {\n\t\t\t\t\tif (this.dialog) {\n\t\t\t\t\t\tlet doctype = this.dialog.get_value(\"link_to\");\n\t\t\t\t\t\tlet is_single = frappe.boot.single_types.includes(doctype);\n\t\t\t\t\t\treturn doctype && state.type == \"DocType\" && !is_single;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tonchange: () => {\n\t\t\t\t\tif (this.dialog.get_value(\"doc_view\") == \"Kanban\") {\n\t\t\t\t\t\tthis.dialog.fields_dict.kanban_board.get_query = () => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t\treference_doctype: this.dialog.get_value(\"link_to\"),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.dialog.fields_dict.link_to.get_query = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"kanban_board\",\n\t\t\t\tlabel: \"Kanban Board\",\n\t\t\t\toptions: \"Kanban Board\",\n\t\t\t\tdepends_on: () => {\n\t\t\t\t\tlet doc_view = this.dialog?.get_value(\"doc_view\");\n\t\t\t\t\treturn doc_view == \"Kanban\";\n\t\t\t\t},\n\t\t\t\tmandatory_depends_on: () => {\n\t\t\t\t\tlet doc_view = this.dialog?.get_value(\"doc_view\");\n\t\t\t\t\treturn doc_view == \"Kanban\";\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"filters_section_break\",\n\t\t\t\tlabel: __(\"Count Filter\"),\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area_loading\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area\",\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"count_section_break\",\n\t\t\t\tlabel: __(\"Count Customizations\"),\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"color\",\n\t\t\t\tlabel: __(\"Color\"),\n\t\t\t\toptions: [\"Grey\", \"Green\", \"Red\", \"Orange\", \"Pink\", \"Yellow\", \"Blue\", \"Cyan\"],\n\t\t\t\tdefault: \"Grey\",\n\t\t\t\tinput_class: \"color-select\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tlet color = this.dialog.fields_dict.color.value.toLowerCase();\n\t\t\t\t\tlet $select = this.dialog.fields_dict.color.$input;\n\t\t\t\t\tif (!$select.parent().find(\".color-box\").get(0)) {\n\t\t\t\t\t\t$(`<div class=\"color-box\"></div>`).insertBefore($select.get(0));\n\t\t\t\t\t}\n\t\t\t\t\t$select\n\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t.find(\".color-box\")\n\t\t\t\t\t\t.get(0).style.backgroundColor = `var(--text-on-${color})`;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"column_break_3\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"format\",\n\t\t\t\tlabel: __(\"Format\"),\n\t\t\t\tdescription: __(\"For Example: {} Open\"),\n\t\t\t},\n\t\t];\n\t}\n\n\tset_default_values() {\n\t\tsuper.set_default_values().then(() => {\n\t\t\tthis.dialog.fields_dict.link_to.df.onchange();\n\t\t});\n\t}\n\n\tgenerate_filter_from_json() {\n\t\tif (this.values && this.values.stats_filter) {\n\t\t\tthis.filters = frappe.utils.get_filter_from_json(\n\t\t\t\tthis.values.stats_filter,\n\t\t\t\tthis.values.link_to\n\t\t\t);\n\t\t}\n\t}\n\n\tprocess_data(data) {\n\t\tif (this.dialog.get_value(\"type\") == \"DocType\" && this.filter_group) {\n\t\t\tlet filters = this.filter_group.get_filters();\n\t\t\tdata.stats_filter = JSON.stringify(filters);\n\t\t}\n\n\t\tdata.label = data.label ? data.label : frappe.model.unscrub(data.link_to);\n\n\t\tif (data.url) {\n\t\t\tlet _url = data.url;\n\t\t\tif (data.url.startsWith(\"/\")) {\n\t\t\t\t_url = frappe.urllib.get_base_url() + data.url;\n\t\t\t}\n\t\t\t!validate_url(_url) &&\n\t\t\t\tfrappe.throw({\n\t\t\t\t\tmessage: __(\"<b>{0}</b> is not a valid URL\", [data.url]),\n\t\t\t\t\ttitle: __(\"Invalid URL\"),\n\t\t\t\t\tindicator: \"red\",\n\t\t\t\t});\n\n\t\t\tif (!data.label) {\n\t\t\t\tdata.label = \"No Label (URL)\";\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n}\n\nclass NumberCardDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\tlet fields;\n\n\t\tif (this.for_workspace) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"Link\",\n\t\t\t\t\tfieldname: \"number_card_name\",\n\t\t\t\t\tlabel: __(\"Number Card\"),\n\t\t\t\t\toptions: \"Number Card\",\n\t\t\t\t\treqd: 1,\n\t\t\t\t\tget_query: () => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tquery: \"frappe.desk.doctype.number_card.number_card.get_cards_for_user\",\n\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\tdocument_type: this.document_type,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t\tfieldname: \"label\",\n\t\t\t\t\tlabel: __(\"Label\"),\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\n\t\tfields = [\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tlabel: __(\"Choose Existing Card or create New Card\"),\n\t\t\t\tfieldname: \"new_or_existing\",\n\t\t\t\toptions: [\"New Card\", \"Existing Card\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"card\",\n\t\t\t\tlabel: __(\"Number Cards\"),\n\t\t\t\toptions: \"Number Card\",\n\t\t\t\tget_query: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tquery: \"frappe.desk.doctype.number_card.number_card.get_cards_for_user\",\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\tdocument_type: this.document_type,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"Existing Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"sb_1\",\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Label\"),\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tmandatory_depends_on: 'eval: doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Doctype\"),\n\t\t\t\tfieldname: \"document_type\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\toptions: \"DocType\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tthis.document_type = this.dialog.get_value(\"document_type\");\n\t\t\t\t\tthis.set_aggregate_function_fields(this.dialog.get_values());\n\t\t\t\t\tthis.setup_filter(this.document_type);\n\t\t\t\t},\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Color\"),\n\t\t\t\tfieldname: \"color\",\n\t\t\t\tfieldtype: \"Color\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"cb_1\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Function\"),\n\t\t\t\tfieldname: \"function\",\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\toptions: [\"Count\", \"Sum\", \"Average\", \"Minimum\", \"Maximum\"],\n\t\t\t\tmandatory_depends_on: 'eval: doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Function Based On\"),\n\t\t\t\tfieldname: \"aggregate_function_based_on\",\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tdepends_on: \"eval: doc.function !== 'Count'\",\n\t\t\t\tmandatory_depends_on:\n\t\t\t\t\t'eval: doc.function !== \"Count\" && doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"sb_1\",\n\t\t\t\tlabel: __(\"Add Filters\"),\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area_loading\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area\",\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"sb_1\",\n\t\t\t},\n\t\t];\n\n\t\treturn fields;\n\t}\n\n\tsetup_dialog_events() {\n\t\tif (!this.document_type && !this.for_workspace) {\n\t\t\tif (this.default_values && this.default_values[\"doctype\"]) {\n\t\t\t\tthis.document_type = this.default_values[\"doctype\"];\n\t\t\t\tthis.setup_filter(this.default_values[\"doctype\"]);\n\t\t\t\tthis.set_aggregate_function_fields();\n\t\t\t} else {\n\t\t\t\tthis.show_field(\"document_type\");\n\t\t\t}\n\t\t}\n\t}\n\n\tset_aggregate_function_fields() {\n\t\tlet aggregate_function_fields = [];\n\t\tif (this.document_type && frappe.get_meta(this.document_type)) {\n\t\t\tfrappe.get_meta(this.document_type).fields.map((df) => {\n\t\t\t\tif (frappe.model.numeric_fieldtypes.includes(df.fieldtype)) {\n\t\t\t\t\tif (df.fieldtype == \"Currency\") {\n\t\t\t\t\t\tif (!df.options || df.options !== \"Company:company:default_currency\") {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\taggregate_function_fields.push({ label: df.label, value: df.fieldname });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.dialog.set_df_property(\n\t\t\t\"aggregate_function_based_on\",\n\t\t\t\"options\",\n\t\t\taggregate_function_fields\n\t\t);\n\t}\n\n\tprocess_data(data) {\n\t\tif (this.for_workspace) {\n\t\t\tdata.label = data.label ? data.label : data.number_card_name;\n\t\t\treturn data;\n\t\t}\n\n\t\tif (data.new_or_existing == \"Existing Card\") {\n\t\t\tdata.name = data.card;\n\t\t}\n\t\tdata.stats_filter = this.filter_group && JSON.stringify(this.filter_group.get_filters());\n\t\tdata.document_type = this.document_type;\n\t\treturn data;\n\t}\n}\n\nclass CustomBlockDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"custom_block_name\",\n\t\t\t\tlabel: \"Custom Block Name\",\n\t\t\t\toptions: \"Custom HTML Block\",\n\t\t\t\treqd: 1,\n\t\t\t\tget_query: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tquery: \"frappe.desk.doctype.custom_html_block.custom_html_block.get_custom_blocks_for_user\",\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n}\n\nexport default function get_dialog_constructor(type) {\n\tconst widget_map = {\n\t\tchart: ChartDialog,\n\t\tshortcut: ShortcutDialog,\n\t\tlinks: CardDialog,\n\t\tonboarding: OnboardingDialog,\n\t\tquick_list: QuickListDialog,\n\t\tnumber_card: NumberCardDialog,\n\t\tcustom_block: CustomBlockDialog,\n\t};\n\n\treturn widget_map[type] || WidgetDialog;\n}\n", "import get_dialog_constructor from \"./widget_dialog.js\";\n\nexport default class Widget {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.make();\n\t}\n\n\trefresh() {\n\t\tthis.set_title();\n\t\tthis.set_actions();\n\t\tthis.set_body();\n\t\tthis.setup_events();\n\t\tthis.set_footer();\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tlabel: this.label,\n\t\t};\n\t}\n\n\tcustomize(options) {\n\t\tthis.in_customize_mode = true;\n\t\tthis.action_area.empty();\n\n\t\toptions.allow_sorting &&\n\t\t\tfrappe.utils.add_custom_button(\n\t\t\t\tfrappe.utils.icon(\"es-line-drag\", \"xs\"),\n\t\t\t\tnull,\n\t\t\t\t\"drag-handle\",\n\t\t\t\t__(\"Drag\"),\n\t\t\t\tnull,\n\t\t\t\tthis.action_area\n\t\t\t);\n\n\t\tif (options.allow_hiding) {\n\t\t\tif (this.hidden) {\n\t\t\t\tthis.widget.removeClass(\"hidden\");\n\t\t\t\tthis.body.css(\"opacity\", 0.5);\n\t\t\t\tthis.title_field.css(\"opacity\", 0.5);\n\t\t\t\tthis.footer.css(\"opacity\", 0.5);\n\t\t\t}\n\t\t\tconst classname = this.hidden ? \"fa fa-eye\" : \"fa fa-eye-slash\";\n\t\t\tconst title = this.hidden ? __(\"Show\") : __(\"Hide\");\n\t\t\tfrappe.utils.add_custom_button(\n\t\t\t\t`<i class=\"${classname}\" aria-hidden=\"true\"></i>`,\n\t\t\t\t() => this.hide_or_show(),\n\t\t\t\t\"show-or-hide-button\",\n\t\t\t\ttitle,\n\t\t\t\tnull,\n\t\t\t\tthis.action_area\n\t\t\t);\n\n\t\t\tthis.show_or_hide_button = this.action_area.find(\".show-or-hide-button\");\n\t\t}\n\n\t\toptions.allow_edit &&\n\t\t\tfrappe.utils.add_custom_button(\n\t\t\t\tfrappe.utils.icon(\"es-line-edit-alt\", \"xs\"),\n\t\t\t\t() => this.edit(),\n\t\t\t\t\"edit-button\",\n\t\t\t\t__(\"Edit\"),\n\t\t\t\tnull,\n\t\t\t\tthis.action_area\n\t\t\t);\n\t}\n\n\tmake() {\n\t\tthis.make_widget();\n\t\tthis.widget.appendTo(this.container);\n\t}\n\n\tmake_widget() {\n\t\tthis.widget = $(`<div class=\"widget\" data-widget-name=\"${this.name ? this.name : \"\"}\">\n\t\t\t<div class=\"widget-head\">\n\t\t\t\t<div class=\"widget-label\">\n\t\t\t\t\t<div class=\"widget-title\"></div>\n\t\t\t\t\t<div class=\"widget-subtitle\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"widget-control\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"widget-body\"></div>\n\t\t\t<div class=\"widget-footer\"></div>\n\t\t</div>`);\n\n\t\tthis.title_field = this.widget.find(\".widget-title\");\n\t\tthis.subtitle_field = this.widget.find(\".widget-subtitle\");\n\t\tthis.body = this.widget.find(\".widget-body\");\n\t\tthis.action_area = this.widget.find(\".widget-control\");\n\t\tthis.head = this.widget.find(\".widget-head\");\n\t\tthis.footer = this.widget.find(\".widget-footer\");\n\t\tthis.refresh();\n\t}\n\n\tset_title(max_chars) {\n\t\tlet base = this.title || this.label || this.name;\n\t\tlet title = max_chars ? frappe.ellipsis(base, max_chars) : base;\n\n\t\tthis.title_field[0].innerHTML = `<span class=\"ellipsis\" title=\"${title}\">${title}</span>`;\n\t\tif (max_chars) {\n\t\t\tthis.title_field[0].setAttribute(\"title\", this.title || this.label);\n\t\t}\n\t\tthis.subtitle && this.subtitle_field.html(this.subtitle);\n\t}\n\n\tdelete(animate = true, dismissed = false) {\n\t\tlet remove_widget = (setup_new) => {\n\t\t\tthis.widget.remove();\n\t\t\t!dismissed && this.options.on_delete && this.options.on_delete(this.name, setup_new);\n\t\t};\n\n\t\tif (animate) {\n\t\t\tthis.widget.addClass(\"zoom-out\");\n\t\t\t// wait for animation\n\t\t\tsetTimeout(() => {\n\t\t\t\tremove_widget(true);\n\t\t\t}, 300);\n\t\t} else {\n\t\t\tremove_widget(false);\n\t\t}\n\t}\n\n\tedit() {\n\t\tconst dialog_class = get_dialog_constructor(this.widget_type);\n\n\t\tthis.edit_dialog = new dialog_class({\n\t\t\tfor_workspace: this.options?.for_workspace,\n\t\t\tlabel: this.label,\n\t\t\ttype: this.widget_type,\n\t\t\tvalues: this.get_config(),\n\t\t\tprimary_action: (data) => {\n\t\t\t\tObject.assign(this, data);\n\t\t\t\tdata.name = this.name;\n\t\t\t\tthis.new = true;\n\t\t\t\tthis.refresh();\n\t\t\t\tthis.options.on_edit && this.options.on_edit(data);\n\t\t\t},\n\t\t\tprimary_action_label: __(\"Save\"),\n\t\t});\n\n\t\tthis.edit_dialog.make();\n\t}\n\n\ttoggle_width() {\n\t\tif (this.width == \"Full\") {\n\t\t\tthis.widget.removeClass(\"full-width\");\n\t\t\tthis.width = null;\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\tthis.widget.addClass(\"full-width\");\n\t\t\tthis.width = \"Full\";\n\t\t\tthis.refresh();\n\t\t}\n\n\t\tconst title = this.width == \"Full\" ? __(\"Collapse\") : __(\"Expand\");\n\t\tthis.resize_button.attr(\"title\", title);\n\t}\n\n\thide_or_show() {\n\t\tif (!this.hidden) {\n\t\t\tthis.body.css(\"opacity\", 0.5);\n\t\t\tthis.title_field.css(\"opacity\", 0.5);\n\t\t\tthis.footer.css(\"opacity\", 0.5);\n\t\t\tthis.hidden = true;\n\t\t} else {\n\t\t\tthis.body.css(\"opacity\", 1);\n\t\t\tthis.title_field.css(\"opacity\", 1);\n\t\t\tthis.footer.css(\"opacity\", 1);\n\t\t\tthis.hidden = false;\n\t\t}\n\t\tthis.show_or_hide_button.empty();\n\n\t\tconst classname = this.hidden ? \"fa fa-eye\" : \"fa fa-eye-slash\";\n\t\tconst title = this.hidden ? __(\"Show\") : __(\"Hide\");\n\n\t\t$(`<i class=\"${classname}\" aria-hidden=\"true\" title=\"${title}\"></i>`).appendTo(\n\t\t\tthis.show_or_hide_button\n\t\t);\n\t}\n\n\tsetup_events() {\n\t\t//\n\t}\n\n\tset_actions() {\n\t\t//\n\t}\n\n\tset_body() {\n\t\t//\n\t}\n\n\tset_footer() {\n\t\t//\n\t}\n}\n", "import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.utils\");\n\nexport default class OnboardingWidget extends Widget {\n\tasync refresh() {\n\t\tfrappe.utils.load_video_player();\n\t\tthis.new && (await this.get_onboarding_data());\n\t\tthis.set_title();\n\t\tthis.set_actions();\n\t\tthis.set_body();\n\t\tthis.setup_events();\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tlabel: this.onboarding_name,\n\t\t};\n\t}\n\n\tmake_body() {\n\t\tthis.body.empty();\n\t\tthis.steps_wrapper = $(`<div class=\"onboarding-steps-wrapper\"></div>`).appendTo(this.body);\n\t\tthis.step_preview = $(`<div class=\"onboarding-step-preview\">\n\t\t\t<div class=\"onboarding-step-body\"></div>\n\t\t\t<div class=\"onboarding-step-footer\"></div>\n\t\t</div>`).appendTo(this.body);\n\n\t\tthis.step_body = this.step_preview.find(\".onboarding-step-body\");\n\t\tthis.step_footer = this.step_preview.find(\".onboarding-step-footer\");\n\n\t\tthis.steps.forEach((step, index) => {\n\t\t\tthis.add_step(step, index);\n\t\t});\n\n\t\tlet first_incomplete_step = this.steps.findIndex((s) => !s.is_skipped && !s.is_complete);\n\n\t\tif (first_incomplete_step == -1) {\n\t\t\tfirst_incomplete_step = 0;\n\t\t}\n\n\t\tthis.show_step(this.steps[first_incomplete_step]);\n\t}\n\n\tadd_step(step, index) {\n\t\tlet status = \"pending\";\n\n\t\tif (step.is_skipped) status = \"skipped\";\n\t\tif (step.is_complete) status = \"complete\";\n\n\t\tlet $step = $(`<a class=\"onboarding-step ${status}\">\n\t\t\t\t<div class=\"step-title\">\n\t\t\t\t\t<div class=\"step-index step-pending\">${frappe.utils.icon(\n\t\t\t\t\t\t\"es-line-success\",\n\t\t\t\t\t\t\"md\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"step-icon\"\n\t\t\t\t\t)}</div>\n\t\t\t\t\t<div class=\"step-index step-skipped\">${frappe.utils.icon(\n\t\t\t\t\t\t\"es-line-close-circle\",\n\t\t\t\t\t\t\"md\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"--icon-stroke: var(--gray-600);\",\n\t\t\t\t\t\t\"step-icon\"\n\t\t\t\t\t)}</div>\n\t\t\t\t\t<div class=\"step-index step-complete\">${frappe.utils.icon(\n\t\t\t\t\t\t\"es-solid-success\",\n\t\t\t\t\t\t\"md\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"step-icon\"\n\t\t\t\t\t)}</div>\n\t\t\t\t\t<div class=\"step-text\">${__(step.title)}</div>\n\t\t\t\t</div>\n\t\t\t</a>`);\n\n\t\tstep.$step = $step;\n\n\t\t// Add skip button\n\t\tif (!step.is_complete && !step.is_skipped) {\n\t\t\tlet skip_html = $(`<div class=\"step-skip\">${__(\"Skip\")}</div>`);\n\n\t\t\tskip_html.appendTo($step);\n\t\t\tskip_html.on(\"click\", () => {\n\t\t\t\tthis.skip_step(step);\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t}\n\t\t$step.on(\"click\", () => this.show_step(step));\n\t\t$step.appendTo(this.steps_wrapper);\n\n\t\treturn $step;\n\t}\n\n\tshow_step(step) {\n\t\tthis.active_step && this.active_step.$step.removeClass(\"active\");\n\n\t\tstep.$step.addClass(\"active\");\n\t\tthis.active_step = step;\n\n\t\tlet actions = {\n\t\t\t\"Watch Video\": (step) => this.show_video(step),\n\t\t\t\"Create Entry\": (step) => {\n\t\t\t\tif (step.is_complete) {\n\t\t\t\t\tfrappe.set_route(`/app/List/${step.reference_document}`);\n\t\t\t\t} else {\n\t\t\t\t\tif (step.show_full_form) {\n\t\t\t\t\t\tthis.create_entry(step);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.show_quick_entry(step);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Show Form Tour\": (step) => this.show_form_tour(step),\n\t\t\t\"Update Settings\": (step) => this.update_settings(step),\n\t\t\t\"View Report\": (step) => this.open_report(step),\n\t\t\t\"Go to Page\": (step) => this.go_to_page(step),\n\t\t};\n\n\t\tconst toggle_content = () => {\n\t\t\tthis.step_body.empty();\n\t\t\tthis.step_footer.empty();\n\t\t\tset_description();\n\n\t\t\tif (step.intro_video_url) {\n\t\t\t\t$(`<button class=\"btn btn-default btn-sm\">${__(\"Watch Tutorial\")}</button>`)\n\t\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t\t.on(\"click\", toggle_video);\n\t\t\t} else {\n\t\t\t\t$(\n\t\t\t\t\t`<button class=\"btn btn-default btn-sm\">${__(\n\t\t\t\t\t\tstep.action_label || step.action\n\t\t\t\t\t)}</button>`\n\t\t\t\t)\n\t\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t\t.on(\"click\", () => actions[step.action](step));\n\t\t\t}\n\t\t};\n\n\t\tconst set_description = () => {\n\t\t\tlet content = step.description\n\t\t\t\t? frappe.markdown(step.description)\n\t\t\t\t: `<h1>${__(step.title)}</h1>`;\n\n\t\t\tif (step.action === \"Create Entry\") {\n\t\t\t\t// add a secondary action to view list\n\t\t\t\tcontent += `<p>\n\t\t\t\t\t<a href='/app/${frappe.router.slug(step.reference_document)}'>\n\t\t\t\t\t\t${__(\"Show {0} List\", [__(step.reference_document)])}</a>\n\t\t\t\t</p>`;\n\t\t\t}\n\n\t\t\tthis.step_body.html(content);\n\t\t};\n\n\t\tconst toggle_video = () => {\n\t\t\tthis.step_body.empty();\n\t\t\tthis.step_footer.empty();\n\n\t\t\tconst video = $(\n\t\t\t\t`<div class=\"video-player\" data-plyr-provider=\"youtube\" data-plyr-embed-id=\"${step.intro_video_url}\"></div>`\n\t\t\t);\n\t\t\tvideo.appendTo(this.step_body);\n\t\t\tlet plyr = new frappe.Plyr(video[0], {\n\t\t\t\thideControls: true,\n\t\t\t\tresetOnEnd: true,\n\t\t\t});\n\n\t\t\t$(\n\t\t\t\t`<button class=\"btn btn-primary btn-sm\">${__(\n\t\t\t\t\tstep.action_label || step.action\n\t\t\t\t)}</button>`\n\t\t\t)\n\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t.on(\"click\", () => {\n\t\t\t\t\tplyr.pause();\n\t\t\t\t\tactions[step.action](step);\n\t\t\t\t});\n\n\t\t\t// Fire only once, on hashchange\n\t\t\t$(window).one(\"hashchange\", () => {\n\t\t\t\tplyr.pause();\n\t\t\t});\n\n\t\t\t$(`<button class=\"btn btn-secondary ml-2 btn-sm\">${__(\"Back\")}</button>`)\n\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t.on(\"click\", toggle_content);\n\t\t};\n\n\t\ttoggle_content();\n\t}\n\n\tgo_to_page(step) {\n\t\tthis.mark_complete(step);\n\t\tfrappe.set_route(step.path).then(() => {\n\t\t\tlet message =\n\t\t\t\tstep.callback_message ||\n\t\t\t\t__(\"You can continue with the onboarding after exploring this page\");\n\t\t\tlet title = step.callback_title || __(\"Awesome Work\");\n\n\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\tmessage: message,\n\t\t\t\ttitle: title,\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t},\n\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t},\n\t\t\t\twide: true,\n\t\t\t});\n\t\t});\n\t}\n\n\topen_report(step) {\n\t\tlet route = frappe.utils.generate_route({\n\t\t\tname: step.reference_report,\n\t\t\ttype: \"report\",\n\t\t\tis_query_report: step.report_type !== \"Report Builder\",\n\t\t\tdoctype: step.report_reference_doctype,\n\t\t});\n\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.set_route(route).then(() => {\n\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\tmessage: __(step.report_description),\n\t\t\t\ttitle: __(step.reference_report),\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t},\n\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t},\n\t\t\t\tsecondary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Go Back\"),\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tfrappe.msg_dialog.custom_onhide = () => this.mark_complete(step);\n\t\t});\n\t}\n\n\tshow_form_tour(step) {\n\t\tlet route;\n\t\tif (step.is_single) {\n\t\t\troute = frappe.router.slug(step.reference_document);\n\t\t} else {\n\t\t\troute = `${frappe.router.slug(step.reference_document)}/new`;\n\t\t}\n\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tconst on_finish = () => {\n\t\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\t\tmessage: __(\"Let's take you back to onboarding\"),\n\t\t\t\t\ttitle: __(\"Onboarding complete\"),\n\t\t\t\t\tprimary_action: {\n\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t};\n\t\t\tconst tour_name = step.form_tour;\n\t\t\tfrm.tour.init({ tour_name, on_finish }).then(() => frm.tour.start());\n\t\t};\n\n\t\tfrappe.set_route(route);\n\t}\n\n\tupdate_settings(step) {\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tfrm.scroll_to_field(step.field);\n\t\t\tfrm.doc.__unsaved = true;\n\t\t};\n\n\t\tfrappe.route_hooks.after_save = (frm) => {\n\t\t\tlet success = false;\n\t\t\tlet args = {};\n\n\t\t\tlet value = frm.doc[step.field];\n\t\t\tlet custom_onhide = null;\n\n\t\t\tif (value && step.value_to_validate == \"%\") success = true;\n\t\t\tif (value == step.value_to_validate) success = true;\n\t\t\tif (cstr(value) == cstr(step.value_to_validate)) success = true;\n\n\t\t\tif (success) {\n\t\t\t\targs.message = __(\"Let's take you back to onboarding\");\n\t\t\t\targs.title = __(\"Action Complete\");\n\t\t\t\targs.primary_action = {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t};\n\n\t\t\t\tcustom_onhide = () => args.primary_action.action();\n\t\t\t} else {\n\t\t\t\targs.message = __(\"Looks like you didn't change the value\");\n\t\t\t\targs.title = __(\"Try Again\");\n\t\t\t\targs.secondary_action = {\n\t\t\t\t\taction: () => frappe.set_route(current_route),\n\t\t\t\t\tlabel: __(\"Go Back\"),\n\t\t\t\t};\n\n\t\t\t\targs.primary_action = {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.skip_step(step);\n\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Skip Step\"),\n\t\t\t\t};\n\n\t\t\t\tcustom_onhide = () => args.secondary_action.action();\n\t\t\t}\n\n\t\t\tfrappe.msgprint(args);\n\t\t\tfrappe.msg_dialog.custom_onhide = () => custom_onhide();\n\t\t};\n\n\t\tfrappe.set_route(\"Form\", step.reference_document);\n\t}\n\n\tasync create_entry(step) {\n\t\tlet current_route = frappe.get_route();\n\t\tlet docname = await this.get_first_document(step.reference_document);\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tconst on_finish = () => {\n\t\t\t\tfrappe.msgprint({\n\t\t\t\t\tmessage: __(\"Awesome, now try making an entry yourself\"),\n\t\t\t\t\ttitle: __(\"Document Saved\"),\n\t\t\t\t\tprimary_action: {\n\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tfrappe.msg_dialog.custom_onhide = () => {\n\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t};\n\t\t\t};\n\t\t\tconst tour_name = step.form_tour;\n\t\t\tfrm.tour.init({ tour_name, on_finish }).then(() => frm.tour.start());\n\t\t};\n\n\t\tlet callback = () => {\n\t\t\tfrappe.msgprint({\n\t\t\t\tmessage: __(\"Let's take you back to onboarding\"),\n\t\t\t\ttitle: __(\"Action Complete\"),\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tfrappe.msg_dialog.custom_onhide = () => {\n\t\t\t\tthis.mark_complete(step);\n\t\t\t};\n\t\t};\n\n\t\tif (step.is_submittable) {\n\t\t\tfrappe.route_hooks.after_save = () => {\n\t\t\t\tfrappe.msgprint({\n\t\t\t\t\tmessage: __(\"Submit this document to complete this step.\"),\n\t\t\t\t\ttitle: __(\"Document Saved\"),\n\t\t\t\t});\n\t\t\t};\n\t\t\tfrappe.route_hooks.after_submit = callback;\n\t\t} else {\n\t\t\tfrappe.route_hooks.after_save = callback;\n\t\t}\n\n\t\tfrappe.set_route(\"Form\", step.reference_document, docname);\n\t}\n\n\tshow_quick_entry(step) {\n\t\tlet current_route = frappe.get_route_str();\n\t\tfrappe.ui.form.make_quick_entry(\n\t\t\tstep.reference_document,\n\t\t\t() => {\n\t\t\t\tif (frappe.get_route_str() != current_route) {\n\t\t\t\t\tlet success_dialog = frappe.msgprint({\n\t\t\t\t\t\tmessage: __(\"Let's take you back to onboarding\"),\n\t\t\t\t\t\ttitle: __(\"Document Saved\"),\n\t\t\t\t\t\tprimary_action: {\n\t\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\t\tsuccess_dialog.hide();\n\t\t\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tfrappe.msg_dialog.custom_onhide = () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.show_alert(\n\t\t\t\t\t\t__(\"Document Saved\") + \"<br>\" + __(\"Let us continue with the onboarding\")\n\t\t\t\t\t);\n\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnull,\n\t\t\tnull,\n\t\t\ttrue\n\t\t);\n\t}\n\n\tshow_video(step) {\n\t\tfrappe.help.show_video(step.video_url, step.title);\n\t\tthis.mark_complete(step);\n\t}\n\n\tmark_complete(step) {\n\t\tlet $step = step.$step;\n\n\t\tlet callback = () => {\n\t\t\tstep.is_complete = true;\n\t\t\t$step.removeClass(\"skipped\");\n\t\t\t$step.addClass(\"complete\");\n\t\t};\n\n\t\tthis.update_step_status(step, \"is_complete\", 1, callback);\n\t\tthis.activate_next_step(step);\n\t}\n\n\tskip_step(step) {\n\t\tlet $step = step.$step;\n\n\t\tlet callback = () => {\n\t\t\tstep.is_skipped = true;\n\t\t\t$step.removeClass(\"complete\");\n\t\t\t$step.removeClass(\"pending\");\n\t\t\t$step.addClass(\"skipped\");\n\t\t};\n\n\t\tthis.update_step_status(step, \"is_skipped\", 1, callback);\n\t\tthis.activate_next_step(step);\n\t}\n\n\tactivate_next_step(step) {\n\t\tlet current_step_index = this.steps.findIndex((s) => s == step);\n\t\tlet next_step = this.steps[current_step_index + 1];\n\n\t\tif (!next_step) return;\n\n\t\tthis.show_step(next_step);\n\t}\n\n\tupdate_step_status(step, status, value, callback) {\n\t\tlet icon_class = {\n\t\t\tis_complete: \"complete\",\n\t\t\tis_skipped: \"skipped\",\n\t\t};\n\t\t//  Clear any hooks\n\t\tfrappe.route_hooks = {};\n\n\t\tfrappe\n\t\t\t.call(\"frappe.desk.desktop.update_onboarding_step\", {\n\t\t\t\tname: step.name,\n\t\t\t\tfield: status,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tcallback();\n\n\t\t\t\tstep.$step\n\t\t\t\t\t.removeClass(\"pending\")\n\t\t\t\t\t.removeClass(\"complete\")\n\t\t\t\t\t.removeClass(\"skipped\")\n\t\t\t\t\t.addClass(icon_class[status]);\n\n\t\t\t\tlet pending = this.steps.filter((step) => {\n\t\t\t\t\treturn !(step.is_complete || step.is_skipped);\n\t\t\t\t});\n\n\t\t\t\tif (pending.length == 0) {\n\t\t\t\t\tthis.show_success();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tshow_success() {\n\t\tlet success_message = this.success || __(\"You seem good to go!\");\n\t\tlet success_state_image =\n\t\t\tthis.success_state_image || \"/assets/frappe/images/ui-states/success-color.png\";\n\t\tlet documentation = \"\";\n\t\tif (this.docs_url) {\n\t\t\tdocumentation = __(\n\t\t\t\t'Congratulations on completing the module setup. If you want to learn more you can refer to the documentation <a target=\"_blank\" href=\"{0}\">here</a>.',\n\t\t\t\t[this.docs_url]\n\t\t\t);\n\t\t}\n\n\t\tlet success = $(`<div class=\"text-center onboarding-success\">\n\t\t\t\t\t<img src=\"${success_state_image}\" alt=\"Success State\" class=\"zoom-in success-state\">\n\t\t\t\t\t<h3>${success_message}</h3>\n\t\t\t\t\t<div class=\"text-muted\">${documentation}</div>\n\t\t\t\t\t<button class=\"btn btn-primary btn-sm\">${__(\"Continue\")}</button>\n\t\t\t</div>\n\t\t`);\n\n\t\tsuccess.find(\".btn\").on(\"click\", () => this.delete());\n\n\t\tthis.step_preview.empty();\n\t\tsuccess.appendTo(this.step_preview);\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"onboarding-widget-box\");\n\t\tif (this.is_dismissed()) {\n\t\t\tthis.widget.hide();\n\t\t} else {\n\t\t\tthis.make_body();\n\t\t}\n\t}\n\n\tis_dismissed() {\n\t\tif (this.in_customize_mode) return false;\n\n\t\tlet dismissed = JSON.parse(localStorage.getItem(\"dismissed-onboarding\") || \"{}\");\n\t\tif (Object.keys(dismissed).includes(this.title)) {\n\t\t\tlet last_hidden = new Date(dismissed[this.title]);\n\t\t\tlet today = new Date();\n\t\t\tlet diff = frappe.datetime.get_hour_diff(today, last_hidden);\n\t\t\treturn diff < 24;\n\t\t}\n\t\treturn false;\n\t}\n\n\tset_actions() {\n\t\tif (this.in_customize_mode) return;\n\n\t\tthis.action_area.empty();\n\t\tconst dismiss = $(\n\t\t\t`<div class=\"btn btn-sm btn-secondary small\" style=\"cursor:pointer;\">${__(\n\t\t\t\t\"Dismiss\",\n\t\t\t\tnull,\n\t\t\t\t\"Stop showing the onboarding widget.\"\n\t\t\t)}</div>`\n\t\t);\n\t\tdismiss.on(\"click\", () => {\n\t\t\tlet dismissed = JSON.parse(localStorage.getItem(\"dismissed-onboarding\") || \"{}\");\n\t\t\tdismissed[this.title] = frappe.datetime.now_datetime();\n\n\t\t\tlocalStorage.setItem(\"dismissed-onboarding\", JSON.stringify(dismissed));\n\t\t\tthis.delete(true, true);\n\t\t\tthis.widget.closest(\".ce-block\").hide();\n\t\t\tfrappe.telemetry.capture(\"dismissed_\" + frappe.scrub(this.title), \"frappe_onboarding\");\n\t\t});\n\t\tdismiss.appendTo(this.action_area);\n\t}\n\n\tget_onboarding_data() {\n\t\treturn frappe.model\n\t\t\t.with_doc(\"Module Onboarding\", this.onboarding_name)\n\t\t\t.then((onboarding_doc) => {\n\t\t\t\tif (onboarding_doc) {\n\t\t\t\t\tthis.onboarding_doc = onboarding_doc;\n\t\t\t\t\tthis.label = onboarding_doc.label;\n\t\t\t\t\tthis.title = onboarding_doc.title || __(\"Let's Get Started\");\n\t\t\t\t\tthis.subtitle = onboarding_doc.subtitle;\n\t\t\t\t\tthis.success = onboarding_doc.success;\n\t\t\t\t\tthis.docs_url = onboarding_doc.docs_url;\n\t\t\t\t\tthis.user_can_dismiss = onboarding_doc.user_can_dismiss;\n\t\t\t\t\tconst method =\n\t\t\t\t\t\t\"frappe.desk.doctype.onboarding_step.onboarding_step.get_onboarding_steps\";\n\t\t\t\t\treturn frappe\n\t\t\t\t\t\t.xcall(method, { ob_steps: onboarding_doc.steps })\n\t\t\t\t\t\t.then((steps) => {\n\t\t\t\t\t\t\tthis.steps = steps;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tasync get_first_document(doctype) {\n\t\tconst { message } = await frappe.db.get_value(\n\t\t\t\"Form Tour\",\n\t\t\t{ reference_doctype: doctype },\n\t\t\t[\"first_document\"]\n\t\t);\n\t\tlet docname;\n\n\t\tif (message.first_document) {\n\t\t\tawait frappe.db.get_list(doctype, { order_by: \"creation\" }).then((res) => {\n\t\t\t\tif (Array.isArray(res) && res.length) docname = res[0].name;\n\t\t\t});\n\t\t}\n\n\t\treturn docname || \"new\";\n\t}\n}\n", "import OnboardingWidget from '../../../../../frappe/frappe/public/js/frappe/widgets/onboarding_widget.js'\n\nclass MyOnboardingWidget extends OnboardingWidget {\n\tshow_step(step){\n\t\tstep.description = __(step.description);\n\t\tstep.title = __(step.title);\n    \tsuper.show_step(step);\n\t}\n}\n\nfrappe.widget.widget_factory.onboarding = MyOnboardingWidget\n", "import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.utils\");\n\nexport default class NumberCardWidget extends Widget {\n\tconstructor(opts) {\n\t\topts.shadow = true;\n\t\tsuper(opts);\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tnumber_card_name: this.number_card_name,\n\t\t\tlabel: this.label,\n\t\t\tcolor: this.color,\n\t\t\thidden: this.hidden,\n\t\t};\n\t}\n\n\trefresh() {\n\t\tthis.set_body();\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"number-widget-box\");\n\t\tthis.make_card();\n\t}\n\n\tmake_card() {\n\t\tfrappe.model.with_doc(\"Number Card\", this.number_card_name || this.name).then((card) => {\n\t\t\tif (!card) {\n\t\t\t\tif (this.document_type) {\n\t\t\t\t\tfrappe.run_serially([\n\t\t\t\t\t\t() => this.create_number_card(),\n\t\t\t\t\t\t() => this.render_card(),\n\t\t\t\t\t]);\n\t\t\t\t} else {\n\t\t\t\t\t// widget doesn't exist so delete\n\t\t\t\t\tthis.delete(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.card_doc = card;\n\t\t\t\tthis.render_card();\n\t\t\t}\n\n\t\t\tthis.set_events();\n\t\t});\n\t}\n\n\tcreate_number_card() {\n\t\tthis.set_doc_args();\n\t\treturn frappe\n\t\t\t.xcall(\"frappe.desk.doctype.number_card.number_card.create_number_card\", {\n\t\t\t\targs: this.card_doc,\n\t\t\t})\n\t\t\t.then((doc) => {\n\t\t\t\tthis.name = doc.name;\n\t\t\t\tthis.card_doc = doc;\n\t\t\t\tthis.widget.attr(\"data-widget-name\", this.name);\n\t\t\t});\n\t}\n\n\tset_events() {\n\t\t$(this.body).click(() => {\n\t\t\tif (this.in_customize_mode) return;\n\t\t\tthis.set_route();\n\t\t});\n\t}\n\n\tset_route() {\n\t\tif (this.card_doc.type === \"Custom\") {\n\t\t\tthis.set_route_for_custom_card();\n\t\t\treturn;\n\t\t}\n\n\t\tconst is_document_type = this.card_doc.type !== \"Report\";\n\t\tconst name = is_document_type ? this.card_doc.document_type : this.card_doc.report_name;\n\t\tconst route = frappe.utils.generate_route({\n\t\t\tname: name,\n\t\t\ttype: is_document_type ? \"doctype\" : \"report\",\n\t\t\tis_query_report: !is_document_type,\n\t\t});\n\n\t\tif (is_document_type) {\n\t\t\tconst filters = JSON.parse(this.card_doc.filters_json);\n\t\t\tfrappe.route_options = filters.reduce((acc, filter) => {\n\t\t\t\treturn Object.assign(acc, {\n\t\t\t\t\t[`${filter[0]}.${filter[1]}`]: [filter[2], filter[3]],\n\t\t\t\t});\n\t\t\t}, {});\n\t\t}\n\n\t\tfrappe.set_route(route);\n\t}\n\n\tset_route_for_custom_card() {\n\t\tif (!this.data?.route) return;\n\n\t\tif (this.data.route_options) {\n\t\t\tfrappe.route_options = this.data.route_options;\n\t\t}\n\n\t\tfrappe.set_route(this.data.route);\n\t}\n\n\tset_doc_args() {\n\t\tthis.card_doc = Object.assign(\n\t\t\t{},\n\t\t\t{\n\t\t\t\tdocument_type: this.document_type,\n\t\t\t\tlabel: this.label,\n\t\t\t\tfunction: this.function,\n\t\t\t\taggregate_function_based_on: this.aggregate_function_based_on,\n\t\t\t\tcolor: this.color,\n\t\t\t\tfilters_json: this.stats_filter,\n\t\t\t}\n\t\t);\n\t}\n\n\tget_settings(type) {\n\t\tthis.filters = this.get_filters();\n\t\tconst settings_map = {\n\t\t\tCustom: {\n\t\t\t\tmethod: this.card_doc.method,\n\t\t\t\targs: {\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t},\n\t\t\t\tget_number: (res) => this.get_number_for_custom_card(res),\n\t\t\t},\n\t\t\tReport: {\n\t\t\t\tmethod: \"frappe.desk.query_report.run\",\n\t\t\t\targs: {\n\t\t\t\t\treport_name: this.card_doc.report_name,\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t\tignore_prepared_report: 1,\n\t\t\t\t},\n\t\t\t\tget_number: (res) => this.get_number_for_report_card(res),\n\t\t\t},\n\t\t\t\"Document Type\": {\n\t\t\t\tmethod: \"frappe.desk.doctype.number_card.number_card.get_result\",\n\t\t\t\targs: {\n\t\t\t\t\tdoc: this.card_doc,\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t},\n\t\t\t\tget_number: (res) => this.get_number_for_doctype_card(res),\n\t\t\t},\n\t\t};\n\t\treturn settings_map[type];\n\t}\n\n\tget_filters() {\n\t\treturn frappe.dashboard_utils.get_all_filters(this.card_doc);\n\t}\n\n\tasync render_card() {\n\t\tthis.prepare_actions();\n\t\tthis.set_title();\n\t\tthis.set_loading_state();\n\n\t\tif (!this.card_doc.type) {\n\t\t\tthis.card_doc.type = \"Document Type\";\n\t\t}\n\n\t\tthis.settings = this.get_settings(this.card_doc.type);\n\t\tawait this.get_data();\n\n\t\tthis.render_number();\n\t\tthis.render_stats();\n\t}\n\n\tset_loading_state() {\n\t\t$(this.body).html(`<div class=\"number-card-loading text-muted\">\n\t\t\t${__(\"Loading...\")}\n\t\t</div>`);\n\t}\n\n\tasync get_data() {\n\t\tthis.data = await frappe.xcall(this.settings.method, this.settings.args);\n\t\treturn this.settings.get_number(this.data);\n\t}\n\n\tget_number_for_custom_card(res) {\n\t\tif (typeof res === \"object\") {\n\t\t\tthis.number = res.value;\n\t\t\tthis.set_formatted_number(res);\n\t\t} else {\n\t\t\tthis.formatted_number = res;\n\t\t}\n\t}\n\n\tget_number_for_doctype_card(res) {\n\t\tthis.number = res;\n\t\tif (this.card_doc.function !== \"Count\") {\n\t\t\treturn frappe.model.with_doctype(this.card_doc.document_type, () => {\n\t\t\t\tconst based_on_df = frappe.meta.get_docfield(\n\t\t\t\t\tthis.card_doc.document_type,\n\t\t\t\t\tthis.card_doc.aggregate_function_based_on\n\t\t\t\t);\n\t\t\t\tthis.set_formatted_number(based_on_df);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.formatted_number = res;\n\t\t}\n\t}\n\n\tget_number_for_report_card(res) {\n\t\tconst field = this.card_doc.report_field;\n\t\tconst vals = res.result.reduce((acc, col) => {\n\t\t\tcol[field] && acc.push(col[field]);\n\t\t\treturn acc;\n\t\t}, []);\n\t\tconst col = res.columns.find((col) => col.fieldname == field);\n\t\tthis.number = frappe.report_utils.get_result_of_fn(this.card_doc.report_function, vals);\n\t\tthis.set_formatted_number(col);\n\t}\n\n\tset_formatted_number(df) {\n\t\tconst default_country = frappe.sys_defaults.country;\n\t\tconst shortened_number = frappe.utils.shorten_number(this.number, default_country, 5);\n\t\tlet number_parts = shortened_number.split(\" \");\n\n\t\tconst symbol = number_parts[1] || \"\";\n\t\tnumber_parts[0] = window.convert_old_to_new_number_format(number_parts[0]);\n\t\tconst formatted_number = $(frappe.format(number_parts[0], df)).text();\n\n\t\tthis.formatted_number = formatted_number + \" \" + __(symbol);\n\t}\n\n\trender_number() {\n\t\tconst style_attr = this.card_doc.color ? `style=\"color: ${this.card_doc.color};\"` : \"\";\n\n\t\t$(this.body).html(`<div class=\"widget-content\">\n\t\t\t<div class=\"number\" ${style_attr}>${this.formatted_number}</div>\n\t\t\t</div>`);\n\t}\n\n\trender_stats() {\n\t\tif (this.card_doc.type !== \"Document Type\" || !this.card_doc.show_percentage_stats) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet caret_html = \"\";\n\t\tlet color_class = \"\";\n\n\t\treturn this.get_percentage_stats().then(() => {\n\t\t\tif (this.percentage_stat == 0 || this.percentage_stat == undefined) {\n\t\t\t\tcolor_class = \"grey-stat\";\n\t\t\t} else if (this.percentage_stat > 0) {\n\t\t\t\tcaret_html = `<span class=\"indicator-pill-round green\">\n\t\t\t\t\t\t${frappe.utils.icon(\"es-line-arrow-up-right\", \"xs\")}\n\t\t\t\t\t</span>`;\n\t\t\t\tcolor_class = \"green-stat\";\n\t\t\t} else {\n\t\t\t\tcaret_html = `<span class=\"indicator-pill-round red\">\n\t\t\t\t\t\t${frappe.utils.icon(\"arrow-down-right\", \"xs\")}\n\t\t\t\t\t</span>`;\n\t\t\t\tcolor_class = \"red-stat\";\n\t\t\t}\n\n\t\t\tconst stats_qualifier_map = {\n\t\t\t\tDaily: __(\"since yesterday\"),\n\t\t\t\tWeekly: __(\"since last week\"),\n\t\t\t\tMonthly: __(\"since last month\"),\n\t\t\t\tYearly: __(\"since last year\"),\n\t\t\t};\n\t\t\tconst stats_qualifier = stats_qualifier_map[this.card_doc.stats_time_interval];\n\n\t\t\tlet stat = (() => {\n\t\t\t\tif (this.percentage_stat == undefined) return NaN;\n\t\t\t\tconst parts = this.percentage_stat.split(\" \");\n\t\t\t\tconst symbol = parts[1] || \"\";\n\t\t\t\treturn Math.abs(parts[0]) + \" \" + symbol;\n\t\t\t})();\n\n\t\t\t// don't show stats if not valid number - skip showing `NaN %` in card\n\t\t\tif (isNaN(stat)) return;\n\n\t\t\t$(this.body).find(\".widget-content\").append(`<div class=\"card-stats ${color_class}\">\n\t\t\t\t<span class=\"percentage-stat-area\">\n\t\t\t\t\t${caret_html} ${stat} % ${stats_qualifier}\n\t\t\t\t</span>\n\t\t\t</div>`);\n\t\t});\n\t}\n\n\tget_percentage_stats() {\n\t\treturn frappe\n\t\t\t.xcall(\"frappe.desk.doctype.number_card.number_card.get_percentage_difference\", {\n\t\t\t\tdoc: this.card_doc,\n\t\t\t\tfilters: this.filters,\n\t\t\t\tresult: this.number,\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res !== undefined) {\n\t\t\t\t\tthis.percentage_stat = frappe.utils.shorten_number(res);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprepare_actions() {\n\t\tif (this.in_customize_mode) return;\n\n\t\tlet actions = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Refresh\"),\n\t\t\t\taction: \"action-refresh\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.render_card();\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Edit\"),\n\t\t\t\taction: \"action-edit\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tlet number_card = this.number_card_name || this.name;\n\t\t\t\t\tfrappe.set_route(\"Form\", \"Number Card\", number_card);\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tthis.set_card_actions(actions);\n\t}\n\n\tset_card_actions(actions) {\n\t\tthis.card_actions = $(`<div class=\"card-actions dropdown pull-right\">\n\t\t\t\t<a data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t...\n\t\t\t\t</a>\n\t\t\t\t<ul class=\"dropdown-menu\" style=\"max-height: 300px; overflow-y: auto;\">\n\t\t\t\t\t${actions\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(action) =>\n\t\t\t\t\t\t\t\t`<li class=\"dropdown-item\">\n\t\t\t\t\t\t\t\t\t<a data-action=\"${action.action}\">${action.label}</a>\n\t\t\t\t\t\t\t\t</li>`\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join(\"\")}\n\t\t\t\t</ul>\n\t\t\t</div>`);\n\n\t\tthis.card_actions.find(\"a[data-action]\").each((i, o) => {\n\t\t\tconst action = o.dataset.action;\n\t\t\t$(o).click(actions.find((a) => a.action === action));\n\t\t});\n\n\t\tthis.action_area.html(this.card_actions);\n\t}\n}\n", "import NumberCardWidget from '../../../../../frappe/frappe/public/js/frappe/widgets/number_card_widget.js'\n\nclass MyNumberCardWidget extends NumberCardWidget {\n\tset_title() {\n\t\t$(this.title_field).html(`<div class=\"number-label\">${__(this.card_doc.label)}</div>`);\n\t}\n}\n\nfrappe.widget.widget_factory.number_card = MyNumberCardWidget", "import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.widget.utils\");\nfrappe.provide(\"frappe.dashboards\");\nfrappe.provide(\"frappe.dashboards.chart_sources\");\n\nexport default class ChartWidget extends Widget {\n\tconstructor(opts) {\n\t\topts.shadow = true;\n\t\tsuper(opts);\n\t\tthis.height = this.height || 240;\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tchart_name: this.chart_name,\n\t\t\tlabel: this.label,\n\t\t\thidden: this.hidden,\n\t\t\twidth: this.width,\n\t\t};\n\t}\n\n\trefresh() {\n\t\tdelete this.dashboard_chart;\n\t\tthis.set_body();\n\t\tthis.make_chart();\n\t}\n\n\tset_chart_title() {\n\t\tconst max_chars = this.widget.width() < 600 ? 40 : 60;\n\t\tthis.set_title(max_chars);\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"dashboard-widget-box\");\n\t\tif (this.width == \"Full\") {\n\t\t\tthis.widget.addClass(\"full-width\");\n\t\t}\n\t}\n\n\tsetup_container() {\n\t\tthis.body.empty();\n\n\t\tif (this.chart_doc.type == \"Heatmap\") {\n\t\t\tthis.setup_heatmap_container();\n\t\t}\n\n\t\tthis.loading = $(\n\t\t\t`<div class=\"chart-loading-state text-muted\" style=\"height: ${this.height}px;\">${__(\n\t\t\t\t\"Loading...\"\n\t\t\t)}</div>`\n\t\t);\n\t\tthis.loading.appendTo(this.body);\n\n\t\tthis.empty = $(\n\t\t\t`<div class=\"chart-loading-state text-muted\" style=\"height: ${this.height}px;\">${__(\n\t\t\t\t\"No Data\"\n\t\t\t)}</div>`\n\t\t);\n\t\tthis.empty.hide().appendTo(this.body);\n\n\t\tthis.chart_wrapper = $(`<div></div>`);\n\t\tthis.chart_wrapper.appendTo(this.body);\n\n\t\tthis.$heatmap_legend = null;\n\t\tthis.set_chart_title();\n\t}\n\n\tsetup_heatmap_container() {\n\t\tthis.widget.addClass(\"heatmap-chart\");\n\t\tthis.widget.removeClass(\"full-width\").addClass(\"full-width\");\n\t\tthis.width = \"Full\";\n\t}\n\n\tset_summary() {\n\t\tif (!this.$summary) {\n\t\t\tthis.$summary = $(`<div class=\"report-summary\"></div>`).hide();\n\t\t\tthis.head.after(this.$summary);\n\t\t} else {\n\t\t\tthis.$summary.empty();\n\t\t}\n\n\t\tthis.summary.forEach((summary) => {\n\t\t\tfrappe.utils.build_summary_item(summary).appendTo(this.$summary);\n\t\t});\n\t\tthis.summary.length && this.$summary.show();\n\t}\n\n\tmake_chart() {\n\t\tthis.get_settings().then(() => {\n\t\t\tif (!this.settings) {\n\t\t\t\tthis.deleted = true;\n\t\t\t\tthis.widget.remove();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.chart_settings) {\n\t\t\t\tthis.chart_settings = {};\n\t\t\t}\n\t\t\tthis.setup_container();\n\t\t\tif (!this.in_customize_mode) {\n\t\t\t\tthis.action_area.empty();\n\t\t\t\tthis.prepare_chart_actions();\n\n\t\t\t\tif (this.chart_doc.timeseries) {\n\t\t\t\t\tthis.render_time_series_filters();\n\t\t\t\t}\n\t\t\t}\n\t\t\tfrappe.run_serially([\n\t\t\t\t() => this.prepare_chart_object(),\n\t\t\t\t() => this.setup_filter_button(),\n\t\t\t\t() => this.fetch_and_update_chart(),\n\t\t\t]);\n\t\t});\n\t}\n\n\trender_time_series_filters() {\n\t\tlet filters = this.get_time_series_filters();\n\t\tfrappe.dashboard_utils.render_chart_filters(filters, \"chart-actions\", this.action_area, 0);\n\t}\n\n\tget_time_series_filters() {\n\t\tlet filters;\n\t\tif (this.chart_doc.type == \"Heatmap\") {\n\t\t\tfilters = [\n\t\t\t\t{\n\t\t\t\t\tlabel: this.chart_settings.heatmap_year || this.chart_doc.heatmap_year,\n\t\t\t\t\toptions: frappe.dashboard_utils.get_years_since_creation(\n\t\t\t\t\t\tfrappe.boot.user.creation\n\t\t\t\t\t),\n\t\t\t\t\taction: (selected_item) => {\n\t\t\t\t\t\tthis.selected_heatmap_year = selected_item;\n\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\theatmap_year: this.selected_heatmap_year,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t];\n\t\t} else {\n\t\t\tfilters = [\n\t\t\t\t{\n\t\t\t\t\tlabel: this.chart_settings.time_interval || this.chart_doc.time_interval,\n\t\t\t\t\toptions: [\"Yearly\", \"Quarterly\", \"Monthly\", \"Weekly\", \"Daily\"],\n\t\t\t\t\ticon: \"calendar\",\n\t\t\t\t\tclass: \"time-interval-filter\",\n\t\t\t\t\taction: (selected_item) => {\n\t\t\t\t\t\tthis.selected_time_interval = selected_item;\n\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\ttime_interval: this.selected_time_interval,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: this.chart_settings.timespan || this.chart_doc.timespan,\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t\"Select Date Range\",\n\t\t\t\t\t\t\"Last Year\",\n\t\t\t\t\t\t\"Last Quarter\",\n\t\t\t\t\t\t\"Last Month\",\n\t\t\t\t\t\t\"Last Week\",\n\t\t\t\t\t],\n\t\t\t\t\tclass: \"timespan-filter\",\n\t\t\t\t\taction: (selected_item) => {\n\t\t\t\t\t\tthis.selected_timespan = selected_item;\n\n\t\t\t\t\t\tif (this.selected_timespan === \"Select Date Range\") {\n\t\t\t\t\t\t\tthis.render_date_range_field();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selected_from_date = null;\n\t\t\t\t\t\t\tthis.selected_to_date = null;\n\t\t\t\t\t\t\tif (this.date_field_wrapper) {\n\t\t\t\t\t\t\t\tthis.date_field_wrapper.hide();\n\n\t\t\t\t\t\t\t\t// Title maybe hidden becuase of date range fields\n\t\t\t\t\t\t\t\t// in half width chart\n\t\t\t\t\t\t\t\tthis.title_field.show();\n\t\t\t\t\t\t\t\tthis.subtitle_field.show();\n\t\t\t\t\t\t\t\tthis.head.css(\"flex-direction\", \"row\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\t\ttimespan: this.selected_timespan,\n\t\t\t\t\t\t\t\tfrom_date: null,\n\t\t\t\t\t\t\t\tto_date: null,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn filters;\n\t}\n\n\tfetch_and_update_chart() {\n\t\tthis.args = {\n\t\t\ttimespan: this.selected_timespan || this.chart_settings.timespan,\n\t\t\ttime_interval: this.selected_time_interval || this.chart_settings.time_interval,\n\t\t\tfrom_date: this.selected_from_date || this.chart_settings.from_date,\n\t\t\tto_date: this.selected_to_date || this.chart_settings.to_date,\n\t\t\theatmap_year: this.selected_heatmap_year || this.chart_settings.heatmap_year,\n\t\t};\n\n\t\tthis.fetch(this.filters, true, this.args).then((data) => {\n\t\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\t\tthis.report_result = data;\n\t\t\t\tthis.summary = data.report_summary;\n\t\t\t\tdata = this.get_report_chart_data(data);\n\t\t\t}\n\n\t\t\tthis.update_chart_object();\n\t\t\tthis.data = data;\n\t\t\tthis.render();\n\t\t});\n\t}\n\n\trender_date_range_field() {\n\t\tif (!this.date_field_wrapper || !this.date_field_wrapper.is(\":visible\")) {\n\t\t\tthis.date_field_wrapper = $(\n\t\t\t\t`<div class=\"dashboard-date-field pull-right\"></div>`\n\t\t\t).insertAfter(this.action_area.find(\".timespan-filter\"));\n\n\t\t\tif (this.width !== \"Full\" && this.widget.width() < 700) {\n\t\t\t\tthis.title_field.hide();\n\t\t\t\tthis.subtitle_field.hide();\n\t\t\t\tthis.head.css(\"flex-direction\", \"row-reverse\");\n\t\t\t}\n\n\t\t\tthis.date_range_field = frappe.ui.form.make_control({\n\t\t\t\tdf: {\n\t\t\t\t\tfieldtype: \"DateRange\",\n\t\t\t\t\tfieldname: \"from_date\",\n\t\t\t\t\tplaceholder: \"Date Range\",\n\t\t\t\t\tinput_class: \"input-xs\",\n\t\t\t\t\tdefault: [this.chart_settings.from_date, this.chart_settings.to_date],\n\t\t\t\t\tvalue: [this.chart_settings.from_date, this.chart_settings.to_date],\n\t\t\t\t\treqd: 1,\n\t\t\t\t\tchange: () => {\n\t\t\t\t\t\tlet selected_date_range = this.date_range_field.get_value();\n\t\t\t\t\t\tthis.selected_from_date = selected_date_range[0];\n\t\t\t\t\t\tthis.selected_to_date = selected_date_range[1];\n\n\t\t\t\t\t\tif (selected_date_range && selected_date_range.length == 2) {\n\t\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\t\ttimespan: this.selected_timespan,\n\t\t\t\t\t\t\t\tfrom_date: this.selected_from_date,\n\t\t\t\t\t\t\t\tto_date: this.selected_to_date,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tparent: this.date_field_wrapper,\n\t\t\t\trender_input: 1,\n\t\t\t});\n\n\t\t\tthis.date_range_field.$input.focus();\n\t\t}\n\t}\n\n\tget_report_chart_data(result) {\n\t\tif (result.chart && this.chart_doc.use_report_chart) {\n\t\t\treturn result.chart.data;\n\t\t} else {\n\t\t\tlet y_fields = [];\n\t\t\tthis.chart_doc.y_axis.map((field) => {\n\t\t\t\ty_fields.push(field.y_field);\n\t\t\t});\n\n\t\t\tlet chart_fields = {\n\t\t\t\ty_fields: y_fields,\n\t\t\t\tx_field: this.chart_doc.x_field,\n\t\t\t\tchart_type: this.chart_doc.type,\n\t\t\t\tcolor: this.chart_doc.color,\n\t\t\t};\n\t\t\tlet columns = result.columns.map((col) => {\n\t\t\t\treturn frappe.report_utils.prepare_field_from_column(col);\n\t\t\t});\n\n\t\t\treturn frappe.report_utils.make_chart_options(columns, result, chart_fields).data;\n\t\t}\n\t}\n\n\tprepare_chart_actions() {\n\t\tlet actions = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Refresh\"),\n\t\t\t\taction: \"action-refresh\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tdelete this.dashboard_chart;\n\t\t\t\t\tthis.make_chart();\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Edit\"),\n\t\t\t\taction: \"action-edit\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\"Form\", \"Dashboard Chart\", this.chart_doc.name);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Reset Chart\"),\n\t\t\t\taction: \"action-reset\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.reset_chart();\n\t\t\t\t\tdelete this.dashboard_chart;\n\t\t\t\t\tthis.make_chart();\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tif (this.chart_doc.document_type) {\n\t\t\tactions.push({\n\t\t\t\tlabel: __(\"{0} List\", [this.chart_doc.document_type]),\n\t\t\t\taction: \"action-list\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\"List\", this.chart_doc.document_type);\n\t\t\t\t},\n\t\t\t});\n\t\t} else if (this.chart_doc.chart_type === \"Report\") {\n\t\t\tactions.push({\n\t\t\t\tlabel: __(\"{0} Report\", [this.chart_doc.report_name]),\n\t\t\t\taction: \"action-list\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\"query-report\", this.chart_doc.report_name, this.filters);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tthis.set_chart_actions(actions);\n\t}\n\n\tsetup_filter_button() {\n\t\tif (this.in_customize_mode) return;\n\n\t\tthis.is_document_type =\n\t\t\tthis.chart_doc.chart_type !== \"Report\" && this.chart_doc.chart_type !== \"Custom\";\n\n\t\tthis.filter_button = $(\n\t\t\t`<div class=\"filter-chart btn btn-xs pull-right\">\n\t\t\t\t${frappe.utils.icon(\"filter\", \"sm\")}\n\t\t\t</div>`\n\t\t);\n\n\t\tthis.filter_button.appendTo(this.action_area);\n\n\t\tif (this.is_document_type) {\n\t\t\tif (this.filter_group) {\n\t\t\t\tthis.filters = this.filter_group.get_filters();\n\t\t\t}\n\t\t\tthis.create_filter_group_and_add_filters();\n\t\t} else {\n\t\t\tthis.filter_button.on(\"click\", () => {\n\t\t\t\tlet fields;\n\n\t\t\t\tfrappe.dashboard_utils\n\t\t\t\t\t.get_filters_for_chart_type(this.chart_doc)\n\t\t\t\t\t.then((filters) => {\n\t\t\t\t\t\tif (!this.is_document_type) {\n\t\t\t\t\t\t\tif (!filters) {\n\t\t\t\t\t\t\t\tfields = [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\t\t\t\t\t\toptions: __(\"No Filters Set\"),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfields = filters\n\t\t\t\t\t\t\t\t\t.filter((df) => df.fieldname)\n\t\t\t\t\t\t\t\t\t.map((df) => {\n\t\t\t\t\t\t\t\t\t\tObject.assign(df, df.dashboard_config || {});\n\t\t\t\t\t\t\t\t\t\treturn df;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfields = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\t\t\t\t\tfieldname: \"filter_area\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.setup_filter_dialog(fields);\n\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tsetup_filter_dialog(fields) {\n\t\tlet me = this;\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Set Filters for {0}\", [this.chart_doc.chart_name]),\n\t\t\tfields: fields,\n\t\t\tprimary_action: function () {\n\t\t\t\tlet values = this.get_values();\n\t\t\t\tif (values) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tme.filters = values;\n\t\t\t\t\tme.save_chart_config_for_user({ filters: me.filters });\n\t\t\t\t\tme.fetch_and_update_chart();\n\t\t\t\t}\n\t\t\t},\n\t\t\tprimary_action_label: \"Set\",\n\t\t});\n\n\t\tdialog.show();\n\n\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\t//Set query report object so that it can be used while fetching filter values in the report\n\t\t\tfrappe.query_report = new frappe.views.QueryReport({ filters: dialog.fields_list });\n\t\t\tfrappe.query_reports[this.chart_doc.report_name].onload &&\n\t\t\t\tfrappe.query_reports[this.chart_doc.report_name].onload(frappe.query_report);\n\t\t}\n\t\tdialog.set_values(this.filters);\n\t}\n\n\treset_chart() {\n\t\tthis.save_chart_config_for_user(null, 1);\n\t\tthis.chart_settings = {};\n\t\tthis.filters = null;\n\t\tthis.selected_time_interval = null;\n\t\tthis.selected_timespan = null;\n\t\tthis.selected_heatmap_year = null;\n\t}\n\n\tsave_chart_config_for_user(config, reset = 0) {\n\t\tObject.assign(this.chart_settings, config);\n\t\tfrappe.xcall(\n\t\t\t\"frappe.desk.doctype.dashboard_settings.dashboard_settings.save_chart_config\",\n\t\t\t{\n\t\t\t\treset: reset,\n\t\t\t\tconfig: this.chart_settings,\n\t\t\t\tchart_name: this.chart_doc.chart_name,\n\t\t\t}\n\t\t);\n\t}\n\n\tcreate_filter_group_and_add_filters() {\n\t\tthis.filter_group = new frappe.ui.FilterGroup({\n\t\t\tdoctype: this.chart_doc.document_type,\n\t\t\tparent_doctype: this.chart_doc.parent_document_type,\n\t\t\tfilter_button: this.filter_button,\n\t\t\ton_change: () => {\n\t\t\t\tthis.filters = this.filter_group.get_filters();\n\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t});\n\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t},\n\t\t});\n\n\t\tthis.filters &&\n\t\t\tfrappe.model.with_doctype(this.chart_doc.document_type, () => {\n\t\t\t\tthis.filter_group.add_filters_to_filter_group(this.filters);\n\t\t\t});\n\t}\n\n\tset_chart_actions(actions) {\n\t\tthis.chart_actions = $(`<div class=\"chart-actions dropdown pull-right\">\n\t\t\t<button data-toggle=\"dropdown\"\n\t\t\t\taria-haspopup=\"true\"aria-expanded=\"false\"\n\t\t\t\tclass=\"btn btn-xs btn-secondary chart-menu\"\n\t\t\t>\n\t\t\t\t<svg class=\"icon icon-sm\">\n\t\t\t\t\t<use href=\"#icon-dot-horizontal\">\n\t\t\t\t\t</use>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-right\">\n\t\t\t\t${actions\n\t\t\t\t\t.map(\n\t\t\t\t\t\t(action) =>\n\t\t\t\t\t\t\t`<li><a class=\"dropdown-item\" data-action=\"${action.action}\">${action.label}</a></li>`\n\t\t\t\t\t)\n\t\t\t\t\t.join(\"\")}\n\t\t\t</ul>\n\t\t</div>\n\t\t`);\n\t\t/* eslint-enable indent */\n\n\t\tthis.chart_actions.find(\"a[data-action]\").each((i, o) => {\n\t\t\tconst action = o.dataset.action;\n\t\t\t$(o).click(actions.find((a) => a.action === action));\n\t\t});\n\t\tthis.chart_actions.appendTo(this.action_area);\n\t}\n\n\tfetch(filters, refresh = false, args) {\n\t\tlet method = this.settings.method;\n\n\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\targs = {\n\t\t\t\treport_name: this.chart_doc.report_name,\n\t\t\t\tfilters: filters,\n\t\t\t\tignore_prepared_report: 1,\n\t\t\t};\n\t\t} else {\n\t\t\targs = {\n\t\t\t\tchart_name: this.chart_doc.name,\n\t\t\t\tfilters: filters,\n\t\t\t\trefresh: refresh ? 1 : 0,\n\t\t\t\ttime_interval: args && args.time_interval ? args.time_interval : null,\n\t\t\t\ttimespan: args && args.timespan ? args.timespan : null,\n\t\t\t\tfrom_date: args && args.from_date ? args.from_date : null,\n\t\t\t\tto_date: args && args.to_date ? args.to_date : null,\n\t\t\t\theatmap_year: args && args.heatmap_year ? args.heatmap_year : null,\n\t\t\t};\n\t\t}\n\t\treturn frappe.xcall(method, args);\n\t}\n\n\tasync get_source_doctype() {\n\t\tif (this.chart_doc.document_type) {\n\t\t\treturn this.chart_doc.document_type;\n\t\t}\n\t\tif (this.chart_doc.chart_type == \"Report\" && this.chart_doc.report_name) {\n\t\t\treturn await frappe.db\n\t\t\t\t.get_value(\"Report\", this.chart_doc.report_name, \"ref_doctype\")\n\t\t\t\t.then((r) => r.message.ref_doctype);\n\t\t}\n\t}\n\n\tasync render() {\n\t\tlet setup_dashboard_chart = () => {\n\t\t\tconst chart_args = this.get_chart_args();\n\n\t\t\tif (!this.dashboard_chart) {\n\t\t\t\tthis.dashboard_chart = frappe.utils.make_chart(this.chart_wrapper[0], chart_args);\n\t\t\t} else {\n\t\t\t\tthis.dashboard_chart.update(this.data);\n\t\t\t}\n\t\t};\n\n\t\tif (!this.data || !this.data.labels || !Object.keys(this.data).length) {\n\t\t\tthis.chart_wrapper.hide();\n\t\t\tthis.loading.hide();\n\t\t\tthis.$summary && this.$summary.hide();\n\t\t\tthis.empty.show();\n\t\t} else {\n\t\t\tthis.loading.hide();\n\t\t\tthis.empty.hide();\n\t\t\tthis.chart_wrapper.show();\n\t\t\tthis.chart_doc.document_type = await this.get_source_doctype();\n\n\t\t\tif (this.chart_doc.document_type) {\n\t\t\t\tfrappe.model.with_doctype(this.chart_doc.document_type, setup_dashboard_chart);\n\t\t\t} else {\n\t\t\t\tsetup_dashboard_chart();\n\t\t\t}\n\n\t\t\tthis.width == \"Full\" && this.summary && this.set_summary();\n\t\t\tthis.chart_doc.type == \"Heatmap\" && this.render_heatmap_legend();\n\t\t}\n\t}\n\n\tget_chart_args() {\n\t\tlet colors = this.get_chart_colors();\n\t\tlet fieldtype, options;\n\n\t\tconst chart_type_map = {\n\t\t\tLine: \"line\",\n\t\t\tBar: \"bar\",\n\t\t\tPercentage: \"percentage\",\n\t\t\tPie: \"pie\",\n\t\t\tDonut: \"donut\",\n\t\t\tHeatmap: \"heatmap\",\n\t\t};\n\n\t\tlet max_slices = [\"Pie\", \"Donut\"].includes(this.chart_doc.type) ? 6 : 9;\n\t\tlet chart_args = {\n\t\t\tdata: this.data,\n\t\t\ttype: chart_type_map[this.chart_doc.type],\n\t\t\tcolors: colors,\n\t\t\theight: this.height,\n\t\t\tmaxSlices: this.chart_doc.number_of_groups || max_slices,\n\t\t\taxisOptions: {\n\t\t\t\txIsSeries: this.chart_doc.timeseries,\n\t\t\t\tshortenYAxisNumbers: 1,\n\t\t\t},\n\t\t};\n\n\t\tif (this.chart_doc.document_type) {\n\t\t\tlet doctype_meta = frappe.get_meta(this.chart_doc.document_type);\n\t\t\tlet field = doctype_meta.fields.find(\n\t\t\t\t(x) => x.fieldname == this.chart_doc.value_based_on\n\t\t\t);\n\t\t\tfieldtype = field?.fieldtype;\n\t\t\toptions = field?.options;\n\t\t}\n\n\t\tif (this.chart_doc.chart_type == \"Report\" && this.report_result?.chart?.fieldtype) {\n\t\t\tfieldtype = this.report_result.chart.fieldtype;\n\t\t\toptions = this.report_result.chart.options;\n\t\t}\n\n\t\tchart_args.tooltipOptions = {\n\t\t\tformatTooltipY: (value) =>\n\t\t\t\tfrappe.format(\n\t\t\t\t\tvalue,\n\t\t\t\t\t{ fieldtype, options },\n\t\t\t\t\t{ always_show_decimals: true, inline: true }\n\t\t\t\t),\n\t\t};\n\n\t\tif (this.chart_doc.type == \"Heatmap\") {\n\t\t\tconst heatmap_year = parseInt(\n\t\t\t\tthis.selected_heatmap_year ||\n\t\t\t\t\tthis.chart_settings.heatmap_year ||\n\t\t\t\t\tthis.chart_doc.heatmap_year\n\t\t\t);\n\t\t\tchart_args.data.start = new Date(`${heatmap_year}-01-01`);\n\t\t\tchart_args.data.end = new Date(`${heatmap_year + 1}-01-01`);\n\t\t}\n\n\t\tlet set_options = (options) => {\n\t\t\tlet custom_options = JSON.parse(options);\n\t\t\tfor (let key in custom_options) {\n\t\t\t\tif (\n\t\t\t\t\ttypeof chart_args[key] === \"object\" &&\n\t\t\t\t\ttypeof custom_options[key] === \"object\"\n\t\t\t\t) {\n\t\t\t\t\tchart_args[key] = Object.assign(chart_args[key], custom_options[key]);\n\t\t\t\t} else {\n\t\t\t\t\tchart_args[key] = custom_options[key];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (this.custom_options) {\n\t\t\tset_options(this.custom_options);\n\t\t}\n\n\t\tif (this.chart_doc.custom_options) {\n\t\t\tset_options(this.chart_doc.custom_options);\n\t\t}\n\n\t\treturn chart_args;\n\t}\n\n\tget_chart_colors() {\n\t\tlet colors = [];\n\t\tif (this.chart_doc.y_axis.length) {\n\t\t\tthis.chart_doc.y_axis.map((field) => {\n\t\t\t\tcolors.push(field.color);\n\t\t\t});\n\t\t} else if ([\"Line\", \"Bar\"].includes(this.chart_doc.type)) {\n\t\t\tcolors = [this.chart_doc.color || []];\n\t\t} else if (this.chart_doc.type == \"Heatmap\") {\n\t\t\tcolors = [];\n\t\t}\n\n\t\treturn colors;\n\t}\n\n\trender_heatmap_legend() {\n\t\tlet legend_colors;\n\n\t\tlet set_legend_color = (options) => {\n\t\t\tlegend_colors = JSON.parse(options).colors;\n\t\t};\n\n\t\tif (this.custom_options) {\n\t\t\tset_legend_color(this.custom_options);\n\t\t}\n\n\t\tif (this.chart_doc.custom_options) {\n\t\t\tset_legend_color(this.chart_doc.custom_options);\n\t\t}\n\n\t\tif (!this.$heatmap_legend && this.widget.width() > 991) {\n\t\t\tthis.$heatmap_legend = $(`\n\t\t\t\t<div class=\"heatmap-legend\">\n\t\t\t\t\t<ul class=\"legend-colors\">\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[0] || \"#ebedf0\"}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[1] || \"#c6e48b\"}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[2] || \"#7bc96f\"}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[3] || \"#239a3b\"}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[4] || \"#196127\"}\"></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div class=\"legend-label\">\n\t\t\t\t\t\t<div style=\"margin-bottom: 45px\">${__(\"Less\")}</div>\n\t\t\t\t\t\t<div>${__(\"More\")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\tthis.body.append(this.$heatmap_legend);\n\t\t}\n\t}\n\n\tupdate_last_synced() {\n\t\tif (!this.chart_doc.last_synced_on) {\n\t\t\treturn;\n\t\t}\n\t\tlet last_synced_text = __(\"Last synced {0}\", [\n\t\t\tcomment_when(this.chart_doc.last_synced_on),\n\t\t]);\n\t\tthis.subtitle_field.html(last_synced_text);\n\t}\n\n\tupdate_chart_object() {\n\t\tfrappe.db.get_doc(\"Dashboard Chart\", this.chart_doc.name).then((doc) => {\n\t\t\tthis.chart_doc = doc;\n\t\t\tthis.update_last_synced();\n\t\t});\n\t}\n\n\tprepare_chart_object() {\n\t\tif (this.chart_doc.type == \"Heatmap\" && !this.chart_doc.heatmap_year) {\n\t\t\tthis.chart_doc.heatmap_year = frappe.dashboard_utils.get_year(\n\t\t\t\tfrappe.datetime.now_date()\n\t\t\t);\n\t\t}\n\n\t\treturn this.set_chart_filters();\n\t}\n\n\tset_chart_filters() {\n\t\tlet user_saved_filters = this.chart_settings.filters || null;\n\t\tlet chart_saved_filters = frappe.dashboard_utils.get_all_filters(this.chart_doc);\n\n\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\treturn frappe.dashboard_utils\n\t\t\t\t.get_filters_for_chart_type(this.chart_doc)\n\t\t\t\t.then((filters) => {\n\t\t\t\t\tchart_saved_filters = this.update_default_date_filters(\n\t\t\t\t\t\tfilters,\n\t\t\t\t\t\tchart_saved_filters\n\t\t\t\t\t);\n\t\t\t\t\tthis.filters =\n\t\t\t\t\t\tfrappe.utils.parse_array(user_saved_filters) ||\n\t\t\t\t\t\tfrappe.utils.parse_array(this.filters) ||\n\t\t\t\t\t\tfrappe.utils.parse_array(chart_saved_filters);\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.filters =\n\t\t\t\tfrappe.utils.parse_array(user_saved_filters) ||\n\t\t\t\tfrappe.utils.parse_array(this.filters) ||\n\t\t\t\tfrappe.utils.parse_array(chart_saved_filters);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\n\tupdate_default_date_filters(report_filters, chart_filters) {\n\t\tif (report_filters) {\n\t\t\treport_filters.map((f) => {\n\t\t\t\tif ([\"Date\", \"DateRange\"].includes(f.fieldtype) && f.default) {\n\t\t\t\t\tif (f.reqd || chart_filters[f.fieldname]) {\n\t\t\t\t\t\tchart_filters[f.fieldname] = f.default;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn chart_filters;\n\t}\n\n\tget_settings() {\n\t\treturn frappe.model.with_doc(\"Dashboard Chart\", this.chart_name).then((chart_doc) => {\n\t\t\tif (chart_doc) {\n\t\t\t\tthis.chart_doc = chart_doc;\n\t\t\t\tif (this.chart_doc.chart_type == \"Custom\") {\n\t\t\t\t\t// custom source\n\t\t\t\t\tif (frappe.dashboards.chart_sources[this.chart_doc.source]) {\n\t\t\t\t\t\tthis.settings = frappe.dashboards.chart_sources[this.chart_doc.source];\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst method =\n\t\t\t\t\t\t\t\"frappe.desk.doctype.dashboard_chart_source.dashboard_chart_source.get_config\";\n\t\t\t\t\t\treturn frappe\n\t\t\t\t\t\t\t.xcall(method, { name: this.chart_doc.source })\n\t\t\t\t\t\t\t.then((config) => {\n\t\t\t\t\t\t\t\tfrappe.dom.eval(config);\n\t\t\t\t\t\t\t\tthis.settings =\n\t\t\t\t\t\t\t\t\tfrappe.dashboards.chart_sources[this.chart_doc.source];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else if (this.chart_doc.chart_type == \"Report\") {\n\t\t\t\t\tthis.settings = {\n\t\t\t\t\t\tmethod: \"frappe.desk.query_report.run\",\n\t\t\t\t\t};\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t} else {\n\t\t\t\t\tthis.settings = {\n\t\t\t\t\t\tmethod: \"frappe.desk.doctype.dashboard_chart.dashboard_chart.get\",\n\t\t\t\t\t};\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n", "import ChartWidget from '../../../../../frappe/frappe/public/js/frappe/widgets/chart_widget.js'\n\nclass MyChartWidget extends ChartWidget {\n\tset_chart_title() {\n        this.label = __(this.label || this.name);\n        super.set_chart_title();\n    }\n}\n\nfrappe.widget.widget_factory.chart = MyChartWidget\n\nfrappe.dashboard_utils.render_chart_filters = function(filters, button_class, container, append) {\n        //console.log('override renderchartfilter');\n\t\tfilters.forEach(filter => {\n\t\t\tlet icon_html = '', filter_class = '';\n\n\t\t\tif (filter.icon) {\n\t\t\t\ticon_html = frappe.utils.icon(filter.icon);\n\t\t\t}\n\n\t\t\tif (filter.class) {\n\t\t\t\tfilter_class = filter.class;\n\t\t\t}\n            //fisher \u5728filter.label\u524D\u52A0\u4E86\u7FFB\u8BD1\u51FD\u6570\n\t\t\tlet chart_filter_html =\n\t\t\t\t`<div class=\"${button_class} ${filter_class} btn-group dropdown pull-right\">\n\t\t\t\t\t<a data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t<button class=\"btn btn-secondary btn-xs\">\n\t\t\t \t\t\t\t${icon_html}\n\t\t\t\t\t\t\t<span class=\"filter-label\">${__(filter.label)}</span>\n\t\t\t\t\t\t\t${frappe.utils.icon('select', 'xs')}\n\t\t\t\t\t\t</button>\n\t\t\t\t</a>`;\n\t\t\tlet options_html;\n            //fisher \u4EE5\u4E0B\u4E24\u4E2AOption\u524D\u52A0\u4E86\u7FFB\u8BD1\u51FD\u6570\uFF0C\u4F7F\u7528selected_item \u539F\u503C\u53D6\u4EE3\u5DF2\u7FFB\u8BD1\u7684\u6807\u7B7E    \n\t\t\tif (filter.fieldnames) {\n\t\t\t\toptions_html = filter.options.map((option, i) =>\n\t\t\t\t\t`<li>\n\t\t\t\t\t\t<a class=\"dropdown-item\" data-fieldname=\"${filter.fieldnames[i]}\" selected_item=\"${option}\">${__(option)}</a>\n\t\t\t\t\t</li>`).join('');\n\t\t\t} else {\n\t\t\t\toptions_html = filter.options.map( option => `<li><a class=\"dropdown-item\" selected_item=\"${option}\">${__(option)}</a></li>`).join('');\n\t\t\t}\n\n\t\t\tlet dropdown_html = chart_filter_html + `<ul class=\"dropdown-menu\">${options_html}</ul></div>`;\n\t\t\tlet $chart_filter = $(dropdown_html);\n\n\t\t\tif (append) {\n\t\t\t\t$chart_filter.prependTo(container);\n\t\t\t} else $chart_filter.appendTo(container);\n\n\t\t\t$chart_filter.find('.dropdown-menu').on('click', 'li a', (e) => {\n\t\t\t\tlet $el = $(e.currentTarget);\n\t\t\t\tlet fieldname;\n\t\t\t\tif ($el.attr('data-fieldname')) {\n\t\t\t\t\tfieldname = $el.attr('data-fieldname');\n\t\t\t\t}\n\t\t\t\t//fisher \u4F7F\u7528selected_item \u539F\u503C\u53D6\u4EE3\u5DF2\u7FFB\u8BD1\u7684\u6807\u7B7E,\u4E0B\u4E00\u884C\u7684selected_text\u4E5F\u52A0\u4E0A\u7FFB\u8BD1\u51FD\u6570 \t\n\t\t\t\tlet selected_item = $el.attr('selected_item');\t// $el.text();\n\t\t\t\t$el.parents(`.${button_class}`).find('.filter-label').text(__(selected_item));\n\t\t\t\tfilter.action(selected_item, fieldname);\n\t\t\t});\n\t\t});\n\n\t}\n", "// \u65B0\u52A0\u4E00\u4E2A\u81EA\u52A8\u5B8C\u6210\u7684\u9009\u62E9\u6846\nfrappe.ui.Page = class MyPage  extends frappe.ui.Page{\n    add_auto_select(label, options, change) {\n        let field = this.add_field({label:label, fieldtype:\"Autocomplete\", options: options, change: change});\n\t\treturn field.$wrapper.find(\"input\").empty();\n\t}\n}", "// LICENSE\n//\n//\t This software is dual-licensed to the public domain and under the following\n//\t license: you are granted a perpetual, irrevocable license to copy, modify,\n//\t publish, and distribute this file as you see fit.\n//\n// VERSION\n//\t 0.1.0\t(2016-03-28)\tInitial release\n//\n// AUTHOR\n//\t Forrest Smith\n//\n// CONTRIBUTORS\n//\t J\uFFFDrgen Tjern\uFFFD - async helper\n//\t Anurag Awasthi - updated to 0.2.0\n\nconst SEQUENTIAL_BONUS = 25; // bonus for adjacent matches\nconst SEPARATOR_BONUS = 30; // bonus if match occurs after a separator\nconst CAMEL_BONUS = 30; // bonus if match is uppercase and prev is lower\nconst FIRST_LETTER_BONUS = 15; // bonus if the first letter is matched\n\nconst LEADING_LETTER_PENALTY = -5; // penalty applied for every letter in str before the first match\nconst MAX_LEADING_LETTER_PENALTY = -15; // maximum penalty for leading letters\nconst UNMATCHED_LETTER_PENALTY = -1;\n\n/**\n * Does a fuzzy search to find pattern inside a string.\n * @param {*} pattern string\t\t\t\tPattern to search for\n * @param {*} str string    \t\t\t\tString being searched\n * @returns [boolean, number, Array<number>]\t\tA boolean whether the pattern was found or not, a search score,\n * \t\t\t\t\t\t\tand an array with the positional match indices.\n */\nexport function fuzzy_match(pattern, str) {\n\tconst recursion_count = 0;\n\tconst recursion_limit = 10;\n\tconst max_matches = 256;\n\n\treturn fuzzy_match_recursive(\n\t\tpattern,\n\t\tstr,\n\t\t0 /* pattern_cur_index */,\n\t\t0 /* str_curr_index */,\n\t\tnull /* src_matches */,\n\t\t[] /* matches */,\n\t\tmax_matches,\n\t\t0 /* next_match */,\n\t\trecursion_count,\n\t\trecursion_limit\n\t);\n}\n\nfunction fuzzy_match_recursive(\n\tpattern,\n\tstr,\n\tpattern_cur_index,\n\tstr_curr_index,\n\tsrc_matches,\n\tmatches,\n\tmax_matches,\n\tnext_match,\n\trecursion_count,\n\trecursion_limit\n) {\n\tlet out_score = 0;\n\n\t// Return if recursion limit is reached.\n\tif (++recursion_count >= recursion_limit) {\n\t\treturn [false, out_score, matches];\n\t}\n\n\t// Return if we reached ends of strings.\n\tif (pattern_cur_index === pattern.length || str_curr_index === str.length) {\n\t\treturn [false, out_score, matches];\n\t}\n\n\t// Recursion params\n\tlet recursive_match = false;\n\tlet best_recursive_matches = [];\n\tlet best_recursive_score = 0;\n\n\t// Loop through pattern and str looking for a match.\n\tlet first_match = true;\n\twhile (pattern_cur_index < pattern.length && str_curr_index < str.length) {\n\t\t// Match found.\n\t\tif (pattern[pattern_cur_index].toLowerCase() === str[str_curr_index].toLowerCase()) {\n\t\t\tif (next_match >= max_matches) {\n\t\t\t\treturn [false, out_score, matches];\n\t\t\t}\n\n\t\t\tif (first_match && src_matches) {\n\t\t\t\tmatches = [...src_matches];\n\t\t\t\tfirst_match = false;\n\t\t\t}\n\n\t\t\tconst [matched, recursive_score, recursive_matches] = fuzzy_match_recursive(\n\t\t\t\tpattern,\n\t\t\t\tstr,\n\t\t\t\tpattern_cur_index,\n\t\t\t\tstr_curr_index + 1,\n\t\t\t\tmatches,\n\t\t\t\t[] /* recursive_matches */,\n\t\t\t\tmax_matches,\n\t\t\t\tnext_match,\n\t\t\t\trecursion_count,\n\t\t\t\trecursion_limit\n\t\t\t);\n\n\t\t\tif (matched) {\n\t\t\t\t// Pick best recursive score.\n\t\t\t\tif (!recursive_match || recursive_score > best_recursive_score) {\n\t\t\t\t\tbest_recursive_matches = [...recursive_matches];\n\t\t\t\t\tbest_recursive_score = recursive_score;\n\t\t\t\t}\n\t\t\t\trecursive_match = true;\n\t\t\t}\n\n\t\t\tmatches[next_match++] = str_curr_index;\n\t\t\t++pattern_cur_index;\n\t\t}\n\t\t++str_curr_index;\n\t}\n\n\tconst matched = pattern_cur_index === pattern.length;\n\n\tif (matched) {\n\t\tout_score = 100;\n\n\t\t// Apply leading letter penalty\n\t\tlet penalty = LEADING_LETTER_PENALTY * matches[0];\n\t\tpenalty = penalty < MAX_LEADING_LETTER_PENALTY ? MAX_LEADING_LETTER_PENALTY : penalty;\n\t\tout_score += penalty;\n\n\t\t//Apply unmatched penalty\n\t\tconst unmatched = str.length - next_match;\n\t\tout_score += UNMATCHED_LETTER_PENALTY * unmatched;\n\n\t\t// Apply ordering bonuses\n\t\tfor (let i = 0; i < next_match; i++) {\n\t\t\tconst curr_idx = matches[i];\n\n\t\t\tif (i > 0) {\n\t\t\t\tconst prev_idx = matches[i - 1];\n\t\t\t\tif (curr_idx == prev_idx + 1) {\n\t\t\t\t\tout_score += SEQUENTIAL_BONUS;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Check for bonuses based on neighbor character value.\n\t\t\tif (curr_idx > 0) {\n\t\t\t\t// Camel case\n\t\t\t\tconst neighbor = str[curr_idx - 1];\n\t\t\t\tconst curr = str[curr_idx];\n\t\t\t\tif (neighbor !== neighbor.toUpperCase() && curr !== curr.toLowerCase()) {\n\t\t\t\t\tout_score += CAMEL_BONUS;\n\t\t\t\t}\n\t\t\t\tconst is_neighbour_separator = neighbor == \"_\" || neighbor == \" \";\n\t\t\t\tif (is_neighbour_separator) {\n\t\t\t\t\tout_score += SEPARATOR_BONUS;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// First letter\n\t\t\t\tout_score += FIRST_LETTER_BONUS;\n\t\t\t}\n\t\t}\n\n\t\t// Return best result\n\t\tif (recursive_match && (!matched || best_recursive_score > out_score)) {\n\t\t\t// Recursive score is better than \"this\"\n\t\t\tmatches = [...best_recursive_matches];\n\t\t\tout_score = best_recursive_score;\n\t\t\treturn [true, out_score, matches];\n\t\t} else if (matched) {\n\t\t\t// \"this\" score is better than recursive\n\t\t\treturn [true, out_score, matches];\n\t\t} else {\n\t\t\treturn [false, out_score, matches];\n\t\t}\n\t}\n\treturn [false, out_score, matches];\n}\n", "//fisher \u5BFC\u5165\u88AB\u8C03\u7528\u51FD\u6570\nimport { fuzzy_match } from \"frappe/public/js/frappe/ui/toolbar/fuzzy_match.js\";  \n\n//fisher \u652F\u6301\u4E2D\u6587\u6216\u82F1\u6587\u68C0\u7D22\nfrappe.search.utils.fuzzy_search = function (keywords = \"\", _item = \"\", return_marked_string = false) {\n    let item = __(_item || '');\n\tlet [, score, matches] = fuzzy_match(keywords, item, return_marked_string);\n\t// fisher \u652F\u6301\u82F1\u6587\u68C0\u7D22\n\tif (score == 0 && frappe.boot.lang != 'en' && item !== _item){\n\t\titem = _item || '';\n\t\t[, score, matches] = fuzzy_match(keywords, item, return_marked_string);\n\t}\n\n\tif (!return_marked_string) {\n\t\treturn score;\n\t}\n\tif (score == 0) {\n\t\treturn { score, item };\n\t}\n\n\t// Create Boolean mask to mark matching indices in the item string\n\tconst matchArray = Array(item.length).fill(0);\n\tmatches.forEach((index) => (matchArray[index] = 1));\n\n\tlet marked_string = \"\";\n\tlet buffer = \"\";\n\n\t// Clear the buffer and return marked matches.\n\tconst flushBuffer = () => {\n\t\tif (!buffer) return \"\";\n\t\tconst temp = `<mark>${buffer}</mark>`;\n\t\tbuffer = \"\";\n\t\treturn temp;\n\t};\n\n\tmatchArray.forEach((isMatch, index) => {\n\t\tif (isMatch) {\n\t\t\tbuffer += item[index];\n\t\t} else {\n\t\t\tmarked_string += flushBuffer();\n\t\t\tmarked_string += item[index];\n\t\t}\n\t});\n\tmarked_string += flushBuffer();\n\n\treturn { score, marked_string };\n}", "\n// \u4FEE\u6539link\u7C7B\u578B\u6570\u636E\u7684\u7FFB\u8BD1\uFF0C\u4E3B\u8981\u5C31\u662F\u6DFB\u52A0\u4E86\u4E00\u4E2A\u65B9\u6CD5set_formatted_input\uFF0C\u7ED9input\u8BBE\u7F6E\u503C\u7684\u65F6\u5019\u8BBE\u7F6E\u7FFB\u8BD1\u8FC7\u540E\u7684\u503C\n// \u7136\u540E\u5728\u83B7\u53D6\u7126\u70B9\u548C\u5931\u53BB\u7126\u70B9\u7684\u65F6\u5019\u53D6\u503C\u903B\u8F91\u4FEE\u6539\u4E00\u4E0B\nfrappe.ui.form.ControlLink = class ControlLink extends frappe.ui.form.ControlLink {\n\tmake_input() {\n\t\tvar me = this;\n\t\t$(`<div class=\"link-field ui-front\" style=\"position: relative;\">\n\t\t\t<input type=\"text\" class=\"input-with-feedback form-control\">\n\t\t\t<span class=\"link-btn\">\n\t\t\t\t<a class=\"btn-open no-decoration\" title=\"${__(\"Open Link\")}\">\n\t\t\t\t\t${frappe.utils.icon(\"arrow-right\", \"xs\")}\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t</div>`).prependTo(this.input_area);\n\t\tthis.$input_area = $(this.input_area);\n\t\tthis.$input = this.$input_area.find(\"input\");\n\t\tthis.$link = this.$input_area.find(\".link-btn\");\n\t\tthis.$link_open = this.$link.find(\".btn-open\");\n\t\tthis.set_input_attributes();\n\t\tthis.$input.on(\"focus\", function () {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (me.$input.val() && me.get_options()) {\n\t\t\t\t\tlet doctype = me.get_options();\n\t\t\t\t\t// fisher \u4FEE\u6539\u53D6\u503C\u903B\u8F91\uFF0C\u76F4\u63A5\u4ECEdoc\u4E2D\u53D6\uFF0C\u4E0D\u4ECEinput\u6846\u4E2D\u53D6\u4E86\n\t\t\t\t\tlet real_value = me.doc ? me.doc[me.df['fieldname']] : me.$input.attr(\"data-value\")\n\t\t\t\t\tlet name = real_value ? real_value : me.get_input_value();\n\t\t\t\t\t//fisher \u7ED3\u675F\u4FEE\u6539\n\t\t\t\t\tme.$link.toggle(true);\n\t\t\t\t\tme.$link_open.attr(\"href\", frappe.utils.get_form_link(doctype, name));\n\t\t\t\t}\n\n\t\t\t\tif (!me.$input.val()) {\n\t\t\t\t\tme.$input.val(\"\").trigger(\"input\");\n\n\t\t\t\t\t// hide link arrow to doctype if none is set\n\t\t\t\t\tme.$link.toggle(false);\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t});\n\t\tthis.$input.on(\"blur\", function () {\n\t\t\t// if this disappears immediately, the user's click\n\t\t\t// does not register, hence timeout\n\t\t\tsetTimeout(function () {\n\t\t\t\tme.$link.toggle(false);\n\t\t\t}, 500);\n\t\t});\n\t\tthis.$input.attr(\"data-target\", this.df.options);\n\t\tthis.input = this.$input.get(0);\n\t\tthis.has_input = true;\n\t\tthis.translate_values = true;\n\t\tthis.setup_buttons();\n\t\tthis.setup_awesomeplete();\n\t\tthis.bind_change_event();\n\t}\n\n\tsetup_awesomeplete() {\n\t\tlet me = this;\n\n\t\tthis.$input.cache = {};\n\n\t\tthis.awesomplete = new Awesomplete(me.input, {\n\t\t\ttabSelect: true,\n\t\t\tminChars: 0,\n\t\t\tmaxItems: 99,\n\t\t\tautoFirst: true,\n\t\t\tlist: [],\n\t\t\treplace: function (item) {\n\t\t\t\t// Override Awesomeplete replace function as it is used to set the input value\n\t\t\t\t// https://github.com/LeaVerou/awesomplete/issues/17104#issuecomment-359185403\n\t\t\t\tthis.input.value = me.get_translated(item.label || item.value);\n\t\t\t},\n\t\t\tdata: function (item) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: me.get_translated(item.label || item.value),\n\t\t\t\t\tvalue: item.value,\n\t\t\t\t};\n\t\t\t},\n\t\t\tfilter: function () {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\titem: function (item) {\n\t\t\t\tlet d = this.get_item(item.value);\n\t\t\t\tif (!d.label) {\n\t\t\t\t\td.label = d.value;\n\t\t\t\t}\n\n\t\t\t\tlet _label = me.get_translated(d.label);\n\t\t\t\tlet html = d.html || \"<strong>\" + _label + \"</strong>\";\n\t\t\t\tif (\n\t\t\t\t\td.description &&\n\t\t\t\t\t// for title links, we want to inlude the value in the description\n\t\t\t\t\t// because it will not visible otherwise\n\t\t\t\t\t(me.is_title_link() || d.value !== d.description)\n\t\t\t\t) {\n\t\t\t\t\thtml += '<br><span class=\"small\">' + __(d.description) + \"</span>\";\n\t\t\t\t}\n\t\t\t\treturn $(\"<li></li>\")\n\t\t\t\t\t.data(\"item.autocomplete\", d)\n\t\t\t\t\t.prop(\"aria-selected\", \"false\")\n\t\t\t\t\t.html(`<a><p title=\"${frappe.utils.escape_html(_label)}\">${html}</p></a>`)\n\t\t\t\t\t.get(0);\n\t\t\t},\n\t\t\tsort: function () {\n\t\t\t\treturn 0;\n\t\t\t},\n\t\t});\n\n\t\tthis.custom_awesomplete_filter && this.custom_awesomplete_filter(this.awesomplete);\n\n\t\tthis.$input.on(\n\t\t\t\"input\",\n\t\t\tfrappe.utils.debounce(function (e) {\n\t\t\t\tvar doctype = me.get_options();\n\t\t\t\tif (!doctype) return;\n\t\t\t\tif (!me.$input.cache[doctype]) {\n\t\t\t\t\tme.$input.cache[doctype] = {};\n\t\t\t\t}\n\n\t\t\t\tvar term = e.target.value;\n\n\t\t\t\tif (me.$input.cache[doctype][term] != null) {\n\t\t\t\t\t// immediately show from cache\n\t\t\t\t\tme.awesomplete.list = me.$input.cache[doctype][term];\n\t\t\t\t}\n\t\t\t\tvar args = {\n\t\t\t\t\ttxt: term,\n\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\tignore_user_permissions: me.df.ignore_user_permissions,\n\t\t\t\t\treference_doctype: me.get_reference_doctype() || \"\",\n\t\t\t\t};\n\n\t\t\t\tme.set_custom_query(args);\n\n\t\t\t\tfrappe.call({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\tmethod: \"frappe.desk.search.search_link\",\n\t\t\t\t\tno_spinner: true,\n\t\t\t\t\targs: args,\n\t\t\t\t\tcallback: function (r) {\n\t\t\t\t\t\tif (!window.Cypress && !me.$input.is(\":focus\")) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tr.message = me.merge_duplicates(r.message);\n\n\t\t\t\t\t\t// show filter description in awesomplete\n\t\t\t\t\t\tlet filter_string = me.df.filter_description\n\t\t\t\t\t\t\t? me.df.filter_description\n\t\t\t\t\t\t\t: args.filters\n\t\t\t\t\t\t\t? me.get_filter_description(args.filters)\n\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\tif (filter_string) {\n\t\t\t\t\t\t\tr.message.push({\n\t\t\t\t\t\t\t\thtml: `<span class=\"text-muted\" style=\"line-height: 1.5\">${filter_string}</span>`,\n\t\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\t\taction: () => {},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!me.df.only_select) {\n\t\t\t\t\t\t\tif (frappe.model.can_create(doctype)) {\n\t\t\t\t\t\t\t\t// new item\n\t\t\t\t\t\t\t\tr.message.push({\n\t\t\t\t\t\t\t\t\thtml:\n\t\t\t\t\t\t\t\t\t\t\"<span class='link-option'>\" +\n\t\t\t\t\t\t\t\t\t\t\"<i class='fa fa-plus' style='margin-right: 5px;'></i> \" +\n\t\t\t\t\t\t\t\t\t\t__(\"Create a new {0}\", [__(me.get_options())]) +\n\t\t\t\t\t\t\t\t\t\t\"</span>\",\n\t\t\t\t\t\t\t\t\tlabel: __(\"Create a new {0}\", [__(me.get_options())]),\n\t\t\t\t\t\t\t\t\tvalue: \"create_new__link_option\",\n\t\t\t\t\t\t\t\t\taction: me.new_doc,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//custom link actions\n\t\t\t\t\t\t\tlet custom__link_options =\n\t\t\t\t\t\t\t\tfrappe.ui.form.ControlLink.link_options &&\n\t\t\t\t\t\t\t\tfrappe.ui.form.ControlLink.link_options(me);\n\n\t\t\t\t\t\t\tif (custom__link_options) {\n\t\t\t\t\t\t\t\tr.message = r.message.concat(custom__link_options);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// advanced search\n\t\t\t\t\t\t\tif (locals && locals[\"DocType\"]) {\n\t\t\t\t\t\t\t\t// not applicable in web forms\n\t\t\t\t\t\t\t\tr.message.push({\n\t\t\t\t\t\t\t\t\thtml:\n\t\t\t\t\t\t\t\t\t\t\"<span class='link-option'>\" +\n\t\t\t\t\t\t\t\t\t\t\"<i class='fa fa-search' style='margin-right: 5px;'></i> \" +\n\t\t\t\t\t\t\t\t\t\t__(\"Advanced Search\") +\n\t\t\t\t\t\t\t\t\t\t\"</span>\",\n\t\t\t\t\t\t\t\t\tlabel: __(\"Advanced Search\"),\n\t\t\t\t\t\t\t\t\tvalue: \"advanced_search__link_option\",\n\t\t\t\t\t\t\t\t\taction: me.open_advanced_search,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tme.$input.cache[doctype][term] = r.message;\n\t\t\t\t\t\tme.awesomplete.list = me.$input.cache[doctype][term];\n\t\t\t\t\t\tme.toggle_href(doctype);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}, 500)\n\t\t);\n\n\t\tthis.$input.on(\"blur\", function () {\n\t\t\tif (me.selected) {\n\t\t\t\tme.selected = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet input_value = me.get_input_value();\n\t\t\tlet label = me.get_label_value();\n\t\t\tlet last_value = me.last_value || \"\";\n\t\t\tlet last_label = me.label || \"\";\n\t\t\t// fisher \u4FEE\u6539\u53D6\u503C\u5BF9\u6BD4\u903B\u8F91\uFF0C \u8F93\u5165\u6846\u7684\u503C\u548C\u7FFB\u8BD1\u8FC7\u540E\u7684doc\u4E2D\u503C\u4E0D\u4E00\u6837\uFF0C\u5C31\u53D6\u8F93\u5165\u6846\u7684\u503C\uFF0C\u4E00\u6837\u5C31\u53D6doc\u4E2D\u7684\u503C\t\t\t\t\t\t\n\t\t\tlet real_value = me.doc ? me.doc[me.df['fieldname']] : me.$input.attr(\"data-value\")\n\t\t\tlet value = __(real_value) != input_value ? input_value : real_value\n\t\t\tif (value !== last_value) {\n\t\t\t\tme.parse_validate_and_set_in_model(value, null, label);\n\t\t\t}\t\t\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-open\", () => {\n\t\t\tthis.autocomplete_open = true;\n\n\t\t\tif (!me.get_label_value()) {\n\t\t\t\t// hide link arrow to doctype if none is set\n\t\t\t\tme.$link.toggle(false);\n\t\t\t}\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-close\", (e) => {\n\t\t\tthis.autocomplete_open = false;\n\n\t\t\tif (!me.get_label_value()) {\n\t\t\t\t// hide link arrow to doctype if none is set\n\t\t\t\tme.$link.toggle(false);\n\t\t\t}\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-select\", function (e) {\n\t\t\tvar o = e.originalEvent;\n\t\t\tvar item = me.awesomplete.get_item(o.text.value);\n\n\t\t\tme.autocomplete_open = false;\n\n\t\t\t// prevent selection on tab\n\t\t\tlet TABKEY = 9;\n\t\t\tif (e.keyCode === TABKEY) {\n\t\t\t\te.preventDefault();\n\t\t\t\tme.awesomplete.close();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (item.action) {\n\t\t\t\titem.value = \"\";\n\t\t\t\titem.label = \"\";\n\t\t\t\titem.action.apply(me);\n\t\t\t}\n\n\t\t\t// if remember_last_selected is checked in the doctype against the field,\n\t\t\t// then add this value\n\t\t\t// to defaults so you do not need to set it again\n\t\t\t// unless it is changed.\n\t\t\tif (me.df.remember_last_selected_value) {\n\t\t\t\tfrappe.boot.user.last_selected_values[me.df.options] = item.value;\n\t\t\t}\n\n\t\t\tme.parse_validate_and_set_in_model(item.value, null, item.label);\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-selectcomplete\", function (e) {\n\t\t\tlet o = e.originalEvent;\n\t\t\tif (o.text.value.indexOf(\"__link_option\") !== -1) {\n\t\t\t\tme.$input.val(\"\");\n\t\t\t}\n\t\t});\n\t}\n\n\tget_filter_description(filters) {\n\t\tlet doctype = this.get_options();\n\t\tlet filter_array = [];\n\t\tlet meta = null;\n\n\t\tfrappe.model.with_doctype(doctype, () => {\n\t\t\tmeta = frappe.get_meta(doctype);\n\t\t});\n\n\t\t// convert object style to array\n\t\tif (!Array.isArray(filters)) {\n\t\t\tfor (let fieldname in filters) {\n\t\t\t\tlet value = filters[fieldname];\n\t\t\t\tif (!Array.isArray(value)) {\n\t\t\t\t\tvalue = ['=', value];\n\t\t\t\t}\n\t\t\t\tfilter_array.push([fieldname, ...value]); // fieldname, operator, value\n\t\t\t}\n\t\t} else {\n\t\t\tfilter_array = filters;\n\t\t}\n\n\t\t// add doctype if missing\n\t\tfilter_array = filter_array.map(filter => {\n\t\t\tif (filter.length === 3) {\n\t\t\t\treturn [doctype, ...filter]; // doctype, fieldname, operator, value\n\t\t\t}\n\t\t\treturn filter;\n\t\t});\n\n\t\tfunction get_filter_description(filter) {\n\t\t\tlet doctype = filter[0];\n\t\t\tlet fieldname = filter[1];\n\t\t\tlet docfield = frappe.meta.get_docfield(doctype, fieldname);\n\t\t\tlet label = docfield ? docfield.label : frappe.model.unscrub(fieldname);\n\n\t\t\tif (docfield && docfield.fieldtype === 'Check') {\n\t\t\t\tfilter[3] = filter[3] ? __('Yes'): __('No');\n\t\t\t}\n\n\t\t\tif (filter[3] && Array.isArray(filter[3]) && filter[3].length > 5) {\n\t\t\t\tfilter[3] = filter[3].slice(0, 5);\n\t\t\t\tfilter[3].push('...');\n\t\t\t}\n\n\t\t\tlet value = filter[3] == null || filter[3] === ''\n\t\t\t\t? __('empty')\n\t\t\t\t: filter[3];\n\n\t\t\treturn [__(label).bold(), __(filter[2]), (Array.isArray(filter[3]) ? String(value.map(v => __(v))) : String(__(value))).bold()].join(' ');\n\t\t}\n\n\t\tlet filter_string = filter_array\n\t\t\t.map(get_filter_description)\n\t\t\t.join(', ');\n\n\t\treturn __('Filters applied for {0}', [filter_string]);\n\t}\n\n    // fisher \u6DFB\u52A0\u7684\u65B9\u6CD5\n    set_formatted_input(value) {\n\t\tvar me = this\n\t\tme.$input && me.$input.attr(\"data-value\", value === undefined ? '' : value)\n\t\tme.$input && me.$input.val(me.format_for_input(__(value)));\n\t\tsuper.set_formatted_input(value);\n\t}\n\n\t// fisher \u83B7\u53D6\u672C\u6765\u7684\u503C\n\tget_value() {\n\t\tlet me = this\n\t\tlet real_value = me.doc ? me.doc[me.df['fieldname']] : (me.$input ? me.$input.attr(\"data-value\") : undefined)\n\t\tlet value = real_value ? real_value : me.get_input_value();\n\t\tif(this.get_status()==='Write') {\n\t\t\treturn this.parse ? this.parse(value) : value;\n\t\t} else {\n\t\t\treturn value? value: this.value || null;\n\t\t}\n\t}\n}\n\nfrappe.ui.form.ControlAutocomplete = class ControlAutocomplete extends frappe.ui.form.ControlAutocomplete {\n\tsetup_awesomplete() {\n\t\tconst settings = super.setup_awesomplete() || {};\n\t\treturn Object.assign(settings, {\n\t\t\tfilter: function(item, input) {\t\t\t\t\n\t\t\t\tlet hay = item.value;\n\t\t\t\t//fisher \u652F\u6301\u4E2D\u82F1\u6587\u68C0\u7D22\n\t\t\t\tif (__(item.value) != item.value)\thay += __(item.value)\n\t\t\t\treturn Awesomplete.FILTER_CONTAINS(hay, input);\n\t\t\t}\n\t\t})\n\t}\n    // fisher \u6DFB\u52A0\u7684\u65B9\u6CD5\n    set_formatted_input(value) {\n\t\tvar me = this\n\t\tvalue && me.$input && me.$input.attr(\"data-value\", value === undefined ? '' : value)\n\t\tvalue && me.$input && me.$input.val(me.format_for_input(__(value)));\n\t}\n\n\t// fisher \u83B7\u53D6\u672C\u6765\u7684\u503C\n\tget_value() {\n\t\tlet me = this\n\t\tlet real_value = me.$input && me.$input.attr(\"data-value\") ? me.$input.attr(\"data-value\") : (me.doc ? me.doc[me.df['fieldname']] : undefined)\n\t\tlet value = real_value ? real_value : me.get_input_value();\n\t\tif(this.get_status()==='Write') {\n\t\t\treturn this.parse ? this.parse(value) : value;\n\t\t} else {\n\t\t\treturn value || undefined;\n\t\t}\n\t}\n\n\tget_parsed_value(value) {\n\t\tlet me = this;\n\t\tif (me.doc){\n\t\t\tlet real_value = me.$input && me.$input.attr(\"data-value\") ? me.$input.attr(\"data-value\") : (me.doc ? me.doc[me.df['fieldname']] : undefined)\n\t\t\tvalue = real_value ? real_value : me.get_input_value();\n\t\t} else {\n\t\t\tvalue = super.get_parsed_value(value);\n\t\t}\n\t\treturn value;\n\t}\n}\n\n// const MyControlMultiSelect = frappe.ui.form.ControlMultiSelect.extend({\n// \tget_awesomplete_settings() {\n// \t\tvar me = this;\n// \t\tthis.$input.on(\"awesomplete-select\", function(e) {\n// \t\t\tvar o = e.originalEvent;\n// \t\t\tvar item = me.awesomplete.get_item(o.text.value);\n\n// \t\t\tme.autocomplete_open = false;\n\n// \t\t\t// prevent selection on tab\n// \t\t\tvar TABKEY = 9;\n// \t\t\tif(e.keyCode === TABKEY) {\n// \t\t\t\te.preventDefault();\n// \t\t\t\tme.awesomplete.close();\n// \t\t\t\treturn false;\n// \t\t\t}\n\n// \t\t\tif(item.action) {\n// \t\t\t\titem.value = \"\";\n// \t\t\t\titem.action.apply(me);\n// \t\t\t}\n\n// \t\t\t// if remember_last_selected is checked in the doctype against the field,\n// \t\t\t// then add this value\n// \t\t\t// to defaults so you do not need to set it again\n// \t\t\t// unless it is changed.\n// \t\t\tif(me.df.remember_last_selected_value) {\n// \t\t\t\tfrappe.boot.user.last_selected_values[me.df.options] = item.value;\n// \t\t\t}\n// \t\t\tme.parse_validate_and_set_in_model(item.value);\n\t\t\t\n// \t\t});\n// \t\tconst settings = this._super();\n// \t\treturn Object.assign(settings, {\n// \t\t\tdata: function (item) {\n// \t\t\t\treturn {\n// \t\t\t\t\tlabel: item.label || item.value,\n// \t\t\t\t\tvalue: item.value\n// \t\t\t\t};\n// \t\t\t},\n// \t\t\titem: function (item) {\n// \t\t\t\tvar d = this.get_item(item.value);\n// \t\t\t\tif(!d.label) {\td.label = d.value; }\n\n// \t\t\t\tvar _label = __(d.label);\n// \t\t\t\tvar html = d.html || \"<strong>\" + _label + \"</strong>\";\n// \t\t\t\treturn $('<li></li>')\n// \t\t\t\t\t.data('item.autocomplete', d)\n// \t\t\t\t\t.prop('aria-selected', 'false')\n// \t\t\t\t\t.html(`<a><p title=\"${_label}\">${html}</p></a>`)\n// \t\t\t\t\t.get(0);\n// \t\t\t},\n// \t\t\treplace: function(text) {\n// \t\t\t\tconst before = this.input.value.match(/^.+,\\s*|/)[0];\n// \t\t\t\tthis.input.value = before + text + \", \";\n// \t\t\t}\n// \t\t});\n// \t},\n// \tget_selected_value: function(translated){\t\t\t\t\n// \t\tlet options = this.df.options || [];\n// \t\tif(typeof this.df.options===\"string\") {\n// \t\t\toptions = this.df.options.split(\"\\n\");\n// \t\t}\n// \t\tlet input = this.input.value;\t\t\n// \t\tinput = input.split(',').map(op => op.trim()).filter(n => n != null && n !=\"\");\t\t\n// \t\tlet get_single = (val)=>{\n// \t\t\tfor (var option of options){\n// \t\t\t\t//console.log('option and val', option, __(option), val);\n// \t\t\t\tif (option === val || __(option) === val){\n// \t\t\t\t\treturn translated? __(option): option\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\treturn null;\n// \t\t}\n// \t\tinput = input.map(val =>{return get_single(val)}).filter(n => n != null).join(', ');\n// \t\treturn input && translated?  input + \", \": input\n// \t},\n//     // \u6BCF\u6B21\u4F20\u8FDB\u6765\u7684\u662F\u5355\u4E2A\u503C\uFF0C\u4E4B\u524D\u7684val()\u957F\u8FD9\u6837 \u9009\u98791\u4E2D\u6587,english option2, \n//     set_formatted_input: function(value) {\t\t\n// \t\tif (!value && this.input && ! this.input.value) return;\n// \t\tlet data = this.get_selected_value(true);\t\t\n// \t\tthis.$input && this.$input.val(this.format_for_input(data));\n// \t},\n\n// \t// \u83B7\u53D6\u672C\u6765\u7684\u503C\n// \tget_value() {\t\t\n// \t\tlet data = this.get_selected_value(false);\t\t\n// \t\treturn data;\n// \t}\n// })\n\n// //frappe.ui.form.ControlMultiSelect = MyControlMultiSelect\n\nfrappe.ui.FieldSelect = class FieldSelect extends frappe.ui.FieldSelect {\n\t//fisher \u652F\u6301\u4E2D\u82F1\u6587\u68C0\u7D22\n\tinit(opts) {\n\t\tsuper.init(opts);\n\t\tthis.awesomplete.filter = function(item, input) {\n\t\t\tif (! input) return\n\t\t\tlet hay = item.label + item.value;\t\t\t\t\t\t\n\t\t\treturn Awesomplete.FILTER_CONTAINS(hay, input);\n\t\t}\n\t}\n}\n\n// frappe.ui.FieldSelect = MyFieldSelect\n", "frappe.ui.form.add_options = function (input, options_list) {\n\tlet $select = $(input);\n\tif (!Array.isArray(options_list)) {\n\t\treturn $select;\n\t}\n\t// create options\n\tfor (var i = 0, j = options_list.length; i < j; i++) {\n\t\tvar v = options_list[i];\n\t\tvar value = null;\n\t\tvar label = null;\n\t\tif (!is_null(v)) {\n\t\t\tvar is_value_null = is_null(v.value);\n\t\t\tvar is_label_null = is_null(v.label);\n\t\t\tvar is_disabled = Boolean(v.disabled);\n\t\t\tvar is_selected = Boolean(v.selected);\n\n\t\t\tif (is_value_null && is_label_null) {\n\t\t\t\t//\u652F\u6301\u5206\u53F7(;)\u5206\u9694\u7684\u503C\u4E0E\u6807\u7B7E\uFF0C\u4EE5\u89E3\u51B3\u4E0B\u62C9\u503C\u4E00\u8BCD\u591A\u4E49\u95EE\u9898\n\t\t\t\tif (v && typeof v ==='string' && v.includes(\";\")) {\n\t\t\t\t\tconst value_arr = v.split(\";\");\n\t\t\t\t\tvalue = value_arr[0];\n\t\t\t\t\tlabel = __(value_arr.slice(-1)[0]);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = v;\n\t\t\t\t\tlabel = __(v);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvalue = is_value_null ? \"\" : v.value;\n\t\t\t\tlabel = is_label_null ? __(value) : __(v.label);\n\t\t\t}\n\t\t}\n\n\t\t$(\"<option>\")\n\t\t\t.html(cstr(label))\n\t\t\t.attr(\"value\", value)\n\t\t\t.prop(\"disabled\", is_disabled)\n\t\t\t.prop(\"selected\", is_selected)\n\t\t\t.appendTo($select.get(0));\n\t}\n\t// select the first option\n\t$select.get(0).selectedIndex = 0;\n\t$select.trigger(\"select-change\");\n\treturn $select;\n};\n\n// \u652F\u6301\u7528;\u5206\u9694\u7684\u503C\u4E0E\u6807\u7B7E\u9009\u9879\uFF0C\u901A\u8FC7\u81EA\u5B9A\u4E49\u9009\u9879\uFF0C\u5B9E\u73B0\u4E00\u8BCD\u591A\u4E49\u7FFB\u8BD1\n(function($) {\n\t$.fn.add_options = function(options_list) {\n\t\t// create options\n\t\tfor(var i=0, j=options_list.length; i<j; i++) {\n\t\t\tvar v = options_list[i];\n\t\t\tvar value = null;\n\t\t\tvar label = null;\n\t\t\tif (!is_null(v)) {\n\t\t\t\tvar is_value_null = is_null(v.value);\n\t\t\t\tvar is_label_null = is_null(v.label);\n\t\t\t\tvar is_disabled = Boolean(v.disabled);\n\n\t\t\t\tif (is_value_null && is_label_null) {\n\t\t\t\t\t//\u652F\u6301\u5206\u53F7(;)\u5206\u9694\u7684\u503C\u4E0E\u6807\u7B7E\uFF0C\u4EE5\u89E3\u51B3\u4E0B\u62C9\u503C\u4E00\u8BCD\u591A\u4E49\u95EE\u9898\n\t\t\t\t\tif (v && typeof v ==='string' && v.includes(\";\")) {\n\t\t\t\t\t\tconst value_arr = v.split(\";\");\n\t\t\t\t\t\tvalue = value_arr[0];\n\t\t\t\t\t\tlabel = __(value_arr.slice(-1)[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = v;\n\t\t\t\t\t\tlabel = __(v);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvalue = is_value_null ? \"\" : v.value;\n\t\t\t\t\tlabel = is_label_null ? __(value) : __(v.label);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$('<option>').html(cstr(label))\n\t\t\t\t.attr('value', value)\n\t\t\t\t.prop('disabled', is_disabled)\n\t\t\t\t.appendTo(this);\n\t\t}\n\t\t// select the first option\n\t\tthis.selectedIndex = 0;\n\t\t$(this).trigger('select-change');\n\t\treturn $(this);\n\t};\n\t$.fn.set_working = function() {\n\t\tthis.prop('disabled', true);\n\t};\n\t$.fn.done_working = function() {\n\t\tthis.prop('disabled', false);\n\t};\n\n\tlet original_val = $.fn.val;\n\t$.fn.val = function() {\n\t\tlet result = original_val.apply(this, arguments);\n\t\tif (arguments.length > 0) $(this).trigger('select-change');\n\t\treturn result;\n\t};\n})(jQuery);", "// \u65F6\u95F4\u533A\u95F4\u8BED\u8A00\u6CA1\u6709\u8BBE\u7F6E\n\nfrappe.ui.form.ControlDateRange = class ControlDateRange extends frappe.ui.form.ControlDateRange {\n    set_date_options() {\n\t\tsuper.set_date_options();\n\t\tlet lang = \"en\";\n\t\tfrappe.boot.user && (lang = frappe.boot.user.language);\n\t\tif($.fn.datepicker.language[lang]) {\n\t\t\tthis.datepicker_options.language = lang\n        }\n\t}\n}\n\n// frappe.ui.form.ControlDateRange = MyControlDateRange", "frappe.ui.form.ControlTable = class ControlTable extends frappe.ui.form.ControlTable {\n\tmake() {\n\t\tsuper.make();\n\t\tthis.$wrapper.off('paste', ':text');\n\t\tthis.$wrapper.on('paste', ':text', e => {\n\t\t\tconst table_field = this.df.fieldname;\n\t\t\tconst grid = this.grid;\n\t\t\tconst grid_pagination = grid.grid_pagination;\n\t\t\tconst grid_rows = grid.grid_rows;\n\t\t\tconst doctype = grid.doctype;\n\t\t\tconst row_docname = $(e.target).closest('.grid-row').data('name');\n\t\t\tconst in_grid_form = $(e.target).closest('.form-in-grid').length;\n\t\t\tlet pasted_data = frappe.utils.get_clipboard_data(e);\n\n\t\t\tif (!pasted_data || in_grid_form) return;\n\n\t\t\tlet data = frappe.utils.csv_to_array(pasted_data, '\\t');\n\n\t\t\tif (data.length === 1 && data[0].length === 1) return;\n\n\t\t\tlet fieldnames = [];\n\t\t\t// for raw data with column header\n\t\t\tif (this.get_field(data[0][0])) {\n\t\t\t\tdata[0].forEach(column => {\n\t\t\t\t\tfieldnames.push(this.get_field(column));\n\t\t\t\t});\n\t\t\t\tdata.shift();\n\t\t\t} else {\n\t\t\t\t// no column header, map to the existing visible columns\n\t\t\t\tconst visible_columns = grid_rows[0].get_visible_columns();\n\t\t\t\tlet target_column_matched = false;\n\t\t\t\tvisible_columns.forEach(column => {\n\t\t\t\t\t// consider all columns after the target column.\n\t\t\t\t\tif (target_column_matched || column.fieldname === $(e.target).data('fieldname')) {\n\t\t\t\t\t\tfieldnames.push(column.fieldname);\n\t\t\t\t\t\ttarget_column_matched = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet row_idx = locals[doctype][row_docname].idx;\n\t\t\tlet data_length = data.length;\n\t\t\tdata.forEach((row, i) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet blank_row = !row.filter(Boolean).length;\n\t\t\t\t\tif (!blank_row) {\n\t\t\t\t\t\tif (row_idx > this.frm.doc[table_field].length) {\n\t\t\t\t\t\t\tthis.grid.add_new_row();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row_idx > 1 && (row_idx - 1) % grid_pagination.page_length === 0) {\n\t\t\t\t\t\t\tgrid_pagination.go_to_page(grid_pagination.page_index + 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst row_name = grid_rows[row_idx - 1].doc.name;\n\t\t\t\t\t\trow.forEach((value, data_index) => {\n\t\t\t\t\t\t\tconst fieldname =fieldnames[data_index];\n\t\t\t\t\t\t\tif (fieldname) {\n                                //fisher \u4FDD\u5B58\u6587\u672C\u7F16\u8F91\u5668\u5B57\u6BB5\u7684\u56DE\u8F66\u6362\u884C\n                                if (value) {\n                                    const fieldtype = frappe.meta.get_field(doctype,fieldname).fieldtype;\n\t\t\t\t\t\t            value = (fieldtype && fieldtype ==='Text Editor')? value.replace(/[\\n\\r]/g,'<br>') : value;\n                                 };\n\t\t\t\t\t\t\t\tfrappe.model.set_value(doctype, row_name, fieldname, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\trow_idx++;\n\t\t\t\t\t}\n                    //fisher \u79FB\u5230\u5916\u9762\u6765\uFF0C\u590D\u5236\u7684\u6700\u540E\u7A7A\u884C\u4E0D\u4F1A\u5BFC\u81F4\u8FDB\u5EA6\u6761\u8D70\u4E0D\u5B8C\n                    if (data_length >= 10) {\n                        let progress = i + 1;\n                        frappe.show_progress(__('Processing'), progress, data_length, null, true);\n                    }\n\t\t\t\t}, 0);\n\t\t\t});\n\t\t\treturn false; // Prevent the default handler from running.\n\t\t});\n\t}\n};", "\nfrappe.provide(\"frappe.form.formatters\");\n\n// \u4FEE\u6539\u65E5\u671F\u65F6\u95F4\u683C\u5F0F\u5316\uFF0C YYYY-MM-DD  HH:mm:ss\nfrappe.form.formatters.Datetime = function(value) {\n\tif(value) {\n\t\tvar m = moment(frappe.datetime.convert_to_user_tz(value));\n\t\tif(frappe.boot.sysdefaults.time_zone) {\n\t\t\tm = m.tz(frappe.boot.sysdefaults.time_zone);\n\t\t}\n\t\treturn m.format(frappe.boot.sysdefaults.date_format.toUpperCase() + ' HH:mm:ss');\n\t} else {\n\t\treturn \"\";\n\t}\n}\n\n// data\u7C7B\u578B\u90FD\u4F1A\u8C03\u7528\u7FFB\u8BD1\u65B9\u6CD5,\u7FFB\u8BD1\u62A5\u8868\u4E2D\u5355\u636E\u7C7B\u578B\u7B49\u5B57\u6BB5\nfrappe.form.formatters.Data = function(value, df) {\n\tif (df && df.options == \"URL\") {\n\t\tif (!value) return;\n\t\treturn `<a href=\"${value}\" title=\"Open Link\" target=\"_blank\">${value}</a>`;\n\t}\n\tvalue = value == null ? \"\" : __(value);\n\n\treturn frappe.form.formatters._apply_custom_formatter(value, df);\t\n}\n\nfrappe.form.formatters.MultiSelect = function(value) {\n\tif (typeof value == \"string\") {\n\t\treturn __(value);\n\t} else if (Array.isArray(value)) {\n\t\treturn value.map(v => __(v));\n\t}\n}", "import DataTable from \"frappe-datatable\";\n//import Style from \"./style.js\";\n\n// \u91CD\u65B0\u5B9A\u4E49\u9ED8\u8BA4\u503C\uFF0C \u628A\u8FD9\u51E0\u4E2A\u82F1\u6587\u6539\u6210\u4E2D\u6587\nconst DEFAULT_OPTIONS = {\n    headerDropdown: [\n        {\n            label: __('Sort Ascending'),  //'\u5347\u5E8F',\n            action: function (column) {\n                this.sortColumn(column.colIndex, 'asc');\n            }\n        },\n        {\n            label: __('Sort Descending'), //'\u964D\u5E8F',\n            action: function (column) {\n                this.sortColumn(column.colIndex, 'desc');\n            }\n        },\n        {\n            label: __('Reset sorting'),  //'\u91CD\u7F6E',\n            action: function (column) {\n                this.sortColumn(column.colIndex, 'none');\n            }\n        },\n        {\n            label: __('Remove column'), //'\u5220\u9664\u5217',\n            action: function (column) {\n                this.removeColumn(column.colIndex);\n            }\n        }\n    ]\n};\n\nclass MyDataTable extends DataTable {\n\t//constructor(wrapper, options) {\n\t// \tsuper(wrapper, options);\n\t// \t// \u8FD9\u91CC\u662F\u89E3\u51B3\u8868\u683C\u6709\u5782\u76F4\u6EDA\u52A8\u6761\u800C\u8868\u683C\u5BBD\u5EA6\u53C8\u5C0F\u4E8Etable\u7684\u5BBD\u5EA6\u65F6\uFF0C\u5782\u76F4\u6EDA\u52A8\u6761\u906E\u76D6\u6570\u636E\n\t// \t// \u53CA\u9AD8\u5EA6\u5C0F\u4E8Etable\u7684\u9AD8\u5EA6\u65F6\uFF0C\u6700\u540E\u4E00\u6761\u7EBF\u753B\u4E0D\u51FA\u6765\n\t// \tthis.style = new Style(this);\n\t// \tthis.style.setBodyStyle();\n    // }\n\tbuildOptions(options) {\n\t\tsuper.buildOptions(options);\n\t\t// \u89E3\u51B3headerDropdown\u82F1\u6587\n\t\tthis.options.headerDropdown = [\n\t\t\t...DEFAULT_OPTIONS.headerDropdown,\n\t\t\t...options.headerDropdown\n\t\t];\n\t}\n}\n\n// \u91CD\u65B0\u5B9A\u4E49\u7528\u5230DataTable\u7684\u90A3\u4E9Bclass, \u5C31\u662F\u51FA\u73B0 new DataTable\u7684\u5730\u65B9\u90FD\u8981\u91CD\u5199\nlet MyQueryReport = class MyQueryReport extends frappe.views.QueryReport {\n\trender_datatable() {\n\t\tlet data = this.data;\n\t\tlet columns = this.columns.filter((col) => !col.hidden);\n\n\t\tif (this.raw_data.add_total_row) {\n\t\t\tdata = data.slice();\n\t\t\tdata.splice(-1, 1);\n\t\t}\n\n\t\tthis.$report.show();\n\t\tif (this.datatable && this.datatable.options\n\t\t\t&& (this.datatable.options.showTotalRow ===this.raw_data.add_total_row)) {\n\t\t\tthis.datatable.options.treeView = this.tree_report;\n\t\t\tthis.datatable.refresh(data, columns);\n\t\t} else {\n\t\t\tlet datatable_options = {\n\t\t\t\tcolumns: columns,\n\t\t\t\tdata: data,\n\t\t\t\tinlineFilters: true,\n\t\t\t\ttreeView: this.tree_report,\n\t\t\t\tlayout: 'fixed',\n\t\t\t\tcellHeight: 33,\n\t\t\t\tshowTotalRow: this.raw_data.add_total_row,\n\t\t\t\tdirection: frappe.utils.is_rtl() ? 'rtl' : 'ltr',\n\t\t\t\thooks: {\n\t\t\t\t\tcolumnTotal: frappe.utils.report_column_total\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (this.report_settings.get_datatable_options) {\n\t\t\t\tdatatable_options = this.report_settings.get_datatable_options(datatable_options);\n\t\t\t}\n\t\t\tthis.datatable = new MyDataTable(this.$report[0], datatable_options);\n\t\t}\n\n\t\tif (typeof this.report_settings.initial_depth == \"number\") {\n\t\t\tthis.datatable.rowmanager.setTreeDepth(this.report_settings.initial_depth);\n\t\t}\n\t\tif (this.report_settings.after_datatable_render) {\n\t\t\tthis.report_settings.after_datatable_render(this.datatable);\n\t\t}\n\t}\n}\n\nfrappe.views.QueryReport = MyQueryReport\n\nlet MyReportView = class MyReportView extends frappe.views.ReportView {\n    setup_datatable(values) {\n\t\tthis.$datatable_wrapper.empty();\n\t\tthis.datatable = new MyDataTable(this.$datatable_wrapper[0], {\n\t\t\tcolumns: this.columns,\n\t\t\tdata: this.get_data(values),\n\t\t\tgetEditor: this.get_editing_object.bind(this),\n\t\t\tcheckboxColumn: true,\n\t\t\tinlineFilters: true,\n\t\t\tcellHeight: 35,\n\t\t\tdirection: frappe.utils.is_rtl() ? 'rtl' : 'ltr',\n\t\t\tevents: {\n\t\t\t\tonRemoveColumn: (column) => {\n\t\t\t\t\tthis.remove_column_from_datatable(column);\n\t\t\t\t},\n\t\t\t\tonSwitchColumn: (column1, column2) => {\n\t\t\t\t\tthis.switch_column(column1, column2);\n\t\t\t\t},\n\t\t\t\tonCheckRow: () => {\n\t\t\t\t\tconst checked_items = this.get_checked_items();\n\t\t\t\t\tthis.toggle_actions_menu_button(checked_items.length > 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\thooks: {\n\t\t\t\tcolumnTotal: frappe.utils.report_column_total\n\t\t\t},\n\t\t\theaderDropdown: [{\n\t\t\t\tlabel: __('Add Column'),\n\t\t\t\taction: (datatabe_col) => {\n\t\t\t\t\tlet columns_in_picker = [];\n\t\t\t\t\tconst columns = this.get_columns_for_picker();\n\n\t\t\t\t\tcolumns_in_picker = columns[this.doctype]\n\t\t\t\t\t\t.filter(df => !this.is_column_added(df))\n\t\t\t\t\t\t.map(df => ({\n\t\t\t\t\t\t\tlabel: __(df.label),\n\t\t\t\t\t\t\tvalue: df.fieldname\n\t\t\t\t\t\t}));\n\n\t\t\t\t\tdelete columns[this.doctype];\n\n\t\t\t\t\tfor (let cdt in columns) {\n\t\t\t\t\t\tcolumns[cdt]\n\t\t\t\t\t\t\t.filter(df => !this.is_column_added(df))\n\t\t\t\t\t\t\t.map(df => ({\n\t\t\t\t\t\t\t\tlabel: __(df.label) + ` (${cdt})`,\n\t\t\t\t\t\t\t\tvalue: df.fieldname + ',' + cdt\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t.forEach(df => columns_in_picker.push(df));\n\t\t\t\t\t}\n\n\t\t\t\t\tconst d = new frappe.ui.Dialog({\n\t\t\t\t\t\ttitle: __('Add Column'),\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __('Select Column'),\n\t\t\t\t\t\t\t\tfieldname: 'column',\n\t\t\t\t\t\t\t\tfieldtype: 'Autocomplete',\n\t\t\t\t\t\t\t\toptions: columns_in_picker\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __('Insert Column Before {0}', [datatabe_col.docfield.label.bold()]),\n\t\t\t\t\t\t\t\tfieldname: 'insert_before',\n\t\t\t\t\t\t\t\tfieldtype: 'Check'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tprimary_action: ({ column, insert_before }) => {\n\t\t\t\t\t\t\tif (!columns_in_picker.map(col => col.value).includes(column)) {\n\t\t\t\t\t\t\t\tfrappe.show_alert({message: __('Invalid column'), indicator: 'orange'});\n\t\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet doctype = this.doctype;\n\t\t\t\t\t\t\tif (column.includes(',')) {\n\t\t\t\t\t\t\t\t[column, doctype] = column.split(',');\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\tlet index = datatabe_col.colIndex;\n\t\t\t\t\t\t\tif (insert_before) {\n\t\t\t\t\t\t\t\tindex = index - 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.add_column_to_datatable(column, doctype, index);\n\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\td.show();\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t}\n}\n\nfrappe.views.ReportView = MyReportView\n\n// \u8FD9\u4E2A\u6570\u636E\u5BFC\u5165\u7684\u662F\u52A8\u6001\u52A0\u8F7D\u7684\uFF0C\u5728\u8FD9\u91CC\u4F1A\u627E\u4E0D\u5230frappe.data_import.ImportPreview\uFF0C\n// \u8FD9\u4E2A\u662F\u653Edoctype: core/doctype/data_import_beta\u91CC\u9762\u7684\uFF0C\u5E94\u8BE5\u4E0D\u4F1A\u7528\u5230\uFF0C\u7528\u5230\u518D\u8BF4\u7684\u8BDD\uFF0C\u7528doctype\u7684hooks\u5E94\u8BE5\u53EF\u4EE5\u89E3\u51B3\n// let MyImportPreview = class MyImportPreview extends frappe.data_import.ImportPreview {\n//     render_datatable() {\n// \t\tif (this.datatable) {\n// \t\t\tthis.datatable.destroy();\n// \t\t}\n\n// \t\tthis.datatable = new DataTable(this.$table_preview.get(0), {\n// \t\t\tdata: this.data,\n// \t\t\tcolumns: this.columns,\n// \t\t\tlayout: this.columns.length < 10 ? 'fluid' : 'fixed',\n// \t\t\tcellHeight: 35,\n// \t\t\tserialNoColumn: false,\n// \t\t\tcheckboxColumn: false,\n// \t\t\tnoDataMessage: __('No Data'),\n// \t\t\tdisableReorderColumn: true\n// \t\t});\n\n// \t\tlet {\n// \t\t\tmax_rows_exceeded,\n// \t\t\tmax_rows_in_preview,\n// \t\t\ttotal_number_of_rows\n// \t\t} = this.preview_data;\n// \t\tif (max_rows_exceeded) {\n// \t\t\tlet parts = [max_rows_in_preview, total_number_of_rows];\n// \t\t\tthis.wrapper.find('.table-message').html(`\n// \t\t\t\t<div class=\"text-muted margin-top text-medium\">\n// \t\t\t\t${__('Showing only first {0} rows out of {1}', parts)}\n// \t\t\t\t</div>\n// \t\t\t`);\n// \t\t}\n\n// \t\tif (this.data.length === 0) {\n// \t\t\tthis.datatable.style.setStyle('.dt-scrollable', {\n// \t\t\t\theight: 'auto'\n// \t\t\t});\n// \t\t}\n\n// \t\tthis.datatable.style.setStyle('.dt-dropdown', {\n// \t\t\tdisplay: 'none'\n// \t\t});\n// \t}\n// }\n\n// frappe.data_import.ImportPreview = MyImportPreview\n\n// \u8FD9\u4E2A\u662F\u5728erpnext/accounts/page/bank_reconciliation/bank_reconciliation.js\u4E2D\u5199\u7684\uFF0C\u5728\u8FD9\u91CC\u4F1A\u627E\u4E0D\u5230\uFF0C\n// \u7B49\u7528\u5230\u518D\u8BF4\u5427\n// let MybankTransactionUpload = class MybankTransactionUpload extends erpnext.accounts.bankTransactionUpload {\n//     create_datatable() {\n// \t\ttry {\n// \t\t\tthis.datatable = new DataTable('.transactions-table', {\n// \t\t\t\tcolumns: this.data.columns,\n// \t\t\t\tdata: this.data.data\n// \t\t\t})\n// \t\t}\n// \t\tcatch(err) {\n// \t\t\tlet msg = __(`Your file could not be processed by ERPNext.\n// \t\t\t\t\t\t<br>It should be a standard CSV or XLSX file.\n// \t\t\t\t\t\t<br>The headers should be in the first row.`)\n// \t\t\tfrappe.throw(msg)\n// \t\t}\n\n// \t}\n// }\n\n// erpnext.accounts.bankTransactionUpload = MybankTransactionUpload", "let MyGanttView = class MyGanttView extends frappe.views.GanttView {\n    get required_libs() {\n\t\treturn [\n\t\t\t\"assets/erpnext_oob/js/lib/gantt/frappe-gantt.css\",\n\t\t\t\"assets/erpnext_oob/js/lib/gantt/frappe-gantt.min.js\"\n\t\t];\n\t}\n}\n\nfrappe.views.GanttView = MyGanttView", "erpnext.stock.StockController.prototype.show_general_ledger = function() {\n    var me = this;\n    if(this.frm.doc.docstatus > 0) {\n        cur_frm.add_custom_button(__('Accounting Ledger'), function() {\n            frappe.route_options = {\n                voucher_no: me.frm.doc.name,\n                from_date: me.frm.doc.posting_date,\n                to_date: moment(me.frm.doc.modified).format('YYYY-MM-DD'),\n                company: me.frm.doc.company,\n                //group_by: \"Group by Voucher (Consolidated)\",    //fisher \u4E0E\u7CFB\u7EDF\u9ED8\u8BA4\u8BE5\u53C2\u6570\u6709\u51B2\u7A81\uFF0C\u5728\u6B64\u4E0D\u8D4B\u503C\n                show_cancelled_entries: me.frm.doc.docstatus === 2\n            };\n            frappe.set_route(\"query-report\", \"General Ledger\");\n        }, __(\"View\"));\n    }\n}"],
  "mappings": "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",
  "names": ["require_Sortable_min", "__commonJSMin", "exports", "module", "t", "e", "n", "o", "M", "i", "a", "r", "l", "y", "w", "s", "u", "c", "d", "h", "f", "p", "N", "g", "m", "I", "P", "v", "b", "O", "k", "R", "A", "X", "Bt", "Y", "B", "E", "D", "S", "F", "_", "C", "T", "j", "x", "H", "L", "K", "W", "z", "G", "q", "V", "Z", "$", "Q", "J", "tt", "et", "pt", "lt", "nt", "it", "ot", "rt", "kt", "Rt", "U", "at", "st", "ct", "ut", "dt", "ht", "ft", "gt", "mt", "vt", "bt", "yt", "wt", "Et", "Dt", "St", "_t", "Ct", "Tt", "xt", "Ot", "At", "Mt", "Nt", "It", "Pt", "Xt", "Yt", "Ft", "jt", "Ht", "Kt", "Wt", "zt", "Gt", "Ut", "qt", "Vt", "Zt", "$t", "Qt", "Jt", "te", "ee", "ne", "oe", "ie", "re", "ae", "le", "se", "ce", "ue", "de", "he", "fe", "pe", "ge", "require_frappe_datatable_cjs", "__commonJSMin", "exports", "module", "_interopDefault", "ex", "Sortable", "$", "expr", "con", "tag", "o", "element", "val", "ref", "prop", "event", "selector", "callback", "handler", "e", "delegatedTarget", "target", "type", "properties", "evt", "j", "attrs", "attr", "elements", "styleMap", "styleProps", "el", "parentEl", "top", "left", "bottom", "right", "pTop", "pLeft", "pBottom", "pRight", "pixels", "getScrollBarSize", "scrollDiv", "scrollbarWidth", "text", "div", "isObject", "value", "isObject_1", "commonjsGlobal", "commonjsRequire", "unwrapExports", "x", "createCommonjsModule", "fn", "freeGlobal", "_freeGlobal", "freeSelf", "root", "_root", "now", "now_1", "Symbol", "_Symbol", "objectProto", "hasOwnProperty", "nativeObjectToString", "symToStringTag", "getRawTag", "isOwn", "result", "_getRawTag", "objectProto$1", "nativeObjectToString$1", "objectToString", "_objectToString", "nullTag", "undefinedTag", "symToStringTag$1", "baseGetTag", "_baseGetTag", "isObjectLike", "isObjectLike_1", "symbolTag", "isSymbol", "isSymbol_1", "NAN", "reTrim", "reIsBadHex", "reIsBinary", "reIsOctal", "freeParseInt", "toNumber", "other", "isBinary", "toNumber_1", "FUNC_ERROR_TEXT", "nativeMax", "nativeMin", "debounce", "func", "wait", "options", "lastArgs", "lastThis", "maxWait", "timerId", "lastCallTime", "lastInvokeTime", "leading", "maxing", "trailing", "invokeFunc", "time", "args", "thisArg", "leadingEdge", "timerExpired", "remainingWait", "timeSinceLastCall", "timeSinceLastInvoke", "timeWaiting", "shouldInvoke", "trailingEdge", "cancel", "flush", "debounced", "isInvoking", "debounce_1", "FUNC_ERROR_TEXT$1", "throttle", "throttle_1", "asyncTag", "funcTag", "genTag", "proxyTag", "isFunction", "isFunction_1", "coreJsData", "_coreJsData", "maskSrcKey", "uid", "isMasked", "_isMasked", "funcProto", "funcToString", "toSource", "_toSource", "reRegExpChar", "reIsHostCtor", "funcProto$1", "objectProto$2", "funcToString$1", "hasOwnProperty$1", "reIsNative", "baseIsNative", "pattern", "_baseIsNative", "getValue", "object", "key", "_getValue", "getNative", "_getNative", "nativeCreate", "_nativeCreate", "hashClear", "_hashClear", "hashDelete", "_hashDelete", "HASH_UNDEFINED", "objectProto$3", "hasOwnProperty$2", "hashGet", "data", "_hashGet", "objectProto$4", "hasOwnProperty$3", "hashHas", "_hashHas", "HASH_UNDEFINED$1", "hashSet", "_hashSet", "Hash", "entries", "index", "length", "entry", "_Hash", "listCacheClear", "_listCacheClear", "eq", "eq_1", "assocIndexOf", "array", "_assocIndexOf", "arrayProto", "splice", "listCacheDelete", "lastIndex", "_listCacheDelete", "listCacheGet", "_listCacheGet", "listCacheHas", "_listCacheHas", "listCacheSet", "_listCacheSet", "ListCache", "_ListCache", "Map", "_Map", "mapCacheClear", "_mapCacheClear", "isKeyable", "_isKeyable", "getMapData", "map", "_getMapData", "mapCacheDelete", "_mapCacheDelete", "mapCacheGet", "_mapCacheGet", "mapCacheHas", "_mapCacheHas", "mapCacheSet", "size", "_mapCacheSet", "MapCache", "_MapCache", "HASH_UNDEFINED$2", "setCacheAdd", "_setCacheAdd", "setCacheHas", "_setCacheHas", "SetCache", "values", "_SetCache", "baseFindIndex", "predicate", "fromIndex", "fromRight", "_baseFindIndex", "baseIsNaN", "_baseIsNaN", "strictIndexOf", "_strictIndexOf", "baseIndexOf", "_baseIndexOf", "arrayIncludes", "_arrayIncludes", "arrayIncludesWith", "comparator", "_arrayIncludesWith", "cacheHas", "cache", "_cacheHas", "Set", "_Set", "noop", "noop_1", "setToArray", "set", "_setToArray", "INFINITY", "createSet", "_createSet", "LARGE_ARRAY_SIZE", "baseUniq", "iteratee", "includes", "isCommon", "seen", "outer", "computed", "seenIndex", "_baseUniq", "uniq", "uniq_1", "camelCaseToDash", "str", "g", "makeDataAttributeString", "props", "_key", "copyTextToClipboard", "textArea", "err", "isNumeric", "throttle$1", "debounce$1", "nextTick", "context", "resolve", "out", "linkProperties", "source", "acc", "isSet", "notSet", "isNumber", "ensureArray", "uniq$1", "arr", "numberSortAsc", "a", "b", "stripHTML", "html", "format", "arg", "regex", "escapeHTML", "txt", "escapeHtmlMapping", "char", "DataManager", "columns", "col", "cell", "baseCell", "i", "content", "row0", "column", "cellValue", "d", "row", "meta", "nextRow", "baseRowCell", "DataError", "rows", "colIndex", "sortOrder", "aIndex", "bIndex", "aContent", "bContent", "srNoColIndex", "viewIndex", "temporary", "index1", "index2", "temp", "newCell1", "newCell2", "filter", "rowIndex", "_row", "newVal", "keyValPairs", "filters", "rowsToShow", "start", "end", "skipStandardColumns", "id", "parentRowIndex", "parentIndent", "childIndent", "name", "icons", "CellManager", "instance", "focusLastCell", "direction", "$cell", "getNextSelectionCursor", "$selectionCursor", "noOfCellsCopied", "message", "mouseDown", "selectArea", "$toggle", "skipClearSelection", "skipDOMFocus", "skipScrollToCell", "isHeader", "header", "colHeaderSelector", "rowHeaderSelector", "colHeader", "rowHeader", "fCell", "$cell1", "$cell2", "cells", "colIndex1", "rowIndex1", "colIndex2", "rowIndex2", "cell1", "cell2", "rowIndices", "_rowIndex", "_colIndex", "$editCell", "editor", "submitValue", "parent", "$input", "promise", "valuePromise", "oldValue", "done", "curr", "total", "matrix", "it", "focusedCell", "refreshHtml", "flag", "$prevFocusedCell", "ret", "$aboveRow", "$belowRow", "isFilter", "isTotalRow", "dataAttr", "isBodyCell", "editCellHTML", "sortIndicator", "resizeColumn", "dropdown", "customFormatter", "contentHTML", "addToggle", "leftPadding", "unit", "padding", "toggleHTML", "cellContentHTML", "textContent", "ColumnManager", "toggleClass", "dropdownClass", "deactivateDropdownOnBodyClick", "deactivateDropdown", "$item", "dropdownItems", "_this", "isDragging", "$resizingCell", "startWidth", "startX", "$handle", "onMouseup", "onMouseMove", "delta", "finalWidth", "longestCell", "$longestCellHTML", "$div", "cellText", "borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight", "sum", "width", "$parent", "oldIndex", "newIndex", "$draggedCell", "nextSortOrder", "removedCol", "showFilter", "input", "columnsToSort", "columnWidth", "styles", "$column", "dropdownButton", "RowManager", "$checkbox", "checked", "toggle", "f", "c", "count", "$row", "childrenToShow", "visibleRowIndices", "rowsToHide", "depth", "rowsToOpen", "rowsToClose", "height", "rowsInView", "offset", "rowIdentifier", "title", "hyperlist", "t", "n", "r", "s", "u", "l", "_dereq_", "_createClass", "defineProperties", "descriptor", "Constructor", "protoProps", "staticProps", "_classCallCheck", "defaultConfig", "HyperList", "userProvidedConfig", "style", "wrapper", "fixture", "maxElementHeight", "config", "render", "scrollTop", "lastRepaint", "rendered", "_this2", "scroller", "isValueNumber", "isValuePercent", "msg", "numberValue", "elementStyle", "scrollerHeight", "scrollerStyle", "item", "oldClass", "force", "from", "to", "fragment", "reverse", "_this3", "scrollHeight", "sortedItemHeights", "middle", "averageHeight", "containerHeight", "BodyRenderer", "rowViewOrder", "computedStyle", "rowHTML", "totalRow", "columnValues", "prevRow", "prevCell", "hideAfter", "Style", "styleEl", "styleObject", "prefixedSelector", "styleString", "ruleString", "rule", "dashed", "$headerCell", "naturalWidth", "totalWidth", "rowIndexColumn", "totalParts", "onePart", "wrapperWidth", "firstRow", "firstRowWidth", "headerRow", "resizableColumns", "deltaWidth", "bodyWidth", "rowWidth", "bodyHeight", "hasHorizontalOverflow", "rowCount", "KEYCODES", "Keyboard", "listeners", "listener", "preventBubbling", "k", "en", "de", "fr", "getTranslations", "TranslationManager", "language", "translations", "sourceText", "translation", "filterRows", "filteredRowIndices", "keyword", "guessFilter", "filterMethod", "getFilterMethod", "allData", "getFormattedValue", "formatter", "rowData", "stringCompareValue", "numberCompareValue", "getCompareValues", "compareValues", "float", "hay", "needle", "compareValue", "keywordValue", "rangeValues", "values1", "values2", "number", "string", "hayNumber", "hayString", "compareString", "v", "getDefaultOptions", "column1", "column2", "defaultComponents", "DataTable", "components", "Style$$1", "Keyboard$$1", "DataManager$$1", "RowManager$$1", "ColumnManager$$1", "CellManager$$1", "BodyRenderer$$1", "eventName", "handlers", "version", "description", "main", "unpkg", "jsdelivr", "scripts", "files", "devDependencies", "repository", "keywords", "author", "license", "bugs", "homepage", "dependencies", "packageJson", "_", "ns", "handle", "response", "setting", "key", "defaults", "MyListView", "col", "doc", "df", "label", "fieldname", "value", "format", "field_html", "html", "_value", "css_class", "column_html", "user", "subject_field", "subject", "escaped_subject", "liked_by", "heart_class", "seen", "WidgetDialog", "opts", "data", "action", "label", "fieldname", "doctype", "$loading", "ChartDialog", "QuickListDialog", "filters", "OnboardingDialog", "CardDialog", "me", "df", "message", "item", "idx", "row", "ShortcutDialog", "_a", "meta", "views", "response", "s", "state", "is_single", "color", "$select", "_url", "NumberCardDialog", "fields", "aggregate_function_fields", "CustomBlockDialog", "get_dialog_constructor", "type", "Widget", "opts", "options", "classname", "title", "max_chars", "base", "animate", "dismissed", "remove_widget", "setup_new", "_a", "dialog_class", "get_dialog_constructor", "data", "OnboardingWidget", "Widget", "step", "index", "first_incomplete_step", "s", "status", "$step", "skip_html", "actions", "toggle_content", "set_description", "toggle_video", "content", "video", "plyr", "message", "title", "msg_dialog", "route", "current_route", "frm", "on_finish", "tour_name", "success", "args", "value", "custom_onhide", "docname", "callback", "success_dialog", "current_step_index", "next_step", "icon_class", "success_message", "success_state_image", "documentation", "dismissed", "last_hidden", "today", "dismiss", "onboarding_doc", "method", "steps", "doctype", "res", "MyOnboardingWidget", "OnboardingWidget", "step", "NumberCardWidget", "Widget", "opts", "card", "doc", "is_document_type", "name", "route", "filters", "acc", "filter", "_a", "type", "res", "based_on_df", "field", "vals", "col", "df", "default_country", "number_parts", "symbol", "formatted_number", "style_attr", "caret_html", "color_class", "stats_qualifier", "stat", "parts", "actions", "number_card", "action", "i", "o", "a", "MyNumberCardWidget", "NumberCardWidget", "ChartWidget", "Widget", "opts", "max_chars", "summary", "filters", "selected_item", "data", "selected_date_range", "result", "y_fields", "field", "chart_fields", "columns", "col", "actions", "fields", "df", "me", "dialog", "values", "config", "reset", "action", "i", "o", "a", "refresh", "args", "method", "r", "setup_dashboard_chart", "chart_args", "_a", "_b", "colors", "fieldtype", "options", "chart_type_map", "max_slices", "x", "value", "heatmap_year", "set_options", "custom_options", "key", "legend_colors", "set_legend_color", "last_synced_text", "doc", "user_saved_filters", "chart_saved_filters", "report_filters", "chart_filters", "f", "chart_doc", "MyChartWidget", "ChartWidget", "filters", "button_class", "container", "append", "filter", "icon_html", "filter_class", "chart_filter_html", "options_html", "option", "i", "dropdown_html", "$chart_filter", "e", "$el", "fieldname", "selected_item", "label", "options", "change", "fuzzy_match", "pattern", "str", "fuzzy_match_recursive", "pattern_cur_index", "str_curr_index", "src_matches", "matches", "max_matches", "next_match", "recursion_count", "recursion_limit", "out_score", "recursive_match", "best_recursive_matches", "best_recursive_score", "first_match", "matched", "recursive_score", "recursive_matches", "penalty", "unmatched", "i", "curr_idx", "prev_idx", "neighbor", "curr", "keywords", "_item", "return_marked_string", "item", "score", "matches", "fuzzy_match", "matchArray", "index", "marked_string", "buffer", "flushBuffer", "temp", "isMatch", "me", "doctype", "real_value", "name", "item", "d", "_label", "html", "e", "term", "args", "r", "filter_string", "custom__link_options", "input_value", "label", "last_value", "last_label", "value", "o", "TABKEY", "filters", "filter_array", "meta", "fieldname", "filter", "get_filter_description", "docfield", "v", "settings", "input", "hay", "opts", "input", "options_list", "$select", "j", "v", "value", "label", "is_value_null", "is_label_null", "is_disabled", "is_selected", "value_arr", "$", "original_val", "result", "lang", "table_field", "grid", "grid_pagination", "grid_rows", "doctype", "row_docname", "in_grid_form", "pasted_data", "data", "fieldnames", "column", "visible_columns", "target_column_matched", "row_idx", "data_length", "row", "i", "row_name", "value", "data_index", "fieldname", "fieldtype", "progress", "value", "m", "df", "v", "import_frappe_datatable", "DEFAULT_OPTIONS", "column", "MyDataTable", "DataTable", "options", "MyQueryReport", "data", "columns", "col", "datatable_options", "MyReportView", "values", "column1", "column2", "checked_items", "datatabe_col", "columns_in_picker", "df", "cdt", "d", "insert_before", "doctype", "index", "MyGanttView", "me"]
}
