{
  "version": 3,
  "sources": ["../../../../../apps/frappe/node_modules/sortablejs/Sortable.min.js", "../../../../../apps/frappe/node_modules/frappe-datatable/dist/frappe-datatable.cjs.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/erpnext_oob.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/widget_dialog.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/base_widget.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/onboarding_widget.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/widgets/onboarding_widget.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/number_card_widget.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/widgets/number_card_widget.js", "../../../../../apps/frappe/frappe/public/js/frappe/widgets/chart_widget.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/widgets/chart_widget.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/ui/page.js", "../../../../../apps/frappe/frappe/public/js/frappe/ui/toolbar/fuzzy_match.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/ui/search_utils.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/controls/link.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/controls/select.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/controls/date_range.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/controls/table.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/form/formatters.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/lib/datatable/datatable.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/lib/gantt/gantt.js", "../../../../../apps/erpnext_oob/erpnext_oob/public/js/controllers/stock_controller.js"],
  "sourcesContent": ["/*! Sortable 1.15.0 - MIT | git://github.com/SortableJS/Sortable.git */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){\"use strict\";function e(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function M(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n;e=o,t=i[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function o(t){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,o=arguments[e];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t}).apply(this,arguments)}function i(t,e){if(null==t)return{};var n,o=function(t,e){if(null==t)return{};for(var n,o={},i=Object.keys(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),r=0;r<i.length;r++)n=i[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n]);return o}function r(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&t.constructor?t.constructor.name:n)||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function t(t){if(\"undefined\"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var y=t(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i),w=t(/Edge/i),s=t(/firefox/i),u=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),c=t(/chrome/i)&&t(/android/i),d={capture:!1,passive:!1};function h(t,e,n){t.addEventListener(e,n,!y&&d)}function f(t,e,n){t.removeEventListener(e,n,!y&&d)}function p(t,e){if(e&&(\">\"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function N(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(\">\"!==e[0]||t.parentNode===n)&&p(t,e)||o&&t===n)return t}while(t!==n&&(t=(i=t).host&&i!==document&&i.host.nodeType?i.host:i.parentNode))}var i;return null}var g,m=/\\s+/g;function I(t,e,n){var o;t&&e&&(t.classList?t.classList[n?\"add\":\"remove\"](e):(o=(\" \"+t.className+\" \").replace(m,\" \").replace(\" \"+e+\" \",\" \"),t.className=(o+(n?\" \"+e:\"\")).replace(m,\" \")))}function P(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,\"\"):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];o[e=!(e in o||-1!==e.indexOf(\"webkit\"))?\"-webkit-\"+e:e]=n+(\"string\"==typeof n?\"\":\"px\")}}function v(t,e){var n=\"\";if(\"string\"==typeof t)n=t;else do{var o=P(t,\"transform\")}while(o&&\"none\"!==o&&(n=o+\" \"+n),!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function b(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function O(){var t=document.scrollingElement;return t||document.documentElement}function k(t,e,n,o,i){if(t.getBoundingClientRect||t===window){var r,a,l,s,c,u,d=t!==window&&t.parentNode&&t!==O()?(a=(r=t.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,r.width):(l=a=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(i=i||t.parentNode,!y))do{if(i&&i.getBoundingClientRect&&(\"none\"!==P(i,\"transform\")||n&&\"static\"!==P(i,\"position\"))){var h=i.getBoundingClientRect();a-=h.top+parseInt(P(i,\"border-top-width\")),l-=h.left+parseInt(P(i,\"border-left-width\")),s=a+r.height,c=l+r.width;break}}while(i=i.parentNode);return o&&t!==window&&(o=(e=v(i||t))&&e.a,t=e&&e.d,e&&(s=(a/=t)+(u/=t),c=(l/=o)+(d/=o))),{top:a,left:l,bottom:s,right:c,width:d,height:u}}}function R(t,e,n){for(var o=A(t,!0),i=k(t)[e];o;){var r=k(o)[n];if(!(\"top\"===n||\"left\"===n?r<=i:i<=r))return o;if(o===O())break;o=A(o,!1)}return!1}function X(t,e,n,o){for(var i=0,r=0,a=t.children;r<a.length;){if(\"none\"!==a[r].style.display&&a[r]!==Bt.ghost&&(o||a[r]!==Bt.dragged)&&N(a[r],n.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function Y(t,e){for(var n=t.lastElementChild;n&&(n===Bt.ghost||\"none\"===P(n,\"display\")||e&&!p(n,e));)n=n.previousElementSibling;return n||null}function B(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)\"TEMPLATE\"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!p(t,e)||n++;return n}function E(t){var e=0,n=0,o=O();if(t)do{var i=v(t),r=i.a,i=i.d}while(e+=t.scrollLeft*r,n+=t.scrollTop*i,t!==o&&(t=t.parentNode));return[e,n]}function A(t,e){if(!t||!t.getBoundingClientRect)return O();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=P(n);if(n.clientWidth<n.scrollWidth&&(\"auto\"==i.overflowX||\"scroll\"==i.overflowX)||n.clientHeight<n.scrollHeight&&(\"auto\"==i.overflowY||\"scroll\"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(o||e)return n;o=!0}}}while(n=n.parentNode);return O()}function D(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function S(e,n){return function(){var t;g||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),g=setTimeout(function(){g=void 0},n))}}function F(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function _(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function C(t,e){P(t,\"position\",\"absolute\"),P(t,\"top\",e.top),P(t,\"left\",e.left),P(t,\"width\",e.width),P(t,\"height\",e.height)}function T(t){P(t,\"position\",\"\"),P(t,\"top\",\"\"),P(t,\"left\",\"\"),P(t,\"width\",\"\"),P(t,\"height\",\"\")}var j=\"Sortable\"+(new Date).getTime();function x(){var e,o=[];return{captureAnimationState:function(){o=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,n;\"none\"!==P(t,\"display\")&&t!==Bt.ghost&&(o.push({target:t,rect:k(t)}),e=M({},o[o.length-1].rect),!t.thisAnimationDuration||(n=v(t,!0))&&(e.top-=n.f,e.left-=n.e),t.fromRect=e)})},addAnimationState:function(t){o.push(t)},removeAnimationState:function(t){o.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(o,{target:t}),1)},animateAll:function(t){var c=this;if(!this.options.animation)return clearTimeout(e),void(\"function\"==typeof t&&t());var u=!1,d=0;o.forEach(function(t){var e=0,n=t.target,o=n.fromRect,i=k(n),r=n.prevFromRect,a=n.prevToRect,l=t.rect,s=v(n,!0);s&&(i.top-=s.f,i.left-=s.e),n.toRect=i,n.thisAnimationDuration&&D(r,i)&&!D(o,i)&&(l.top-i.top)/(l.left-i.left)==(o.top-i.top)/(o.left-i.left)&&(t=l,s=r,r=a,a=c.options,e=Math.sqrt(Math.pow(s.top-t.top,2)+Math.pow(s.left-t.left,2))/Math.sqrt(Math.pow(s.top-r.top,2)+Math.pow(s.left-r.left,2))*a.animation),D(i,o)||(n.prevFromRect=o,n.prevToRect=i,e=e||c.options.animation,c.animate(n,l,i,e)),e&&(u=!0,d=Math.max(d,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(e),u?e=setTimeout(function(){\"function\"==typeof t&&t()},d):\"function\"==typeof t&&t(),o=[]},animate:function(t,e,n,o){var i,r;o&&(P(t,\"transition\",\"\"),P(t,\"transform\",\"\"),i=(r=v(this.el))&&r.a,r=r&&r.d,i=(e.left-n.left)/(i||1),r=(e.top-n.top)/(r||1),t.animatingX=!!i,t.animatingY=!!r,P(t,\"transform\",\"translate3d(\"+i+\"px,\"+r+\"px,0)\"),this.forRepaintDummy=t.offsetWidth,P(t,\"transition\",\"transform \"+o+\"ms\"+(this.options.easing?\" \"+this.options.easing:\"\")),P(t,\"transform\",\"translate3d(0,0,0)\"),\"number\"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){P(t,\"transition\",\"\"),P(t,\"transform\",\"\"),t.animated=!1,t.animatingX=!1,t.animatingY=!1},o))}}}var H=[],L={initializeByDefault:!0},K={mount:function(e){for(var t in L)!L.hasOwnProperty(t)||t in e||(e[t]=L[t]);H.forEach(function(t){if(t.pluginName===e.pluginName)throw\"Sortable: Cannot mount plugin \".concat(e.pluginName,\" more than once\")}),H.push(e)},pluginEvent:function(e,n,o){var t=this;this.eventCanceled=!1,o.cancel=function(){t.eventCanceled=!0};var i=e+\"Global\";H.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][i]&&n[t.pluginName][i](M({sortable:n},o)),n.options[t.pluginName]&&n[t.pluginName][e]&&n[t.pluginName][e](M({sortable:n},o)))})},initializePlugins:function(n,o,i,t){for(var e in H.forEach(function(t){var e=t.pluginName;(n.options[e]||t.initializeByDefault)&&((t=new t(n,o,n.options)).sortable=n,t.options=n.options,n[e]=t,a(i,t.defaults))}),n.options){var r;n.options.hasOwnProperty(e)&&(void 0!==(r=this.modifyOption(n,e,n.options[e]))&&(n.options[e]=r))}},getEventProperties:function(e,n){var o={};return H.forEach(function(t){\"function\"==typeof t.eventProperties&&a(o,t.eventProperties.call(n[t.pluginName],e))}),o},modifyOption:function(e,n,o){var i;return H.forEach(function(t){e[t.pluginName]&&t.optionListeners&&\"function\"==typeof t.optionListeners[n]&&(i=t.optionListeners[n].call(e[t.pluginName],o))}),i}};function W(t){var e=t.sortable,n=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,l=t.fromEl,s=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,h=t.originalEvent,f=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[j]){var g,m=e.options,t=\"on\"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||y||w?(g=document.createEvent(\"Event\")).initEvent(o,!0,!0):g=new CustomEvent(o,{bubbles:!0,cancelable:!0}),g.to=a||n,g.from=l||n,g.item=i||n,g.clone=r,g.oldIndex=s,g.newIndex=c,g.oldDraggableIndex=u,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=f?f.lastPutMode:void 0;var v,b=M(M({},p),K.getEventProperties(o,e));for(v in b)g[v]=b[v];n&&n.dispatchEvent(g),m[t]&&m[t].call(e,g)}}function z(t,e){var n=(o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,o=i(o,G);K.pluginEvent.bind(Bt)(t,e,M({dragEl:q,parentEl:V,ghostEl:Z,rootEl:$,nextEl:Q,lastDownEl:J,cloneEl:tt,cloneHidden:et,dragStarted:pt,putSortable:lt,activeSortable:Bt.active,originalEvent:n,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt,hideGhostForTarget:kt,unhideGhostForTarget:Rt,cloneNowHidden:function(){et=!0},cloneNowShown:function(){et=!1},dispatchSortableEvent:function(t){U({sortable:e,name:t,originalEvent:n})}},o))}var G=[\"evt\"];function U(t){W(M({putSortable:lt,cloneEl:tt,targetEl:q,rootEl:$,oldIndex:nt,oldDraggableIndex:it,newIndex:ot,newDraggableIndex:rt},t))}var q,V,Z,$,Q,J,tt,et,nt,ot,it,rt,at,lt,st,ct,ut,dt,ht,ft,pt,gt,mt,vt,bt,yt=!1,wt=!1,Et=[],Dt=!1,St=!1,_t=[],Ct=!1,Tt=[],xt=\"undefined\"!=typeof document,Ot=n,At=w||y?\"cssFloat\":\"float\",Mt=xt&&!c&&!n&&\"draggable\"in document.createElement(\"div\"),Nt=function(){if(xt){if(y)return!1;var t=document.createElement(\"x\");return t.style.cssText=\"pointer-events:auto\",\"auto\"===t.style.pointerEvents}}(),It=function(t,e){var n=P(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=X(t,0,e),r=X(t,1,e),a=i&&P(i),l=r&&P(r),s=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+k(i).width,t=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+k(r).width;if(\"flex\"===n.display)return\"column\"===n.flexDirection||\"column-reverse\"===n.flexDirection?\"vertical\":\"horizontal\";if(\"grid\"===n.display)return n.gridTemplateColumns.split(\" \").length<=1?\"vertical\":\"horizontal\";if(i&&a.float&&\"none\"!==a.float){e=\"left\"===a.float?\"left\":\"right\";return!r||\"both\"!==l.clear&&l.clear!==e?\"horizontal\":\"vertical\"}return i&&(\"block\"===a.display||\"flex\"===a.display||\"table\"===a.display||\"grid\"===a.display||o<=s&&\"none\"===n[At]||r&&\"none\"===n[At]&&o<s+t)?\"vertical\":\"horizontal\"},Pt=function(t){function l(r,a){return function(t,e,n,o){var i=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==r&&(a||i))return!0;if(null==r||!1===r)return!1;if(a&&\"clone\"===r)return r;if(\"function\"==typeof r)return l(r(t,e,n,o),a)(t,e,n,o);e=(a?t:e).options.group.name;return!0===r||\"string\"==typeof r&&r===e||r.join&&-1<r.indexOf(e)}}var e={},n=t.group;n&&\"object\"==o(n)||(n={name:n}),e.name=n.name,e.checkPull=l(n.pull,!0),e.checkPut=l(n.put),e.revertClone=n.revertClone,t.group=e},kt=function(){!Nt&&Z&&P(Z,\"display\",\"none\")},Rt=function(){!Nt&&Z&&P(Z,\"display\",\"\")};xt&&!c&&document.addEventListener(\"click\",function(t){if(wt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),wt=!1},!0);function Xt(t){if(q){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,r=t.clientY,Et.some(function(t){var e=t[j].options.emptyInsertThreshold;if(e&&!Y(t)){var n=k(t),o=i>=n.left-e&&i<=n.right+e,e=r>=n.top-e&&r<=n.bottom+e;return o&&e?a=t:void 0}}),a);if(e){var n,o={};for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[j]._onDragOver(o)}}var i,r,a}function Yt(t){q&&q.parentNode[j]._isOutsideThisEl(t.target)}function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw\"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(t));this.el=t,this.options=e=a({},e),t[j]=this;var n,o,i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?\">li\":\">*\",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return It(t,this.options)},ghostClass:\"sortable-ghost\",chosenClass:\"sortable-chosen\",dragClass:\"sortable-drag\",ignore:\"a, img\",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData(\"Text\",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:\"data-id\",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:\"sortable-fallback\",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&\"PointerEvent\"in window&&!u,emptyInsertThreshold:5};for(n in K.initializePlugins(this,t,i),i)n in e||(e[n]=i[n]);for(o in Pt(e),this)\"_\"===o.charAt(0)&&\"function\"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Mt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?h(t,\"pointerdown\",this._onTapStart):(h(t,\"mousedown\",this._onTapStart),h(t,\"touchstart\",this._onTapStart)),this.nativeDraggable&&(h(t,\"dragover\",this),h(t,\"dragenter\",this)),Et.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),a(this,x())}function Ft(t,e,n,o,i,r,a,l){var s,c,u=t[j],d=u.options.onMove;return!window.CustomEvent||y||w?(s=document.createEvent(\"Event\")).initEvent(\"move\",!0,!0):s=new CustomEvent(\"move\",{bubbles:!0,cancelable:!0}),s.to=e,s.from=t,s.dragged=n,s.draggedRect=o,s.related=i||e,s.relatedRect=r||k(e),s.willInsertAfter=l,s.originalEvent=a,t.dispatchEvent(s),c=d?d.call(u,s,a):c}function jt(t){t.draggable=!1}function Ht(){Ct=!1}function Lt(t){return setTimeout(t,0)}function Kt(t){return clearTimeout(t)}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(gt=null)},_getDirection:function(t,e){return\"function\"==typeof this.options.direction?this.options.direction.call(this,t,e,q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,t=this.options,i=t.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&\"touch\"===e.pointerType&&e,l=(a||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=t.filter;if(!function(t){Tt.length=0;var e=t.getElementsByTagName(\"input\"),n=e.length;for(;n--;){var o=e[n];o.checked&&Tt.push(o)}}(o),!q&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!u||!l||\"SELECT\"!==l.tagName.toUpperCase())&&!((l=N(l,t.draggable,o,!1))&&l.animated||J===l)){if(nt=B(l),it=B(l,t.draggable),\"function\"==typeof c){if(c.call(this,e,l,this))return U({sortable:n,rootEl:s,name:\"filter\",targetEl:l,toEl:o,fromEl:o}),z(\"filter\",n,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c=c&&c.split(\",\").some(function(t){if(t=N(s,t.trim(),o,!1))return U({sortable:n,rootEl:t,name:\"filter\",targetEl:l,fromEl:o,toEl:o}),z(\"filter\",n,{evt:e}),!0}))return void(i&&e.cancelable&&e.preventDefault());t.handle&&!N(s,t.handle,o,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(t,e,n){var o,i=this,r=i.el,a=i.options,l=r.ownerDocument;n&&!q&&n.parentNode===r&&(o=k(n),$=r,V=(q=n).parentNode,Q=q.nextSibling,J=n,at=a.group,st={target:Bt.dragged=q,clientX:(e||t).clientX,clientY:(e||t).clientY},ht=st.clientX-o.left,ft=st.clientY-o.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,q.style[\"will-change\"]=\"all\",o=function(){z(\"delayEnded\",i,{evt:t}),Bt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!s&&i.nativeDraggable&&(q.draggable=!0),i._triggerDragStart(t,e),U({sortable:i,name:\"choose\",originalEvent:t}),I(q,a.chosenClass,!0))},a.ignore.split(\",\").forEach(function(t){b(q,t.trim(),jt)}),h(l,\"dragover\",Xt),h(l,\"mousemove\",Xt),h(l,\"touchmove\",Xt),h(l,\"mouseup\",i._onDrop),h(l,\"touchend\",i._onDrop),h(l,\"touchcancel\",i._onDrop),s&&this.nativeDraggable&&(this.options.touchStartThreshold=4,q.draggable=!0),z(\"delayStart\",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(w||y)?o():Bt.eventCanceled?this._onDrop():(h(l,\"mouseup\",i._disableDelayedDrag),h(l,\"touchend\",i._disableDelayedDrag),h(l,\"touchcancel\",i._disableDelayedDrag),h(l,\"mousemove\",i._delayedDragTouchMoveHandler),h(l,\"touchmove\",i._delayedDragTouchMoveHandler),a.supportPointer&&h(l,\"pointermove\",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,a.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){q&&jt(q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;f(t,\"mouseup\",this._disableDelayedDrag),f(t,\"touchend\",this._disableDelayedDrag),f(t,\"touchcancel\",this._disableDelayedDrag),f(t,\"mousemove\",this._delayedDragTouchMoveHandler),f(t,\"touchmove\",this._delayedDragTouchMoveHandler),f(t,\"pointermove\",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||\"touch\"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?h(document,\"pointermove\",this._onTouchMove):h(document,e?\"touchmove\":\"mousemove\",this._onTouchMove):(h(q,\"dragend\",this),h($,\"dragstart\",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var n;yt=!1,$&&q?(z(\"dragStarted\",this,{evt:e}),this.nativeDraggable&&h(document,\"dragover\",Yt),n=this.options,t||I(q,n.dragClass,!1),I(q,n.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),U({sortable:this,name:\"start\",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(ct){this._lastX=ct.clientX,this._lastY=ct.clientY,kt();for(var t=document.elementFromPoint(ct.clientX,ct.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ct.clientX,ct.clientY))!==e;)e=t;if(q.parentNode[j]._isOutsideThisEl(t),e)do{if(e[j])if(e[j]._onDragOver({clientX:ct.clientX,clientY:ct.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}while(e=(t=e).parentNode);Rt()}},_onTouchMove:function(t){if(st){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=Z&&v(Z,!0),a=Z&&r&&r.a,l=Z&&r&&r.d,e=Ot&&bt&&E(bt),a=(i.clientX-st.clientX+o.x)/(a||1)+(e?e[0]-_t[0]:0)/(a||1),l=(i.clientY-st.clientY+o.y)/(l||1)+(e?e[1]-_t[1]:0)/(l||1);if(!Bt.active&&!yt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}Z&&(r?(r.e+=a-(ut||0),r.f+=l-(dt||0)):r={a:1,b:0,c:0,d:1,e:a,f:l},r=\"matrix(\".concat(r.a,\",\").concat(r.b,\",\").concat(r.c,\",\").concat(r.d,\",\").concat(r.e,\",\").concat(r.f,\")\"),P(Z,\"webkitTransform\",r),P(Z,\"mozTransform\",r),P(Z,\"msTransform\",r),P(Z,\"transform\",r),ut=a,dt=l,ct=i),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Z){var t=this.options.fallbackOnBody?document.body:$,e=k(q,!0,Ot,!0,t),n=this.options;if(Ot){for(bt=t;\"static\"===P(bt,\"position\")&&\"none\"===P(bt,\"transform\")&&bt!==document;)bt=bt.parentNode;bt!==document.body&&bt!==document.documentElement?(bt===document&&(bt=O()),e.top+=bt.scrollTop,e.left+=bt.scrollLeft):bt=O(),_t=E(bt)}I(Z=q.cloneNode(!0),n.ghostClass,!1),I(Z,n.fallbackClass,!0),I(Z,n.dragClass,!0),P(Z,\"transition\",\"\"),P(Z,\"transform\",\"\"),P(Z,\"box-sizing\",\"border-box\"),P(Z,\"margin\",0),P(Z,\"top\",e.top),P(Z,\"left\",e.left),P(Z,\"width\",e.width),P(Z,\"height\",e.height),P(Z,\"opacity\",\"0.8\"),P(Z,\"position\",Ot?\"absolute\":\"fixed\"),P(Z,\"zIndex\",\"100000\"),P(Z,\"pointerEvents\",\"none\"),Bt.ghost=Z,t.appendChild(Z),P(Z,\"transform-origin\",ht/parseInt(Z.style.width)*100+\"% \"+ft/parseInt(Z.style.height)*100+\"%\")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;z(\"dragStart\",this,{evt:t}),Bt.eventCanceled?this._onDrop():(z(\"setupClone\",this),Bt.eventCanceled||((tt=_(q)).removeAttribute(\"id\"),tt.draggable=!1,tt.style[\"will-change\"]=\"\",this._hideClone(),I(tt,this.options.chosenClass,!1),Bt.clone=tt),n.cloneId=Lt(function(){z(\"clone\",n),Bt.eventCanceled||(n.options.removeCloneOnHide||$.insertBefore(tt,q),n._hideClone(),U({sortable:n,name:\"clone\"}))}),e||I(q,i.dragClass,!0),e?(wt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(f(document,\"mouseup\",n._onDrop),f(document,\"touchend\",n._onDrop),f(document,\"touchcancel\",n._onDrop),o&&(o.effectAllowed=\"move\",i.setData&&i.setData.call(n,o,q)),h(document,\"drop\",n),P(q,\"transform\",\"translateZ(0)\")),yt=!0,n._dragStartId=Lt(n._dragStarted.bind(n,e,t)),h(document,\"selectstart\",n),pt=!0,u&&P(document.body,\"user-select\",\"none\"))},_onDragOver:function(n){var o,i,r,t,a=this.el,l=n.target,e=this.options,s=e.group,c=Bt.active,u=at===s,d=e.sort,h=lt||c,f=this,p=!1;if(!Ct){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),l=N(l,e.draggable,a,!0),T(\"dragOver\"),Bt.eventCanceled)return p;if(q.contains(n.target)||l.animated&&l.animatingX&&l.animatingY||f._ignoreWhileAnimating===l)return O(!1);if(wt=!1,c&&!e.disabled&&(u?d||(i=V!==$):lt===this||(this.lastPutMode=at.checkPull(this,c,q,n))&&s.checkPut(this,c,q,n))){if(r=\"vertical\"===this._getDirection(n,l),o=k(q),T(\"dragOverValid\"),Bt.eventCanceled)return p;if(i)return V=$,x(),this._hideClone(),T(\"revert\"),Bt.eventCanceled||(Q?$.insertBefore(q,Q):$.appendChild(q)),O(!0);var g=Y(a,e.draggable);if(!g||function(t,e,n){n=k(Y(n.el,n.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(n,r,this)&&!g.animated){if(g===q)return O(!1);if((l=g&&a===n.target?g:l)&&(w=k(l)),!1!==Ft($,a,q,o,l,w,n,!!l))return x(),g&&g.nextSibling?a.insertBefore(q,g.nextSibling):a.appendChild(q),V=a,A(),O(!0)}else if(g&&function(t,e,n){n=k(X(n.el,0,n.options,!0));return e?t.clientX<n.left-10||t.clientY<n.top&&t.clientX<n.right:t.clientY<n.top-10||t.clientY<n.bottom&&t.clientX<n.left}(n,r,this)){var m=X(a,0,e,!0);if(m===q)return O(!1);if(w=k(l=m),!1!==Ft($,a,q,o,l,w,n,!1))return x(),a.insertBefore(q,m),V=a,A(),O(!0)}else if(l.parentNode===a){var v,b,y,w=k(l),E=q.parentNode!==a,D=(D=q.animated&&q.toRect||o,C=l.animated&&l.toRect||w,S=(t=r)?D.left:D.top,s=t?D.right:D.bottom,g=t?D.width:D.height,m=t?C.left:C.top,D=t?C.right:C.bottom,C=t?C.width:C.height,!(S===m||s===D||S+g/2===m+C/2)),S=r?\"top\":\"left\",g=R(l,\"top\",\"top\")||R(q,\"top\",\"top\"),m=g?g.scrollTop:void 0;if(gt!==l&&(b=w[S],Dt=!1,St=!D&&e.invertSwap||E),0!==(v=function(t,e,n,o,i,r,a,l){var s=o?t.clientY:t.clientX,c=o?n.height:n.width,t=o?n.top:n.left,o=o?n.bottom:n.right,n=!1;if(!a)if(l&&vt<c*i){if(Dt=!Dt&&(1===mt?t+c*r/2<s:s<o-c*r/2)?!0:Dt)n=!0;else if(1===mt?s<t+vt:o-vt<s)return-mt}else if(t+c*(1-i)/2<s&&s<o-c*(1-i)/2)return function(t){return B(q)<B(t)?1:-1}(e);if((n=n||a)&&(s<t+c*r/2||o-c*r/2<s))return t+c/2<s?1:-1;return 0}(n,l,w,r,D?1:e.swapThreshold,null==e.invertedSwapThreshold?e.swapThreshold:e.invertedSwapThreshold,St,gt===l)))for(var _=B(q);(y=V.children[_-=v])&&(\"none\"===P(y,\"display\")||y===Z););if(0===v||y===l)return O(!1);mt=v;var C=(gt=l).nextElementSibling,E=!1,D=Ft($,a,q,o,l,w,n,E=1===v);if(!1!==D)return 1!==D&&-1!==D||(E=1===D),Ct=!0,setTimeout(Ht,30),x(),E&&!C?a.appendChild(q):l.parentNode.insertBefore(q,E?C:l),g&&F(g,0,m-g.scrollTop),V=q.parentNode,void 0===b||St||(vt=Math.abs(b-k(l)[S])),A(),O(!0)}if(a.contains(q))return O(!1)}return!1}function T(t,e){z(t,f,M({evt:n,isOwner:u,axis:r?\"vertical\":\"horizontal\",revert:i,dragRect:o,targetRect:w,canSort:d,fromSortable:h,target:l,completed:O,onMove:function(t,e){return Ft($,a,q,o,t,k(t),n,e)},changed:A},e))}function x(){T(\"dragOverAnimationCapture\"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function O(t){return T(\"dragOverCompleted\",{insertion:t}),t&&(u?c._hideClone():c._showClone(f),f!==h&&(I(q,(lt||c).options.ghostClass,!1),I(q,e.ghostClass,!0)),lt!==f&&f!==Bt.active?lt=f:f===Bt.active&&lt&&(lt=null),h===f&&(f._ignoreWhileAnimating=l),f.animateAll(function(){T(\"dragOverAnimationComplete\"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(l===q&&!q.animated||l===a&&!l.animated)&&(gt=null),e.dragoverBubble||n.rootEl||l===document||(q.parentNode[j]._isOutsideThisEl(n.target),t||Xt(n)),!e.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),p=!0}function A(){ot=B(q),rt=B(q,e.draggable),U({sortable:f,name:\"change\",toEl:a,newIndex:ot,newDraggableIndex:rt,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,\"mousemove\",this._onTouchMove),f(document,\"touchmove\",this._onTouchMove),f(document,\"pointermove\",this._onTouchMove),f(document,\"dragover\",Xt),f(document,\"mousemove\",Xt),f(document,\"touchmove\",Xt)},_offUpEvents:function(){var t=this.el.ownerDocument;f(t,\"mouseup\",this._onDrop),f(t,\"touchend\",this._onDrop),f(t,\"pointerup\",this._onDrop),f(t,\"touchcancel\",this._onDrop),f(document,\"selectstart\",this)},_onDrop:function(t){var e=this.el,n=this.options;ot=B(q),rt=B(q,n.draggable),z(\"drop\",this,{evt:t}),V=q&&q.parentNode,ot=B(q),rt=B(q,n.draggable),Bt.eventCanceled||(Dt=St=yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kt(this.cloneId),Kt(this._dragStartId),this.nativeDraggable&&(f(document,\"drop\",this),f(e,\"dragstart\",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&P(document.body,\"user-select\",\"\"),P(q,\"transform\",\"\"),t&&(pt&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),($===V||lt&&\"clone\"!==lt.lastPutMode)&&tt&&tt.parentNode&&tt.parentNode.removeChild(tt),q&&(this.nativeDraggable&&f(q,\"dragend\",this),jt(q),q.style[\"will-change\"]=\"\",pt&&!yt&&I(q,(lt||this).options.ghostClass,!1),I(q,this.options.chosenClass,!1),U({sortable:this,name:\"unchoose\",toEl:V,newIndex:null,newDraggableIndex:null,originalEvent:t}),$!==V?(0<=ot&&(U({rootEl:V,name:\"add\",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:\"remove\",toEl:V,originalEvent:t}),U({rootEl:V,name:\"sort\",toEl:V,fromEl:$,originalEvent:t}),U({sortable:this,name:\"sort\",toEl:V,originalEvent:t})),lt&&lt.save()):ot!==nt&&0<=ot&&(U({sortable:this,name:\"update\",toEl:V,originalEvent:t}),U({sortable:this,name:\"sort\",toEl:V,originalEvent:t})),Bt.active&&(null!=ot&&-1!==ot||(ot=nt,rt=it),U({sortable:this,name:\"end\",toEl:V,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){z(\"nulling\",this),$=q=V=Z=Q=tt=J=et=st=ct=pt=ot=rt=nt=it=gt=mt=lt=at=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,Tt.forEach(function(t){t.checked=!0}),Tt.length=ut=dt=0},handleEvent:function(t){switch(t.type){case\"drop\":case\"dragend\":this._onDrop(t);break;case\"dragenter\":case\"dragover\":q&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect=\"move\");t.cancelable&&t.preventDefault()}(t));break;case\"selectstart\":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)N(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;for(;n--;)o+=e.charCodeAt(n);return o.toString(36)}(t));return e},sort:function(t,e){var n={},o=this.el;this.toArray().forEach(function(t,e){e=o.children[e];N(e,this.options.draggable,o,!1)&&(n[t]=e)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return N(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=K.modifyOption(this,t,e);n[t]=void 0!==o?o:e,\"group\"===t&&Pt(n)},destroy:function(){z(\"destroy\",this);var t=this.el;t[j]=null,f(t,\"mousedown\",this._onTapStart),f(t,\"touchstart\",this._onTapStart),f(t,\"pointerdown\",this._onTapStart),this.nativeDraggable&&(f(t,\"dragover\",this),f(t,\"dragenter\",this)),Array.prototype.forEach.call(t.querySelectorAll(\"[draggable]\"),function(t){t.removeAttribute(\"draggable\")}),this._onDrop(),this._disableDelayedDragEvents(),Et.splice(Et.indexOf(this.el),1),this.el=t=null},_hideClone:function(){et||(z(\"hideClone\",this),Bt.eventCanceled||(P(tt,\"display\",\"none\"),this.options.removeCloneOnHide&&tt.parentNode&&tt.parentNode.removeChild(tt),et=!0))},_showClone:function(t){\"clone\"===t.lastPutMode?et&&(z(\"showClone\",this),Bt.eventCanceled||(q.parentNode!=$||this.options.group.revertClone?Q?$.insertBefore(tt,Q):$.appendChild(tt):$.insertBefore(tt,q),this.options.group.revertClone&&this.animate(q,tt),P(tt,\"display\",\"\"),et=!1)):this._hideClone()}},xt&&h(document,\"touchmove\",function(t){(Bt.active||yt)&&t.cancelable&&t.preventDefault()}),Bt.utils={on:h,off:f,css:P,find:b,is:function(t,e){return!!N(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:S,closest:N,toggleClass:I,clone:_,index:B,nextTick:Lt,cancelNextTick:Kt,detectDirection:It,getChild:X},Bt.get=function(t){return t[j]},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw\"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(t));t.utils&&(Bt.utils=M(M({},Bt.utils),t.utils)),K.mount(t)})},Bt.create=function(t,e){return new Bt(t,e)};var Wt,zt,Gt,Ut,qt,Vt,Zt=[],$t=!(Bt.version=\"1.15.0\");function Qt(){Zt.forEach(function(t){clearInterval(t.pid)}),Zt=[]}function Jt(){clearInterval(Vt)}var te,ee=S(function(n,t,e,o){if(t.scroll){var i,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=O(),u=!1;zt!==e&&(zt=e,Qt(),Wt=t.scroll,i=t.scrollFn,!0===Wt&&(Wt=A(e,!0)));var d=0,h=Wt;do{var f=h,p=k(f),g=p.top,m=p.bottom,v=p.left,b=p.right,y=p.width,w=p.height,E=void 0,D=void 0,S=f.scrollWidth,_=f.scrollHeight,C=P(f),T=f.scrollLeft,p=f.scrollTop,D=f===c?(E=y<S&&(\"auto\"===C.overflowX||\"scroll\"===C.overflowX||\"visible\"===C.overflowX),w<_&&(\"auto\"===C.overflowY||\"scroll\"===C.overflowY||\"visible\"===C.overflowY)):(E=y<S&&(\"auto\"===C.overflowX||\"scroll\"===C.overflowX),w<_&&(\"auto\"===C.overflowY||\"scroll\"===C.overflowY)),T=E&&(Math.abs(b-r)<=l&&T+y<S)-(Math.abs(v-r)<=l&&!!T),p=D&&(Math.abs(m-a)<=l&&p+w<_)-(Math.abs(g-a)<=l&&!!p);if(!Zt[d])for(var x=0;x<=d;x++)Zt[x]||(Zt[x]={});Zt[d].vx==T&&Zt[d].vy==p&&Zt[d].el===f||(Zt[d].el=f,Zt[d].vx=T,Zt[d].vy=p,clearInterval(Zt[d].pid),0==T&&0==p||(u=!0,Zt[d].pid=setInterval(function(){o&&0===this.layer&&Bt.active._onTouchMove(qt);var t=Zt[this.layer].vy?Zt[this.layer].vy*s:0,e=Zt[this.layer].vx?Zt[this.layer].vx*s:0;\"function\"==typeof i&&\"continue\"!==i.call(Bt.dragged.parentNode[j],e,t,n,qt,Zt[this.layer].el)||F(Zt[this.layer].el,e,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==c&&(h=A(h,!1)));$t=u}},30),c=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(i=n||i,a(),e=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(e.clientX,e.clientY),t(),i&&!i.el.contains(e)&&(r(\"spill\"),this.onSpill({dragEl:o,putSortable:n})))};function ne(){}function oe(){}ne.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex;this.startIndex=t},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();t=X(this.sortable.el,this.startIndex,this.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:c},a(ne,{pluginName:\"revertOnSpill\"}),oe.prototype={onSpill:function(t){var e=t.dragEl,t=t.putSortable||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:c},a(oe,{pluginName:\"removeOnSpill\"});var ie,re,ae,le,se,ce=[],ue=[],de=!1,he=!1,fe=!1;function pe(n,o){ue.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)})}function ge(){ce.forEach(function(t){t!==ae&&t.parentNode&&t.parentNode.removeChild(t)})}return Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)\"_\"===t.charAt(0)&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent;this.sortable.nativeDraggable?h(document,\"dragover\",this._handleAutoScroll):this.options.supportPointer?h(document,\"pointermove\",this._handleFallbackAutoScroll):t.touches?h(document,\"touchmove\",this._handleFallbackAutoScroll):h(document,\"mousemove\",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?f(document,\"dragover\",this._handleAutoScroll):(f(document,\"pointermove\",this._handleFallbackAutoScroll),f(document,\"touchmove\",this._handleFallbackAutoScroll),f(document,\"mousemove\",this._handleFallbackAutoScroll)),Jt(),Qt(),clearTimeout(g),g=void 0},nulling:function(){qt=zt=Wt=$t=Vt=Gt=Ut=null,Zt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var o,i=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(r,a);qt=e,n||this.options.forceAutoScrollFallback||w||y||u?(ee(e,this.options,t,n),o=A(t,!0),!$t||Vt&&r===Gt&&a===Ut||(Vt&&Jt(),Vt=setInterval(function(){var t=A(document.elementFromPoint(r,a),!0);t!==o&&(o=t,Qt()),ee(e,i.options,t,n)},10),Gt=r,Ut=a)):this.options.bubbleScroll&&A(t,!0)!==O()?ee(e,this.options,A(t,!1),!1):Qt()}},a(t,{pluginName:\"scroll\",initializeByDefault:!0})}),Bt.mount(oe,ne),Bt.mount(new function(){function t(){this.defaults={swapClass:\"sortable-swap-highlight\"}}return t.prototype={dragStart:function(t){t=t.dragEl;te=t},dragOverValid:function(t){var e=t.completed,n=t.target,o=t.onMove,i=t.activeSortable,r=t.changed,a=t.cancel;i.options.swap&&(t=this.sortable.el,i=this.options,n&&n!==t&&(t=te,te=!1!==o(n)?(I(n,i.swapClass,!0),n):null,t&&t!==te&&I(t,i.swapClass,!1)),r(),e(!0),a())},drop:function(t){var e,n,o=t.activeSortable,i=t.putSortable,r=t.dragEl,a=i||this.sortable,l=this.options;te&&I(te,l.swapClass,!1),te&&(l.swap||i&&i.options.swap)&&r!==te&&(a.captureAnimationState(),a!==o&&o.captureAnimationState(),n=te,t=(e=r).parentNode,l=n.parentNode,t&&l&&!t.isEqualNode(n)&&!l.isEqualNode(e)&&(i=B(e),r=B(n),t.isEqualNode(l)&&i<r&&r++,t.insertBefore(n,t.children[i]),l.insertBefore(e,l.children[r])),a.animateAll(),a!==o&&o.animateAll())},nulling:function(){te=null}},a(t,{pluginName:\"swap\",eventProperties:function(){return{swapItem:te}}})}),Bt.mount(new function(){function t(o){for(var t in this)\"_\"===t.charAt(0)&&\"function\"==typeof this[t]&&(this[t]=this[t].bind(this));o.options.avoidImplicitDeselect||(o.options.supportPointer?h(document,\"pointerup\",this._deselectMultiDrag):(h(document,\"mouseup\",this._deselectMultiDrag),h(document,\"touchend\",this._deselectMultiDrag))),h(document,\"keydown\",this._checkKeyDown),h(document,\"keyup\",this._checkKeyUp),this.defaults={selectedClass:\"sortable-selected\",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,e){var n=\"\";ce.length&&re===o?ce.forEach(function(t,e){n+=(e?\", \":\"\")+t.textContent}):n=e.textContent,t.setData(\"Text\",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl;ae=t},delayEnded:function(){this.isMultiDrag=~ce.indexOf(ae)},setupClone:function(t){var e=t.sortable,t=t.cancel;if(this.isMultiDrag){for(var n=0;n<ce.length;n++)ue.push(_(ce[n])),ue[n].sortableIndex=ce[n].sortableIndex,ue[n].draggable=!1,ue[n].style[\"will-change\"]=\"\",I(ue[n],this.options.selectedClass,!1),ce[n]===ae&&I(ue[n],this.options.chosenClass,!1);e._hideClone(),t()}},clone:function(t){var e=t.sortable,n=t.rootEl,o=t.dispatchSortableEvent,t=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ce.length&&re===e&&(pe(!0,n),o(\"clone\"),t()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,t=t.cancel;this.isMultiDrag&&(pe(!1,n),ue.forEach(function(t){P(t,\"display\",\"\")}),e(),se=!1,t())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),t=t.cancel;this.isMultiDrag&&(ue.forEach(function(t){P(t,\"display\",\"none\"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),se=!0,t())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&re&&re.multiDrag._deselectMultiDrag(),ce.forEach(function(t){t.sortableIndex=B(t)}),ce=ce.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),fe=!0},dragStarted:function(t){var e,n=this,t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation&&(ce.forEach(function(t){t!==ae&&P(t,\"position\",\"absolute\")}),e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&C(t,e)}),de=he=!0)),t.animateAll(function(){de=he=!1,n.options.animation&&ce.forEach(function(t){T(t)}),n.options.sort&&ge()}))},dragOver:function(t){var e=t.target,n=t.completed,t=t.cancel;he&&~ce.indexOf(e)&&(n(!1),t())},revert:function(t){var n,o,e=t.fromSortable,i=t.rootEl,r=t.sortable,a=t.dragRect;1<ce.length&&(ce.forEach(function(t){r.addAnimationState({target:t,rect:he?k(t):a}),T(t),t.fromRect=a,e.removeAnimationState(t)}),he=!1,n=!this.options.removeCloneOnHide,o=i,ce.forEach(function(t,e){e=o.children[t.sortableIndex+(n?Number(e):0)];e?o.insertBefore(t,e):o.appendChild(t)}))},dragOverCompleted:function(t){var e,n=t.sortable,o=t.isOwner,i=t.insertion,r=t.activeSortable,a=t.parentEl,l=t.putSortable,t=this.options;i&&(o&&r._hideClone(),de=!1,t.animation&&1<ce.length&&(he||!o&&!r.options.sort&&!l)&&(e=k(ae,!1,!0,!0),ce.forEach(function(t){t!==ae&&(C(t,e),a.appendChild(t))}),he=!0),o||(he||ge(),1<ce.length?(o=se,r._showClone(n),r.options.animation&&!se&&o&&ue.forEach(function(t){r.addAnimationState({target:t,rect:le}),t.fromRect=le,t.thisAnimationDuration=null})):r._showClone(n)))},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,t=t.activeSortable;ce.forEach(function(t){t.thisAnimationDuration=null}),t.options.animation&&!n&&t.multiDrag.isMultiDrag&&(le=a({},e),e=v(ae,!0),le.top-=e.f,le.left-=e.e)},dragOverAnimationComplete:function(){he&&(he=!1,ge())},drop:function(t){var e=t.originalEvent,n=t.rootEl,o=t.parentEl,i=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,l=t.putSortable,s=l||this.sortable;if(e){var c,u,d,h=this.options,f=o.children;if(!fe)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(ae,h.selectedClass,!~ce.indexOf(ae)),~ce.indexOf(ae))ce.splice(ce.indexOf(ae),1),ie=null,W({sortable:i,rootEl:n,name:\"deselect\",targetEl:ae,originalEvent:e});else{if(ce.push(ae),W({sortable:i,rootEl:n,name:\"select\",targetEl:ae,originalEvent:e}),e.shiftKey&&ie&&i.el.contains(ie)){var p=B(ie),t=B(ae);if(~p&&~t&&p!==t)for(var g,m=p<t?(g=p,t):(g=t,p+1);g<m;g++)~ce.indexOf(f[g])||(I(f[g],h.selectedClass,!0),ce.push(f[g]),W({sortable:i,rootEl:n,name:\"select\",targetEl:f[g],originalEvent:e}))}else ie=ae;re=s}fe&&this.isMultiDrag&&(he=!1,(o[j].options.sort||o!==n)&&1<ce.length&&(c=k(ae),u=B(ae,\":not(.\"+this.options.selectedClass+\")\"),!de&&h.animation&&(ae.thisAnimationDuration=null),s.captureAnimationState(),de||(h.animation&&(ae.fromRect=c,ce.forEach(function(t){var e;t.thisAnimationDuration=null,t!==ae&&(e=he?k(t):c,t.fromRect=e,s.addAnimationState({target:t,rect:e}))})),ge(),ce.forEach(function(t){f[u]?o.insertBefore(t,f[u]):o.appendChild(t),u++}),a===B(ae)&&(d=!1,ce.forEach(function(t){t.sortableIndex!==B(t)&&(d=!0)}),d&&r(\"update\"))),ce.forEach(function(t){T(t)}),s.animateAll()),re=s),(n===o||l&&\"clone\"!==l.lastPutMode)&&ue.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=fe=!1,ue.length=0},destroyGlobal:function(){this._deselectMultiDrag(),f(document,\"pointerup\",this._deselectMultiDrag),f(document,\"mouseup\",this._deselectMultiDrag),f(document,\"touchend\",this._deselectMultiDrag),f(document,\"keydown\",this._checkKeyDown),f(document,\"keyup\",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==fe&&fe||re!==this.sortable||t&&N(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;ce.length;){var e=ce[0];I(e,this.options.selectedClass,!1),ce.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:\"deselect\",targetEl:e,originalEvent:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(t,{pluginName:\"multiDrag\",utils:{select:function(t){var e=t.parentNode[j];e&&e.options.multiDrag&&!~ce.indexOf(t)&&(re&&re!==e&&(re.multiDrag._deselectMultiDrag(),re=e),I(t,e.options.selectedClass,!0),ce.push(t))},deselect:function(t){var e=t.parentNode[j],n=ce.indexOf(t);e&&e.options.multiDrag&&~n&&(I(t,e.options.selectedClass,!1),ce.splice(n,1))}},eventProperties:function(){var n=this,o=[],i=[];return ce.forEach(function(t){var e;o.push({multiDragElement:t,index:t.sortableIndex}),e=he&&t!==ae?-1:he?B(t,\":not(.\"+n.options.selectedClass+\")\"):B(t),i.push({multiDragElement:t,index:e})}),{items:r(ce),clones:[].concat(ue),oldIndicies:o,newIndicies:i}},optionListeners:{multiDragKey:function(t){return\"ctrl\"===(t=t.toLowerCase())?t=\"Control\":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),Bt});", "'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar Sortable = _interopDefault(require('sortablejs'));\n\nfunction $(expr, con) {\n    return typeof expr === 'string' ?\n        (con || document).querySelector(expr) :\n        expr || null;\n}\n\n$.each = (expr, con) => {\n    return typeof expr === 'string' ?\n        Array.from((con || document).querySelectorAll(expr)) :\n        expr || null;\n};\n\n$.create = (tag, o) => {\n    let element = document.createElement(tag);\n\n    for (let i in o) {\n        let val = o[i];\n\n        if (i === 'inside') {\n            $(val).appendChild(element);\n        } else\n        if (i === 'around') {\n            let ref = $(val);\n            ref.parentNode.insertBefore(element, ref);\n            element.appendChild(ref);\n        } else\n        if (i === 'styles') {\n            if (typeof val === 'object') {\n                Object.keys(val).map(prop => {\n                    element.style[prop] = val[prop];\n                });\n            }\n        } else\n        if (i in element) {\n            element[i] = val;\n        } else {\n            element.setAttribute(i, val);\n        }\n    }\n\n    return element;\n};\n\n$.on = (element, event, selector, callback) => {\n    if (!callback) {\n        callback = selector;\n        $.bind(element, event, callback);\n    } else {\n        $.delegate(element, event, selector, callback);\n    }\n};\n\n$.off = (element, event, handler) => {\n    element.removeEventListener(event, handler);\n};\n\n$.bind = (element, event, callback) => {\n    event.split(/\\s+/).forEach(function (event) {\n        element.addEventListener(event, callback);\n    });\n};\n\n$.delegate = (element, event, selector, callback) => {\n    element.addEventListener(event, function (e) {\n        const delegatedTarget = e.target.closest(selector);\n        if (delegatedTarget) {\n            e.delegatedTarget = delegatedTarget;\n            callback.call(this, e, delegatedTarget);\n        }\n    });\n};\n\n$.unbind = (element, o) => {\n    if (element) {\n        for (let event in o) {\n            let callback = o[event];\n\n            event.split(/\\s+/).forEach(function (event) {\n                element.removeEventListener(event, callback);\n            });\n        }\n    }\n};\n\n$.fire = (target, type, properties) => {\n    let evt = document.createEvent('HTMLEvents');\n\n    evt.initEvent(type, true, true);\n\n    for (let j in properties) {\n        evt[j] = properties[j];\n    }\n\n    return target.dispatchEvent(evt);\n};\n\n$.data = (element, attrs) => { // eslint-disable-line\n    if (!attrs) {\n        return element.dataset;\n    }\n\n    for (const attr in attrs) {\n        element.dataset[attr] = attrs[attr];\n    }\n};\n\n$.style = (elements, styleMap) => { // eslint-disable-line\n\n    if (typeof styleMap === 'string') {\n        return $.getStyle(elements, styleMap);\n    }\n\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    elements.map(element => {\n        for (const prop in styleMap) {\n            element.style[prop] = styleMap[prop];\n        }\n    });\n};\n\n$.removeStyle = (elements, styleProps) => {\n    if (!Array.isArray(elements)) {\n        elements = [elements];\n    }\n\n    if (!Array.isArray(styleProps)) {\n        styleProps = [styleProps];\n    }\n\n    elements.map(element => {\n        for (const prop of styleProps) {\n            element.style[prop] = '';\n        }\n    });\n};\n\n$.getStyle = (element, prop) => {\n    if (!prop) {\n        return getComputedStyle(element);\n    }\n\n    let val = getComputedStyle(element)[prop];\n\n    if (['width', 'height'].includes(prop)) {\n        val = parseFloat(val);\n    }\n\n    return val;\n};\n\n$.closest = (selector, element) => {\n    if (!element) return null;\n\n    if (element.matches(selector)) {\n        return element;\n    }\n\n    return $.closest(selector, element.parentNode);\n};\n\n$.inViewport = (el, parentEl) => {\n    const {\n        top,\n        left,\n        bottom,\n        right\n    } = el.getBoundingClientRect();\n    const {\n        top: pTop,\n        left: pLeft,\n        bottom: pBottom,\n        right: pRight\n    } = parentEl.getBoundingClientRect();\n\n    return top >= pTop && left >= pLeft && bottom <= pBottom && right <= pRight;\n};\n\n$.scrollTop = function scrollTop(element, pixels) {\n    requestAnimationFrame(() => {\n        element.scrollTop = pixels;\n    });\n};\n\n$.scrollbarSize = function scrollbarSize() {\n    if (!$.scrollBarSizeValue) {\n        $.scrollBarSizeValue = getScrollBarSize();\n    }\n    return $.scrollBarSizeValue;\n};\n\nfunction getScrollBarSize() {\n    // assume scrollbar width and height would be the same\n\n    // Create the measurement node\n    const scrollDiv = document.createElement('div');\n    $.style(scrollDiv, {\n        width: '100px',\n        height: '100px',\n        overflow: 'scroll',\n        position: 'absolute',\n        top: '-9999px'\n    });\n    document.body.appendChild(scrollDiv);\n\n    // Get the scrollbar width\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\n    // Delete the DIV\n    document.body.removeChild(scrollDiv);\n\n    return scrollbarWidth;\n}\n\n$.hasVerticalOverflow = function (element) {\n    return element.scrollHeight > element.offsetHeight + 10;\n};\n\n$.hasHorizontalOverflow = function (element) {\n    return element.scrollWidth > element.offsetWidth + 10;\n};\n\n$.measureTextWidth = function (text) {\n    const div = document.createElement('div');\n    div.style.position = 'absolute';\n    div.style.visibility = 'hidden';\n    div.style.height = 'auto';\n    div.style.width = 'auto';\n    div.style.whiteSpace = 'nowrap';\n    div.innerText = text;\n    document.body.appendChild(div);\n    return div.clientWidth + 1;\n};\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction commonjsRequire () {\n\tthrow new Error('Dynamic requires are not currently supported by rollup-plugin-commonjs');\n}\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\nvar _freeGlobal = freeGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = _freeGlobal || freeSelf || Function('return this')();\n\nvar _root = root;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return _root.Date.now();\n};\n\nvar now_1 = now;\n\n/** Built-in value references. */\nvar Symbol = _root.Symbol;\n\nvar _Symbol = Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\nvar _objectToString = objectToString;\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag$1 && symToStringTag$1 in Object(value))\n    ? _getRawTag(value)\n    : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);\n}\n\nvar isSymbol_1 = isSymbol;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber_1(wait) || 0;\n  if (isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now_1();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT$1);\n  }\n  if (isObject_1(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce_1(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nvar throttle_1 = throttle;\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject_1(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = _baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nvar isFunction_1 = isFunction;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = _root['__core-js_shared__'];\n\nvar _coreJsData = coreJsData;\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nvar _isMasked = isMasked;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nvar _toSource = toSource;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject_1(value) || _isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(_toSource(value));\n}\n\nvar _baseIsNative = baseIsNative;\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nvar _getValue = getValue;\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = _getValue(object, key);\n  return _baseIsNative(value) ? value : undefined;\n}\n\nvar _getNative = getNative;\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = _getNative(Object, 'create');\n\nvar _nativeCreate = nativeCreate;\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n  this.size = 0;\n}\n\nvar _hashClear = hashClear;\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _hashDelete = hashDelete;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (_nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\nvar _hashGet = hashGet;\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);\n}\n\nvar _hashHas = hashHas;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\nvar _hashSet = hashSet;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = _hashClear;\nHash.prototype['delete'] = _hashDelete;\nHash.prototype.get = _hashGet;\nHash.prototype.has = _hashHas;\nHash.prototype.set = _hashSet;\n\nvar _Hash = Hash;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nvar _listCacheClear = listCacheClear;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nvar eq_1 = eq;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq_1(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nvar _assocIndexOf = assocIndexOf;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nvar _listCacheDelete = listCacheDelete;\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nvar _listCacheGet = listCacheGet;\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return _assocIndexOf(this.__data__, key) > -1;\n}\n\nvar _listCacheHas = listCacheHas;\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = _assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nvar _listCacheSet = listCacheSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = _listCacheClear;\nListCache.prototype['delete'] = _listCacheDelete;\nListCache.prototype.get = _listCacheGet;\nListCache.prototype.has = _listCacheHas;\nListCache.prototype.set = _listCacheSet;\n\nvar _ListCache = ListCache;\n\n/* Built-in method references that are verified to be native. */\nvar Map = _getNative(_root, 'Map');\n\nvar _Map = Map;\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new _Hash,\n    'map': new (_Map || _ListCache),\n    'string': new _Hash\n  };\n}\n\nvar _mapCacheClear = mapCacheClear;\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nvar _isKeyable = isKeyable;\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return _isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nvar _getMapData = getMapData;\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = _getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nvar _mapCacheDelete = mapCacheDelete;\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return _getMapData(this, key).get(key);\n}\n\nvar _mapCacheGet = mapCacheGet;\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return _getMapData(this, key).has(key);\n}\n\nvar _mapCacheHas = mapCacheHas;\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = _getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nvar _mapCacheSet = mapCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = _mapCacheClear;\nMapCache.prototype['delete'] = _mapCacheDelete;\nMapCache.prototype.get = _mapCacheGet;\nMapCache.prototype.has = _mapCacheHas;\nMapCache.prototype.set = _mapCacheSet;\n\nvar _MapCache = MapCache;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$2 = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED$2);\n  return this;\n}\n\nvar _setCacheAdd = setCacheAdd;\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nvar _setCacheHas = setCacheHas;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new _MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = _setCacheAdd;\nSetCache.prototype.has = _setCacheHas;\n\nvar _SetCache = SetCache;\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _baseFindIndex = baseFindIndex;\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nvar _baseIsNaN = baseIsNaN;\n\n/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nvar _strictIndexOf = strictIndexOf;\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? _strictIndexOf(array, value, fromIndex)\n    : _baseFindIndex(array, _baseIsNaN, fromIndex);\n}\n\nvar _baseIndexOf = baseIndexOf;\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && _baseIndexOf(array, value, 0) > -1;\n}\n\nvar _arrayIncludes = arrayIncludes;\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar _arrayIncludesWith = arrayIncludesWith;\n\n/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nvar _cacheHas = cacheHas;\n\n/* Built-in method references that are verified to be native. */\nvar Set = _getNative(_root, 'Set');\n\nvar _Set = Set;\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nvar noop_1 = noop;\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nvar _setToArray = setToArray;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(_Set && (1 / _setToArray(new _Set([,-0]))[1]) == INFINITY) ? noop_1 : function(values) {\n  return new _Set(values);\n};\n\nvar _createSet = createSet;\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = _arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = _arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : _createSet(array);\n    if (set) {\n      return _setToArray(set);\n    }\n    isCommon = false;\n    includes = _cacheHas;\n    seen = new _SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nvar _baseUniq = baseUniq;\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? _baseUniq(array) : [];\n}\n\nvar uniq_1 = uniq;\n\nfunction camelCaseToDash(str) {\n    return str.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`);\n}\n\nfunction makeDataAttributeString(props) {\n    const keys = Object.keys(props);\n\n    return keys\n        .map((key) => {\n            const _key = camelCaseToDash(key);\n            const val = props[key];\n\n            if (val === undefined) return '';\n            return `data-${_key}=\"${val}\" `;\n        })\n        .join('')\n        .trim();\n}\n\nfunction copyTextToClipboard(text) {\n    // https://stackoverflow.com/a/30810322/5353542\n    var textArea = document.createElement('textarea');\n\n    //\n    // *** This styling is an extra step which is likely not required. ***\n    //\n    // Why is it here? To ensure:\n    // 1. the element is able to have focus and selection.\n    // 2. if element was to flash render it has minimal visual impact.\n    // 3. less flakyness with selection and copying which **might** occur if\n    //    the textarea element is not visible.\n    //\n    // The likelihood is the element won't even render, not even a flash,\n    // so some of these are just precautions. However in IE the element\n    // is visible whilst the popup box asking the user for permission for\n    // the web page to copy to the clipboard.\n    //\n\n    // Place in top-left corner of screen regardless of scroll position.\n    textArea.style.position = 'fixed';\n    textArea.style.top = 0;\n    textArea.style.left = 0;\n\n    // Ensure it has a small width and height. Setting to 1px / 1em\n    // doesn't work as this gives a negative w/h on some browsers.\n    textArea.style.width = '2em';\n    textArea.style.height = '2em';\n\n    // We don't need padding, reducing the size if it does flash render.\n    textArea.style.padding = 0;\n\n    // Clean up any borders.\n    textArea.style.border = 'none';\n    textArea.style.outline = 'none';\n    textArea.style.boxShadow = 'none';\n\n    // Avoid flash of white box if rendered for any reason.\n    textArea.style.background = 'transparent';\n\n    textArea.value = text;\n\n    document.body.appendChild(textArea);\n\n    textArea.select();\n\n    try {\n        document.execCommand('copy');\n    } catch (err) {\n        console.log('Oops, unable to copy');\n    }\n\n    document.body.removeChild(textArea);\n}\n\nfunction isNumeric(val) {\n    return !isNaN(val);\n}\n\nlet throttle$1 = throttle_1;\n\nlet debounce$1 = debounce_1;\n\nfunction nextTick(fn, context = null) {\n    return (...args) => {\n        return new Promise(resolve => {\n            const execute = () => {\n                const out = fn.apply(context, args);\n                resolve(out);\n            };\n            setTimeout(execute);\n        });\n    };\n}\nfunction linkProperties(target, source, properties) {\n    const props = properties.reduce((acc, prop) => {\n        acc[prop] = {\n            get() {\n                return source[prop];\n            }\n        };\n        return acc;\n    }, {});\n    Object.defineProperties(target, props);\n}\nfunction isSet(val) {\n    return val !== undefined || val !== null;\n}\n\nfunction notSet(val) {\n    return !isSet(val);\n}\n\nfunction isNumber(val) {\n    return !isNaN(val);\n}\n\nfunction ensureArray(val) {\n    if (!Array.isArray(val)) {\n        return [val];\n    }\n    return val;\n}\n\nfunction uniq$1(arr) {\n    return uniq_1(arr);\n}\n\nfunction numberSortAsc(a, b) {\n    return a - b;\n}\nfunction stripHTML(html) {\n    return html.replace(/<[^>]*>/g, '');\n}\nfunction format(str, args) {\n    if (!str) return str;\n\n    Object.keys(args).forEach(arg => {\n        let regex = new RegExp(`{(${arg})}`, 'g');\n        str = str.replace(regex, args[arg]);\n    });\n\n    return str;\n}\nfunction escapeHTML(txt) {\n    if (!txt) return '';\n    let escapeHtmlMapping = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#39;',\n        '/': '&#x2F;',\n        '`': '&#x60;',\n        '=': '&#x3D;',\n    };\n\n    return String(txt).replace(/[&<>\"'`=/]/g, (char) => escapeHtmlMapping[char] || char);\n}\n\nclass DataManager {\n    constructor(options) {\n        this.options = options;\n        this.sortRows = nextTick(this.sortRows, this);\n        this.switchColumn = nextTick(this.switchColumn, this);\n        this.removeColumn = nextTick(this.removeColumn, this);\n        this.options.filterRows = nextTick(this.options.filterRows, this);\n    }\n\n    init(data, columns) {\n        if (!data) {\n            data = this.options.data;\n        }\n        if (columns) {\n            this.options.columns = columns;\n        }\n\n        this.data = data;\n\n        this.rowCount = 0;\n        this.columns = [];\n        this.rows = [];\n\n        this.prepareColumns();\n        this.validateData(this.data);\n        this.rows = this.prepareRows(this.data);\n        this.prepareTreeRows();\n        this.prepareRowView();\n        this.prepareNumericColumns();\n    }\n\n    // computed property\n    get currentSort() {\n        const col = this.columns.find(col => col.sortOrder !== 'none');\n        return col || {\n            colIndex: -1,\n            sortOrder: 'none'\n        };\n    }\n\n    prepareColumns() {\n        this.columns = [];\n        this.validateColumns();\n        this.prepareDefaultColumns();\n        this.prepareHeader();\n    }\n\n    prepareDefaultColumns() {\n        if (this.options.checkboxColumn && !this.hasColumnById('_checkbox')) {\n            const cell = {\n                id: '_checkbox',\n                content: this.getCheckboxHTML(),\n                editable: false,\n                resizable: false,\n                sortable: false,\n                focusable: false,\n                dropdown: false,\n                width: 32\n            };\n            this.columns.push(cell);\n        }\n\n        if (this.options.serialNoColumn && !this.hasColumnById('_rowIndex')) {\n            let cell = {\n                id: '_rowIndex',\n                content: '',\n                align: 'center',\n                editable: false,\n                resizable: false,\n                focusable: false,\n                dropdown: false\n            };\n\n            this.columns.push(cell);\n        }\n    }\n\n    prepareHeader() {\n        let columns = this.columns.concat(this.options.columns);\n        const baseCell = {\n            isHeader: 1,\n            editable: true,\n            sortable: true,\n            resizable: true,\n            focusable: true,\n            dropdown: true,\n            width: null,\n            format: (value) => {\n                if (value === null || value === undefined) {\n                    return '';\n                }\n                return value + '';\n            }\n        };\n\n        this.columns = columns\n            .map((cell, i) => this.prepareCell(cell, i))\n            .map(col => Object.assign({}, baseCell, col))\n            .map(col => {\n                col.content = col.content || col.name || '';\n                col.id = col.id || col.content;\n                return col;\n            });\n    }\n\n    prepareCell(content, i) {\n        const cell = {\n            content: '',\n            sortOrder: 'none',\n            colIndex: i,\n            column: this.columns[i]\n        };\n\n        if (content !== null && typeof content === 'object') {\n            // passed as column/header\n            Object.assign(cell, content);\n        } else {\n            cell.content = content;\n        }\n\n        return cell;\n    }\n\n    prepareNumericColumns() {\n        const row0 = this.getRow(0);\n        if (!row0) return;\n        this.columns = this.columns.map((column, i) => {\n\n            const cellValue = row0[i].content;\n            if (!column.align && isNumeric(cellValue)) {\n                column.align = 'right';\n            }\n\n            return column;\n        });\n    }\n\n    prepareRows(data) {\n        return data.map((d, i) => {\n            const index = this._getNextRowCount();\n\n            let row = [];\n            let meta = {\n                rowIndex: index\n            };\n\n            if (Array.isArray(d)) {\n                // row is an array\n                if (this.options.checkboxColumn) {\n                    row.push(this.getCheckboxHTML());\n                }\n                if (this.options.serialNoColumn) {\n                    row.push((index + 1) + '');\n                }\n                row = row.concat(d);\n\n                while (row.length < this.columns.length) {\n                    row.push('');\n                }\n\n            } else {\n                // row is an object\n                for (let col of this.columns) {\n                    if (col.id === '_checkbox') {\n                        row.push(this.getCheckboxHTML());\n                    } else if (col.id === '_rowIndex') {\n                        row.push((index + 1) + '');\n                    } else {\n                        row.push(d[col.id]);\n                    }\n                }\n\n                meta.indent = d.indent || 0;\n            }\n\n            return this.prepareRow(row, meta);\n        });\n    }\n\n    prepareTreeRows() {\n        this.rows.forEach((row, i) => {\n            if (isNumber(row.meta.indent)) {\n                // if (i === 36) debugger;\n                const nextRow = this.getRow(i + 1);\n                row.meta.isLeaf = !nextRow ||\n                    notSet(nextRow.meta.indent) ||\n                    nextRow.meta.indent <= row.meta.indent;\n                row.meta.isTreeNodeClose = false;\n            }\n        });\n    }\n\n    prepareRowView() {\n        // This is order in which rows will be rendered in the table.\n        // When sorting happens, only this.rowViewOrder will change\n        // and not the original this.rows\n        this.rowViewOrder = this.rows.map(row => row.meta.rowIndex);\n    }\n\n    prepareRow(row, meta) {\n        const baseRowCell = {\n            rowIndex: meta.rowIndex,\n            indent: meta.indent\n        };\n\n        row = row\n            .map((cell, i) => this.prepareCell(cell, i))\n            .map(cell => Object.assign({}, baseRowCell, cell));\n\n        // monkey patched in array object\n        row.meta = meta;\n        return row;\n    }\n\n    validateColumns() {\n        const columns = this.options.columns;\n        if (!Array.isArray(columns)) {\n            throw new DataError('`columns` must be an array');\n        }\n\n        columns.forEach((column, i) => {\n            if (typeof column !== 'string' && typeof column !== 'object') {\n                throw new DataError(`column \"${i}\" must be a string or an object`);\n            }\n        });\n    }\n\n    validateData(data) {\n        if (Array.isArray(data) &&\n            (data.length === 0 || Array.isArray(data[0]) || typeof data[0] === 'object')) {\n            return true;\n        }\n        throw new DataError('`data` must be an array of arrays or objects');\n    }\n\n    appendRows(rows) {\n        this.validateData(rows);\n        this.rows = this.rows.concat(this.prepareRows(rows));\n        this.prepareTreeRows();\n        this.prepareRowView();\n    }\n\n    sortRows(colIndex, sortOrder = 'none') {\n        colIndex = +colIndex;\n\n        // reset sortOrder and update for colIndex\n        this.getColumns()\n            .map(col => {\n                if (col.colIndex === colIndex) {\n                    col.sortOrder = sortOrder;\n                } else {\n                    col.sortOrder = 'none';\n                }\n            });\n\n        this._sortRows(colIndex, sortOrder);\n    }\n\n    _sortRows(colIndex, sortOrder) {\n\n        if (this.currentSort.colIndex === colIndex) {\n            // reverse the array if only sortOrder changed\n            if (\n                (this.currentSort.sortOrder === 'asc' && sortOrder === 'desc') ||\n                (this.currentSort.sortOrder === 'desc' && sortOrder === 'asc')\n            ) {\n                this.reverseArray(this.rowViewOrder);\n                this.currentSort.sortOrder = sortOrder;\n                return;\n            }\n        }\n\n        this.rowViewOrder.sort((a, b) => {\n            const aIndex = a;\n            const bIndex = b;\n\n            let aContent = this.getCell(colIndex, a).content;\n            let bContent = this.getCell(colIndex, b).content;\n            aContent = aContent == null ? '' : aContent;\n            bContent = bContent == null ? '' : bContent;\n\n            if (sortOrder === 'none') {\n                return aIndex - bIndex;\n            } else if (sortOrder === 'asc') {\n                if (aContent < bContent) return -1;\n                if (aContent > bContent) return 1;\n                if (aContent === bContent) return 0;\n            } else if (sortOrder === 'desc') {\n                if (aContent < bContent) return 1;\n                if (aContent > bContent) return -1;\n                if (aContent === bContent) return 0;\n            }\n            return 0;\n        });\n\n        if (this.hasColumnById('_rowIndex')) {\n            // update row index\n            const srNoColIndex = this.getColumnIndexById('_rowIndex');\n            this.rows.forEach((row, index) => {\n                const viewIndex = this.rowViewOrder.indexOf(index);\n                const cell = row[srNoColIndex];\n                cell.content = (viewIndex + 1) + '';\n            });\n        }\n    }\n\n    reverseArray(array) {\n        let left = null;\n        let right = null;\n        let length = array.length;\n\n        for (left = 0, right = length - 1; left < right; left += 1, right -= 1) {\n            const temporary = array[left];\n\n            array[left] = array[right];\n            array[right] = temporary;\n        }\n    }\n\n    switchColumn(index1, index2) {\n        // update columns\n        const temp = this.columns[index1];\n        this.columns[index1] = this.columns[index2];\n        this.columns[index2] = temp;\n\n        this.columns[index1].colIndex = index1;\n        this.columns[index2].colIndex = index2;\n\n        // update rows\n        this.rows.forEach(row => {\n            const newCell1 = Object.assign({}, row[index1], {\n                colIndex: index2\n            });\n            const newCell2 = Object.assign({}, row[index2], {\n                colIndex: index1\n            });\n\n            row[index2] = newCell1;\n            row[index1] = newCell2;\n        });\n    }\n\n    removeColumn(index) {\n        index = +index;\n        const filter = cell => cell.colIndex !== index;\n        const map = (cell, i) => Object.assign({}, cell, {\n            colIndex: i\n        });\n        // update columns\n        this.columns = this.columns\n            .filter(filter)\n            .map(map);\n\n        // update rows\n        this.rows.forEach(row => {\n            // remove cell\n            row.splice(index, 1);\n            // update colIndex\n            row.forEach((cell, i) => {\n                cell.colIndex = i;\n            });\n        });\n    }\n\n    updateRow(row, rowIndex) {\n        if (row.length < this.columns.length) {\n            if (this.hasColumnById('_rowIndex')) {\n                const val = (rowIndex + 1) + '';\n\n                row = [val].concat(row);\n            }\n\n            if (this.hasColumnById('_checkbox')) {\n                const val = '<input type=\"checkbox\" />';\n\n                row = [val].concat(row);\n            }\n        }\n\n        const _row = this.prepareRow(row, {rowIndex});\n        const index = this.rows.findIndex(row => row[0].rowIndex === rowIndex);\n        this.rows[index] = _row;\n\n        return _row;\n    }\n\n    updateCell(colIndex, rowIndex, options) {\n        let cell;\n        if (typeof colIndex === 'object') {\n            // cell object was passed,\n            // must have colIndex, rowIndex\n            cell = colIndex;\n            colIndex = cell.colIndex;\n            rowIndex = cell.rowIndex;\n            // the object passed must be merged with original cell\n            options = cell;\n        }\n        cell = this.getCell(colIndex, rowIndex);\n\n        // mutate object directly\n        for (let key in options) {\n            const newVal = options[key];\n            if (newVal !== undefined) {\n                cell[key] = newVal;\n            }\n        }\n\n        return cell;\n    }\n\n    updateColumn(colIndex, keyValPairs) {\n        const column = this.getColumn(colIndex);\n        for (let key in keyValPairs) {\n            const newVal = keyValPairs[key];\n            if (newVal !== undefined) {\n                column[key] = newVal;\n            }\n        }\n        return column;\n    }\n\n    filterRows(filters) {\n        return this.options.filterRows(this.rows, filters)\n            .then(result => {\n                if (!result) {\n                    result = this.getAllRowIndices();\n                }\n\n                if (!result.then) {\n                    result = Promise.resolve(result);\n                }\n\n                return result.then(rowsToShow => {\n                    this._filteredRows = rowsToShow;\n\n                    const rowsToHide = this.getAllRowIndices()\n                        .filter(index => !rowsToShow.includes(index));\n\n                    return {\n                        rowsToHide,\n                        rowsToShow\n                    };\n                });\n            });\n    }\n\n    getFilteredRowIndices() {\n        return this._filteredRows || this.getAllRowIndices();\n    }\n\n    getAllRowIndices() {\n        return this.rows.map(row => row.meta.rowIndex);\n    }\n\n    getRowCount() {\n        return this.rowCount;\n    }\n\n    _getNextRowCount() {\n        const val = this.rowCount;\n\n        this.rowCount++;\n        return val;\n    }\n\n    getRows(start, end) {\n        return this.rows.slice(start, end);\n    }\n\n    getRowsForView(start, end) {\n        const rows = this.rowViewOrder.map(i => this.rows[i]);\n        return rows.slice(start, end);\n    }\n\n    getColumns(skipStandardColumns) {\n        let columns = this.columns;\n\n        if (skipStandardColumns) {\n            columns = columns.slice(this.getStandardColumnCount());\n        }\n\n        return columns;\n    }\n\n    getStandardColumnCount() {\n        if (this.options.checkboxColumn && this.options.serialNoColumn) {\n            return 2;\n        }\n\n        if (this.options.checkboxColumn || this.options.serialNoColumn) {\n            return 1;\n        }\n\n        return 0;\n    }\n\n    getColumnCount(skipStandardColumns) {\n        let val = this.columns.length;\n\n        if (skipStandardColumns) {\n            val = val - this.getStandardColumnCount();\n        }\n\n        return val;\n    }\n\n    getColumn(colIndex) {\n        colIndex = +colIndex;\n\n        if (colIndex < 0) {\n            // negative indexes\n            colIndex = this.columns.length + colIndex;\n        }\n\n        return this.columns.find(col => col.colIndex === colIndex);\n    }\n\n    getColumnById(id) {\n        return this.columns.find(col => col.id === id);\n    }\n\n    getRow(rowIndex) {\n        rowIndex = +rowIndex;\n        return this.rows[rowIndex];\n    }\n\n    getCell(colIndex, rowIndex) {\n        rowIndex = +rowIndex;\n        colIndex = +colIndex;\n        return this.getRow(rowIndex)[colIndex];\n    }\n\n    getChildren(parentRowIndex) {\n        parentRowIndex = +parentRowIndex;\n        const parentIndent = this.getRow(parentRowIndex).meta.indent;\n        const out = [];\n\n        for (let i = parentRowIndex + 1; i < this.rowCount; i++) {\n            const row = this.getRow(i);\n            if (isNaN(row.meta.indent)) continue;\n\n            if (row.meta.indent > parentIndent) {\n                out.push(i);\n            }\n\n            if (row.meta.indent === parentIndent) {\n                break;\n            }\n        }\n\n        return out;\n    }\n\n    getImmediateChildren(parentRowIndex) {\n        parentRowIndex = +parentRowIndex;\n        const parentIndent = this.getRow(parentRowIndex).meta.indent;\n        const out = [];\n        const childIndent = parentIndent + 1;\n\n        for (let i = parentRowIndex + 1; i < this.rowCount; i++) {\n            const row = this.getRow(i);\n            if (isNaN(row.meta.indent) || row.meta.indent > childIndent) continue;\n\n            if (row.meta.indent === childIndent) {\n                out.push(i);\n            }\n\n            if (row.meta.indent === parentIndent) {\n                break;\n            }\n        }\n\n        return out;\n    }\n\n    get() {\n        return {\n            columns: this.columns,\n            rows: this.rows\n        };\n    }\n\n    /**\n     * Returns the original data which was passed\n     * based on rowIndex\n     * @param {Number} rowIndex\n     * @returns Array|Object\n     * @memberof DataManager\n     */\n    getData(rowIndex) {\n        return this.data[rowIndex];\n    }\n\n    hasColumn(name) {\n        return Boolean(this.columns.find(col => col.content === name));\n    }\n\n    hasColumnById(id) {\n        return Boolean(this.columns.find(col => col.id === id));\n    }\n\n    getColumnIndex(name) {\n        return this.columns.findIndex(col => col.content === name);\n    }\n\n    getColumnIndexById(id) {\n        return this.columns.findIndex(col => col.id === id);\n    }\n\n    getCheckboxHTML() {\n        return '<input type=\"checkbox\" />';\n    }\n}\n\n// Custom Errors\nclass DataError extends TypeError {}\n\n/* eslint-disable max-len */\n\n// Icons from https://feathericons.com/\n\nlet icons = {\n    chevronDown: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-down\"><polyline points=\"6 9 12 15 18 9\"></polyline></svg>',\n    chevronRight: '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-chevron-right\"><polyline points=\"9 18 15 12 9 6\"></polyline></svg>'\n};\n\nclass CellManager {\n    constructor(instance) {\n        this.instance = instance;\n        linkProperties(this, this.instance, [\n            'wrapper',\n            'options',\n            'style',\n            'header',\n            'bodyScrollable',\n            'columnmanager',\n            'rowmanager',\n            'datamanager',\n            'keyboard'\n        ]);\n\n        this.bindEvents();\n    }\n\n    bindEvents() {\n        this.bindFocusCell();\n        this.bindEditCell();\n        this.bindKeyboardSelection();\n        this.bindCopyCellContents();\n        this.bindMouseEvents();\n        this.bindTreeEvents();\n    }\n\n    bindFocusCell() {\n        this.bindKeyboardNav();\n    }\n\n    bindEditCell() {\n        this.$editingCell = null;\n\n        $.on(this.bodyScrollable, 'dblclick', '.dt-cell', (e, cell) => {\n            this.activateEditing(cell);\n        });\n\n        this.keyboard.on('enter', () => {\n            if (this.$focusedCell && !this.$editingCell) {\n                // enter keypress on focused cell\n                this.activateEditing(this.$focusedCell);\n            } else if (this.$editingCell) {\n                // enter keypress on editing cell\n                this.deactivateEditing();\n            }\n        });\n    }\n\n    bindKeyboardNav() {\n        const focusLastCell = (direction) => {\n            if (!this.$focusedCell || this.$editingCell) {\n                return false;\n            }\n\n            let $cell = this.$focusedCell;\n            const {\n                rowIndex,\n                colIndex\n            } = $.data($cell);\n\n            if (direction === 'left') {\n                $cell = this.getLeftMostCell$(rowIndex);\n            } else if (direction === 'right') {\n                $cell = this.getRightMostCell$(rowIndex);\n            } else if (direction === 'up') {\n                $cell = this.getTopMostCell$(colIndex);\n            } else if (direction === 'down') {\n                $cell = this.getBottomMostCell$(colIndex);\n            }\n\n            this.focusCell($cell);\n            return true;\n        };\n\n        ['left', 'right', 'up', 'down', 'tab', 'shift+tab']\n            .map(direction => this.keyboard.on(direction, () => this.focusCellInDirection(direction)));\n\n        ['left', 'right', 'up', 'down']\n            .map(direction => this.keyboard.on(`ctrl+${direction}`, () => focusLastCell(direction)));\n\n        this.keyboard.on('esc', () => {\n            this.deactivateEditing(false);\n            this.columnmanager.toggleFilter(false);\n        });\n\n        if (this.options.inlineFilters) {\n            this.keyboard.on('ctrl+f', (e) => {\n                const $cell = $.closest('.dt-cell', e.target);\n                const { colIndex } = $.data($cell);\n\n                this.activateFilter(colIndex);\n                return true;\n            });\n\n            $.on(this.header, 'focusin', '.dt-filter', () => {\n                this.unfocusCell(this.$focusedCell);\n            });\n        }\n    }\n\n    bindKeyboardSelection() {\n        const getNextSelectionCursor = (direction) => {\n            let $selectionCursor = this.getSelectionCursor();\n\n            if (direction === 'left') {\n                $selectionCursor = this.getLeftCell$($selectionCursor);\n            } else if (direction === 'right') {\n                $selectionCursor = this.getRightCell$($selectionCursor);\n            } else if (direction === 'up') {\n                $selectionCursor = this.getAboveCell$($selectionCursor);\n            } else if (direction === 'down') {\n                $selectionCursor = this.getBelowCell$($selectionCursor);\n            }\n\n            return $selectionCursor;\n        };\n\n        ['left', 'right', 'up', 'down']\n            .map(direction =>\n                this.keyboard.on(`shift+${direction}`, () => this.selectArea(getNextSelectionCursor(direction))));\n    }\n\n    bindCopyCellContents() {\n        this.keyboard.on('ctrl+c', () => {\n            const noOfCellsCopied = this.copyCellContents(this.$focusedCell, this.$selectionCursor);\n            const message = this.instance.translate('{count} cells copied', {\n                count: noOfCellsCopied\n            });\n\n            if (noOfCellsCopied) {\n                this.instance.showToastMessage(message, 2);\n            }\n        });\n\n        if (this.options.pasteFromClipboard) {\n            this.keyboard.on('ctrl+v', (e) => {\n                // hack\n                // https://stackoverflow.com/a/2177059/5353542\n                this.instance.pasteTarget.focus();\n\n                setTimeout(() => {\n                    const data = this.instance.pasteTarget.value;\n                    this.instance.pasteTarget.value = '';\n                    this.pasteContentInCell(data);\n                }, 10);\n\n                return false;\n            });\n        }\n    }\n\n    bindMouseEvents() {\n        let mouseDown = null;\n\n        $.on(this.bodyScrollable, 'mousedown', '.dt-cell', (e) => {\n            mouseDown = true;\n            this.focusCell($(e.delegatedTarget));\n        });\n\n        $.on(this.bodyScrollable, 'mouseup', () => {\n            mouseDown = false;\n        });\n\n        const selectArea = (e) => {\n            if (!mouseDown) return;\n            this.selectArea($(e.delegatedTarget));\n        };\n\n        $.on(this.bodyScrollable, 'mousemove', '.dt-cell', throttle$1(selectArea, 50));\n    }\n\n    bindTreeEvents() {\n        $.on(this.bodyScrollable, 'click', '.dt-tree-node__toggle', (e, $toggle) => {\n            const $cell = $.closest('.dt-cell', $toggle);\n            const { rowIndex } = $.data($cell);\n\n            if ($cell.classList.contains('dt-cell--tree-close')) {\n                this.rowmanager.openSingleNode(rowIndex);\n            } else {\n                this.rowmanager.closeSingleNode(rowIndex);\n            }\n        });\n    }\n\n    focusCell($cell, {\n        skipClearSelection = 0,\n        skipDOMFocus = 0,\n        skipScrollToCell = 0\n    } = {}) {\n        if (!$cell) return;\n\n        // don't focus if already editing cell\n        if ($cell === this.$editingCell) return;\n\n        const {\n            colIndex,\n            isHeader\n        } = $.data($cell);\n        if (isHeader) {\n            return;\n        }\n\n        const column = this.columnmanager.getColumn(colIndex);\n        if (column.focusable === false) {\n            return;\n        }\n\n        if (!skipScrollToCell) {\n            this.scrollToCell($cell);\n        }\n\n        this.deactivateEditing();\n        if (!skipClearSelection) {\n            this.clearSelection();\n        }\n\n        if (this.$focusedCell) {\n            this.$focusedCell.classList.remove('dt-cell--focus');\n        }\n\n        this.$focusedCell = $cell;\n        $cell.classList.add('dt-cell--focus');\n\n        if (!skipDOMFocus) {\n            // so that keyboard nav works\n            $cell.focus();\n        }\n\n        this.highlightRowColumnHeader($cell);\n    }\n\n    unfocusCell($cell) {\n        if (!$cell) return;\n\n        // remove cell border\n        $cell.classList.remove('dt-cell--focus');\n        this.$focusedCell = null;\n\n        // reset header background\n        if (this.lastHeaders) {\n            this.lastHeaders.forEach(header => header && header.classList.remove('dt-cell--highlight'));\n        }\n    }\n\n    highlightRowColumnHeader($cell) {\n        const {\n            colIndex,\n            rowIndex\n        } = $.data($cell);\n\n        const srNoColIndex = this.datamanager.getColumnIndexById('_rowIndex');\n        const colHeaderSelector = `.dt-cell--header-${colIndex}`;\n        const rowHeaderSelector = `.dt-cell--${srNoColIndex}-${rowIndex}`;\n\n        if (this.lastHeaders) {\n            this.lastHeaders.forEach(header => header && header.classList.remove('dt-cell--highlight'));\n        }\n\n        const colHeader = $(colHeaderSelector, this.wrapper);\n        const rowHeader = $(rowHeaderSelector, this.wrapper);\n\n        this.lastHeaders = [colHeader, rowHeader];\n        this.lastHeaders.forEach(header => header && header.classList.add('dt-cell--highlight'));\n    }\n\n    selectAreaOnClusterChanged() {\n        if (!(this.$focusedCell && this.$selectionCursor)) return;\n        const {\n            colIndex,\n            rowIndex\n        } = $.data(this.$selectionCursor);\n        const $cell = this.getCell$(colIndex, rowIndex);\n\n        if (!$cell || $cell === this.$selectionCursor) return;\n\n        // selectArea needs $focusedCell\n        const fCell = $.data(this.$focusedCell);\n        this.$focusedCell = this.getCell$(fCell.colIndex, fCell.rowIndex);\n\n        this.selectArea($cell);\n    }\n\n    focusCellOnClusterChanged() {\n        if (!this.$focusedCell) return;\n\n        const {\n            colIndex,\n            rowIndex\n        } = $.data(this.$focusedCell);\n        const $cell = this.getCell$(colIndex, rowIndex);\n\n        if (!$cell) return;\n        // this function is called after hyperlist renders the rows after scroll,\n        // focusCell calls clearSelection which resets the area selection\n        // so a flag to skip it\n        // we also skip DOM focus and scroll to cell\n        // because it fights with the user scroll\n        this.focusCell($cell, {\n            skipClearSelection: 1,\n            skipDOMFocus: 1,\n            skipScrollToCell: 1\n        });\n    }\n\n    selectArea($selectionCursor) {\n        if (!this.$focusedCell) return;\n\n        if (this._selectArea(this.$focusedCell, $selectionCursor)) {\n            // valid selection\n            this.$selectionCursor = $selectionCursor;\n        }\n    }\n\n    _selectArea($cell1, $cell2) {\n        if ($cell1 === $cell2) return false;\n\n        const cells = this.getCellsInRange($cell1, $cell2);\n        if (!cells) return false;\n\n        this.clearSelection();\n        this._selectedCells = cells.map(index => this.getCell$(...index));\n        requestAnimationFrame(() => {\n            this._selectedCells.map($cell => $cell.classList.add('dt-cell--highlight'));\n        });\n        return true;\n    }\n\n    getCellsInRange($cell1, $cell2) {\n        let colIndex1, rowIndex1, colIndex2, rowIndex2;\n\n        if (typeof $cell1 === 'number') {\n            [colIndex1, rowIndex1, colIndex2, rowIndex2] = arguments;\n        } else\n        if (typeof $cell1 === 'object') {\n            if (!($cell1 && $cell2)) {\n                return false;\n            }\n\n            const cell1 = $.data($cell1);\n            const cell2 = $.data($cell2);\n\n            colIndex1 = +cell1.colIndex;\n            rowIndex1 = +cell1.rowIndex;\n            colIndex2 = +cell2.colIndex;\n            rowIndex2 = +cell2.rowIndex;\n        }\n\n        if (rowIndex1 > rowIndex2) {\n            [rowIndex1, rowIndex2] = [rowIndex2, rowIndex1];\n        }\n\n        if (colIndex1 > colIndex2) {\n            [colIndex1, colIndex2] = [colIndex2, colIndex1];\n        }\n\n        if (this.isStandardCell(colIndex1) || this.isStandardCell(colIndex2)) {\n            return false;\n        }\n\n        const cells = [];\n        let colIndex = colIndex1;\n        let rowIndex = rowIndex1;\n        const rowIndices = [];\n\n        while (rowIndex <= rowIndex2) {\n            rowIndices.push(rowIndex);\n            rowIndex += 1;\n        }\n\n        rowIndices.map((rowIndex) => {\n            while (colIndex <= colIndex2) {\n                cells.push([colIndex, rowIndex]);\n                colIndex++;\n            }\n            colIndex = colIndex1;\n        });\n\n        return cells;\n    }\n\n    clearSelection() {\n        (this._selectedCells || [])\n            .forEach($cell => $cell.classList.remove('dt-cell--highlight'));\n\n        this._selectedCells = [];\n        this.$selectionCursor = null;\n    }\n\n    getSelectionCursor() {\n        return this.$selectionCursor || this.$focusedCell;\n    }\n\n    activateEditing($cell) {\n        this.focusCell($cell);\n        const {\n            rowIndex,\n            colIndex\n        } = $.data($cell);\n\n        const col = this.columnmanager.getColumn(colIndex);\n        if (col && (col.editable === false || col.focusable === false)) {\n            return;\n        }\n\n        const cell = this.getCell(colIndex, rowIndex);\n        if (cell && cell.editable === false) {\n            return;\n        }\n\n        if (this.$editingCell) {\n            const {\n                _rowIndex,\n                _colIndex\n            } = $.data(this.$editingCell);\n\n            if (rowIndex === _rowIndex && colIndex === _colIndex) {\n                // editing the same cell\n                return;\n            }\n        }\n\n        this.$editingCell = $cell;\n        $cell.classList.add('dt-cell--editing');\n\n        const $editCell = $('.dt-cell__edit', $cell);\n        $editCell.innerHTML = '';\n\n        const editor = this.getEditor(colIndex, rowIndex, cell.content, $editCell);\n\n        if (editor) {\n            this.currentCellEditor = editor;\n            // initialize editing input with cell value\n            editor.initValue(cell.content, rowIndex, col);\n        }\n    }\n\n    deactivateEditing(submitValue = true) {\n        if (submitValue) {\n            this.submitEditing();\n        }\n        // keep focus on the cell so that keyboard navigation works\n        if (this.$focusedCell) this.$focusedCell.focus();\n\n        if (!this.$editingCell) return;\n        this.$editingCell.classList.remove('dt-cell--editing');\n        this.$editingCell = null;\n    }\n\n    getEditor(colIndex, rowIndex, value, parent) {\n        const column = this.datamanager.getColumn(colIndex);\n        const row = this.datamanager.getRow(rowIndex);\n        const data = this.datamanager.getData(rowIndex);\n        let editor = this.options.getEditor ?\n            this.options.getEditor(colIndex, rowIndex, value, parent, column, row, data) :\n            this.getDefaultEditor(parent);\n\n        if (editor === false) {\n            // explicitly returned false\n            return false;\n        }\n        if (editor === undefined) {\n            // didn't return editor, fallback to default\n            editor = this.getDefaultEditor(parent);\n        }\n\n        return editor;\n    }\n\n    getDefaultEditor(parent) {\n        const $input = $.create('input', {\n            class: 'dt-input',\n            type: 'text',\n            inside: parent\n        });\n\n        return {\n            initValue(value) {\n                $input.focus();\n                $input.value = value;\n            },\n            getValue() {\n                return $input.value;\n            },\n            setValue(value) {\n                $input.value = value;\n            }\n        };\n    }\n\n    submitEditing() {\n        let promise = Promise.resolve();\n        if (!this.$editingCell) return promise;\n\n        const $cell = this.$editingCell;\n        const {\n            rowIndex,\n            colIndex\n        } = $.data($cell);\n        const col = this.datamanager.getColumn(colIndex);\n\n        if ($cell) {\n            const editor = this.currentCellEditor;\n\n            if (editor) {\n                let valuePromise = editor.getValue();\n\n                // convert to stubbed Promise\n                if (!valuePromise.then) {\n                    valuePromise = Promise.resolve(valuePromise);\n                }\n\n                promise = valuePromise.then((value) => {\n                    const oldValue = this.getCell(colIndex, rowIndex).content;\n\n                    if (oldValue === value) return false;\n\n                    const done = editor.setValue(value, rowIndex, col);\n\n                    // update cell immediately\n                    this.updateCell(colIndex, rowIndex, value, true);\n                    $cell.focus();\n\n                    if (done && done.then) {\n                        // revert to oldValue if promise fails\n                        done.catch((e) => {\n                            console.log(e);\n                            this.updateCell(colIndex, rowIndex, oldValue);\n                        });\n                    }\n                    return done;\n                });\n            }\n        }\n\n        this.currentCellEditor = null;\n        return promise;\n    }\n\n    copyCellContents($cell1, $cell2) {\n        if (!$cell2 && $cell1) {\n            // copy only focusedCell\n            const {\n                colIndex,\n                rowIndex\n            } = $.data($cell1);\n            const cell = this.getCell(colIndex, rowIndex);\n            copyTextToClipboard(cell.content);\n            return 1;\n        }\n        const cells = this.getCellsInRange($cell1, $cell2);\n\n        if (!cells) return 0;\n\n        const rows = cells\n            // get cell objects\n            .map(index => this.getCell(...index))\n            // convert to array of rows\n            .reduce((acc, curr) => {\n                const rowIndex = curr.rowIndex;\n\n                acc[rowIndex] = acc[rowIndex] || [];\n                acc[rowIndex].push(curr.content);\n\n                return acc;\n            }, []);\n\n        const values = rows\n            // join values by tab\n            .map(row => row.join('\\t'))\n            // join rows by newline\n            .join('\\n');\n\n        copyTextToClipboard(values);\n\n        // return no of cells copied\n        return rows.reduce((total, row) => total + row.length, 0);\n    }\n\n    pasteContentInCell(data) {\n        if (!this.$focusedCell) return;\n\n        const matrix = data\n            .split('\\n')\n            .map(row => row.split('\\t'))\n            .filter(row => row.length && row.every(it => it));\n\n        let { colIndex, rowIndex } = $.data(this.$focusedCell);\n\n        let focusedCell = {\n            colIndex: +colIndex,\n            rowIndex: +rowIndex\n        };\n\n        matrix.forEach((row, i) => {\n            let rowIndex = i + focusedCell.rowIndex;\n            row.forEach((cell, j) => {\n                let colIndex = j + focusedCell.colIndex;\n                this.updateCell(colIndex, rowIndex, cell, true);\n            });\n        });\n    }\n\n    activateFilter(colIndex) {\n        this.columnmanager.toggleFilter();\n        this.columnmanager.focusFilter(colIndex);\n\n        if (!this.columnmanager.isFilterShown) {\n            // put focus back on cell\n            this.$focusedCell && this.$focusedCell.focus();\n        }\n    }\n\n    updateCell(colIndex, rowIndex, value, refreshHtml = false) {\n        const cell = this.datamanager.updateCell(colIndex, rowIndex, {\n            content: value\n        });\n        this.refreshCell(cell, refreshHtml);\n    }\n\n    refreshCell(cell, refreshHtml = false) {\n        const $cell = $(this.selector(cell.colIndex, cell.rowIndex), this.bodyScrollable);\n        $cell.innerHTML = this.getCellContent(cell, refreshHtml);\n    }\n\n    toggleTreeButton(rowIndex, flag) {\n        const colIndex = this.columnmanager.getFirstColumnIndex();\n        const $cell = this.getCell$(colIndex, rowIndex);\n        if ($cell) {\n            $cell.classList[flag ? 'remove' : 'add']('dt-cell--tree-close');\n        }\n    }\n\n    isStandardCell(colIndex) {\n        // Standard cells are in Sr. No and Checkbox column\n        return colIndex < this.columnmanager.getFirstColumnIndex();\n    }\n\n    focusCellInDirection(direction) {\n        if (!this.$focusedCell || (this.$editingCell && ['left', 'right', 'up', 'down'].includes(direction))) {\n            return false;\n        } else if (this.$editingCell && ['tab', 'shift+tab'].includes(direction)) {\n            this.deactivateEditing();\n        }\n\n        let $cell = this.$focusedCell;\n\n        if (direction === 'left' || direction === 'shift+tab') {\n            $cell = this.getLeftCell$($cell);\n        } else if (direction === 'right' || direction === 'tab') {\n            $cell = this.getRightCell$($cell);\n        } else if (direction === 'up') {\n            $cell = this.getAboveCell$($cell);\n        } else if (direction === 'down') {\n            $cell = this.getBelowCell$($cell);\n        }\n\n        if (!$cell) {\n            return false;\n        }\n\n        const {\n            colIndex\n        } = $.data($cell);\n        const column = this.columnmanager.getColumn(colIndex);\n\n        if (!column.focusable) {\n            let $prevFocusedCell = this.$focusedCell;\n            this.unfocusCell($prevFocusedCell);\n            this.$focusedCell = $cell;\n            let ret = this.focusCellInDirection(direction);\n            if (!ret) {\n                this.focusCell($prevFocusedCell);\n            }\n            return ret;\n        }\n\n        this.focusCell($cell);\n        return true;\n    }\n\n    getCell$(colIndex, rowIndex) {\n        return $(this.selector(colIndex, rowIndex), this.bodyScrollable);\n    }\n\n    getAboveCell$($cell) {\n        const {\n            colIndex\n        } = $.data($cell);\n\n        let $aboveRow = $cell.parentElement.previousElementSibling;\n        while ($aboveRow && $aboveRow.classList.contains('dt-row--hide')) {\n            $aboveRow = $aboveRow.previousElementSibling;\n        }\n\n        if (!$aboveRow) return $cell;\n        return $(`.dt-cell--col-${colIndex}`, $aboveRow);\n    }\n\n    getBelowCell$($cell) {\n        const {\n            colIndex\n        } = $.data($cell);\n\n        let $belowRow = $cell.parentElement.nextElementSibling;\n        while ($belowRow && $belowRow.classList.contains('dt-row--hide')) {\n            $belowRow = $belowRow.nextElementSibling;\n        }\n\n        if (!$belowRow) return $cell;\n        return $(`.dt-cell--col-${colIndex}`, $belowRow);\n    }\n\n    getLeftCell$($cell) {\n        return $cell.previousElementSibling;\n    }\n\n    getRightCell$($cell) {\n        return $cell.nextElementSibling;\n    }\n\n    getLeftMostCell$(rowIndex) {\n        return this.getCell$(this.columnmanager.getFirstColumnIndex(), rowIndex);\n    }\n\n    getRightMostCell$(rowIndex) {\n        return this.getCell$(this.columnmanager.getLastColumnIndex(), rowIndex);\n    }\n\n    getTopMostCell$(colIndex) {\n        return this.getCell$(colIndex, this.rowmanager.getFirstRowIndex());\n    }\n\n    getBottomMostCell$(colIndex) {\n        return this.getCell$(colIndex, this.rowmanager.getLastRowIndex());\n    }\n\n    getCell(colIndex, rowIndex) {\n        return this.instance.datamanager.getCell(colIndex, rowIndex);\n    }\n\n    getRowHeight() {\n        return $.style($('.dt-row', this.bodyScrollable), 'height');\n    }\n\n    scrollToCell($cell) {\n        if ($.inViewport($cell, this.bodyScrollable)) return false;\n\n        const {\n            rowIndex\n        } = $.data($cell);\n        this.rowmanager.scrollToRow(rowIndex);\n        return false;\n    }\n\n    getRowCountPerPage() {\n        return Math.ceil(this.instance.getViewportHeight() / this.getRowHeight());\n    }\n\n    getCellHTML(cell) {\n        const {\n            rowIndex,\n            colIndex,\n            isHeader,\n            isFilter,\n            isTotalRow\n        } = cell;\n        const dataAttr = makeDataAttributeString({\n            rowIndex,\n            colIndex,\n            isHeader,\n            isFilter,\n            isTotalRow\n        });\n\n        const row = this.datamanager.getRow(rowIndex);\n\n        const isBodyCell = !(isHeader || isFilter || isTotalRow);\n\n        const className = [\n            'dt-cell',\n            'dt-cell--col-' + colIndex,\n            isBodyCell ? `dt-cell--${colIndex}-${rowIndex}` : '',\n            isBodyCell ? 'dt-cell--row-' + rowIndex : '',\n            isHeader ? 'dt-cell--header' : '',\n            isHeader ? `dt-cell--header-${colIndex}` : '',\n            isFilter ? 'dt-cell--filter' : '',\n            isBodyCell && (row && row.meta.isTreeNodeClose) ? 'dt-cell--tree-close' : ''\n        ].join(' ');\n\n        return `\n            <div class=\"${className}\" ${dataAttr} tabindex=\"0\">\n                ${this.getCellContent(cell)}\n            </div>\n        `;\n    }\n\n    getCellContent(cell, refreshHtml = false) {\n        const {\n            isHeader,\n            isFilter,\n            colIndex\n        } = cell;\n\n        const editable = !isHeader && cell.editable !== false;\n        const editCellHTML = editable ? this.getEditCellHTML(colIndex) : '';\n\n        const sortable = isHeader && cell.sortable !== false;\n        const sortIndicator = sortable ?\n            `<span class=\"sort-indicator\">\n                ${this.options.sortIndicator[cell.sortOrder]}\n            </span>` :\n            '';\n\n        const resizable = isHeader && cell.resizable !== false;\n        const resizeColumn = resizable ? '<span class=\"dt-cell__resize-handle\"></span>' : '';\n\n        const hasDropdown = isHeader && cell.dropdown !== false;\n        const dropdown = hasDropdown ? this.columnmanager.getDropdownHTML() : '';\n\n        let customFormatter = CellManager.getCustomCellFormatter(cell);\n        let contentHTML;\n        if (isHeader || isFilter || !customFormatter) {\n            contentHTML = cell.content;\n        } else {\n            if (!cell.html || refreshHtml) {\n                const row = this.datamanager.getRow(cell.rowIndex);\n                const data = this.datamanager.getData(cell.rowIndex);\n                contentHTML = customFormatter(cell.content, row, cell.column, data);\n            } else {\n                contentHTML = cell.html;\n            }\n        }\n\n        cell.html = contentHTML;\n\n        if (this.options.treeView && !(isHeader || isFilter) && cell.indent !== undefined) {\n            const nextRow = this.datamanager.getRow(cell.rowIndex + 1);\n            const addToggle = nextRow && nextRow.meta.indent > cell.indent;\n            const leftPadding = 20;\n            const unit = 'px';\n\n            // Add toggle and indent in the first column\n            const firstColumnIndex = this.datamanager.getColumnIndexById('_rowIndex') + 1;\n            if (firstColumnIndex === cell.colIndex) {\n                const padding = ((cell.indent || 0)) * leftPadding;\n                const toggleHTML = addToggle ?\n                    `<span class=\"dt-tree-node__toggle\" style=\"left: ${padding - leftPadding}${unit}\">\n                        <span class=\"icon-open\">${icons.chevronDown}</span>\n                        <span class=\"icon-close\">${icons.chevronRight}</span>\n                    </span>` : '';\n                contentHTML = `<span class=\"dt-tree-node\" style=\"padding-left: ${padding}${unit}\">\n                    ${toggleHTML}\n                    <span>${contentHTML}</span>\n                </span>`;\n            }\n        }\n\n        const className = [\n            'dt-cell__content',\n            isHeader ? `dt-cell__content--header-${colIndex}` : `dt-cell__content--col-${colIndex}`\n        ].join(' ');\n\n        let cellContentHTML = `\n            <div class=\"${className}\">\n                ${contentHTML}\n                ${sortIndicator}\n                ${resizeColumn}\n                ${dropdown}\n            </div>\n            ${editCellHTML}\n        `;\n\n        let div = document.createElement('div');\n        div.innerHTML = contentHTML;\n\n        let textContent = div.textContent;\n        textContent = textContent.replace(/\\s+/g, ' ').trim();\n\n        cellContentHTML = cellContentHTML.replace('>', ` title=\"${escapeHTML(textContent)}\">`);\n\n        return cellContentHTML;\n    }\n\n    getEditCellHTML(colIndex) {\n        return `<div class=\"dt-cell__edit dt-cell__edit--col-${colIndex}\"></div>`;\n    }\n\n    selector(colIndex, rowIndex) {\n        return `.dt-cell--${colIndex}-${rowIndex}`;\n    }\n\n    static getCustomCellFormatter(cell) {\n        return cell.format || (cell.column && cell.column.format) || null;\n    }\n}\n\nclass ColumnManager {\n    constructor(instance) {\n        this.instance = instance;\n\n        linkProperties(this, this.instance, [\n            'options',\n            'fireEvent',\n            'header',\n            'datamanager',\n            'cellmanager',\n            'style',\n            'wrapper',\n            'rowmanager',\n            'bodyScrollable',\n            'bodyRenderer'\n        ]);\n\n        this.bindEvents();\n    }\n\n    renderHeader() {\n        this.header.innerHTML = '<div></div>';\n        this.refreshHeader();\n    }\n\n    refreshHeader() {\n        const columns = this.datamanager.getColumns();\n\n        // refresh html\n        $('div', this.header).innerHTML = this.getHeaderHTML(columns);\n\n        this.$filterRow = $('.dt-row-filter', this.header);\n        if (this.$filterRow) {\n            $.style(this.$filterRow, { display: 'none' });\n        }\n        // reset columnMap\n        this.$columnMap = [];\n        this.bindMoveColumn();\n    }\n\n    getHeaderHTML(columns) {\n        let html = this.rowmanager.getRowHTML(columns, {\n            isHeader: 1\n        });\n        if (this.options.inlineFilters) {\n            html += this.rowmanager.getRowHTML(columns, {\n                isFilter: 1\n            });\n        }\n        return html;\n    }\n\n    bindEvents() {\n        this.bindDropdown();\n        this.bindResizeColumn();\n        this.bindPerfectColumnWidth();\n        this.bindFilter();\n    }\n\n    bindDropdown() {\n        let toggleClass = '.dt-dropdown__toggle';\n        let dropdownClass = '.dt-dropdown__list';\n\n        // attach the dropdown list to container\n        this.instance.dropdownContainer.innerHTML = this.getDropdownListHTML();\n        this.$dropdownList = this.instance.dropdownContainer.firstElementChild;\n\n        $.on(this.header, 'click', toggleClass, e => {\n            this.openDropdown(e);\n        });\n\n        const deactivateDropdownOnBodyClick = (e) => {\n            const selector = [\n                toggleClass, toggleClass + ' *',\n                dropdownClass, dropdownClass + ' *'\n            ].join(',');\n            if (e.target.matches(selector)) return;\n            deactivateDropdown();\n        };\n        $.on(document.body, 'click', deactivateDropdownOnBodyClick);\n        document.addEventListener('scroll', deactivateDropdown, true);\n\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'click', deactivateDropdownOnBodyClick);\n            $.off(document, 'scroll', deactivateDropdown);\n        });\n\n        $.on(this.$dropdownList, 'click', '.dt-dropdown__list-item', (e, $item) => {\n            if (!this._dropdownActiveColIndex) return;\n            const dropdownItems = this.options.headerDropdown;\n            const { index } = $.data($item);\n            const colIndex = this._dropdownActiveColIndex;\n            let callback = dropdownItems[index].action;\n\n            callback && callback.call(this.instance, this.getColumn(colIndex));\n            this.hideDropdown();\n        });\n\n        const _this = this;\n        function deactivateDropdown(e) {\n            _this.hideDropdown();\n        }\n\n        this.hideDropdown();\n    }\n\n    openDropdown(e) {\n        if (!this._dropdownWidth) {\n            $.style(this.$dropdownList, { display: '' });\n            this._dropdownWidth = $.style(this.$dropdownList, 'width');\n        }\n        $.style(this.$dropdownList, {\n            display: '',\n            left: (e.clientX - this._dropdownWidth + 4) + 'px',\n            top: (e.clientY + 4) + 'px'\n        });\n        const $cell = $.closest('.dt-cell', e.target);\n        const { colIndex } = $.data($cell);\n        this._dropdownActiveColIndex = colIndex;\n    }\n\n    hideDropdown() {\n        $.style(this.$dropdownList, {\n            display: 'none'\n        });\n        this._dropdownActiveColIndex = null;\n    }\n\n    bindResizeColumn() {\n        let isDragging = false;\n        let $resizingCell, startWidth, startX;\n\n        $.on(this.header, 'mousedown', '.dt-cell .dt-cell__resize-handle', (e, $handle) => {\n            document.body.classList.add('dt-resize');\n            const $cell = $handle.parentNode.parentNode;\n            $resizingCell = $cell;\n            const {\n                colIndex\n            } = $.data($resizingCell);\n            const col = this.getColumn(colIndex);\n\n            if (col && col.resizable === false) {\n                return;\n            }\n\n            isDragging = true;\n            startWidth = $.style($('.dt-cell__content', $resizingCell), 'width');\n            startX = e.pageX;\n        });\n\n        const onMouseup = (e) => {\n            document.body.classList.remove('dt-resize');\n            if (!$resizingCell) return;\n            isDragging = false;\n\n            const {\n                colIndex\n            } = $.data($resizingCell);\n            this.setColumnWidth(colIndex);\n            this.style.setBodyStyle();\n            $resizingCell = null;\n        };\n        $.on(document.body, 'mouseup', onMouseup);\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'mouseup', onMouseup);\n        });\n\n        const onMouseMove = (e) => {\n            if (!isDragging) return;\n            let delta = e.pageX - startX;\n            if (this.options.direction === 'rtl') {\n                delta = -1 * delta;\n            }\n            const finalWidth = startWidth + delta;\n            const {\n                colIndex\n            } = $.data($resizingCell);\n\n            let columnMinWidth = this.options.minimumColumnWidth;\n            if (columnMinWidth > finalWidth) {\n                // don't resize past 30 pixels\n                return;\n            }\n            this.datamanager.updateColumn(colIndex, {\n                width: finalWidth\n            });\n            this.setColumnHeaderWidth(colIndex);\n        };\n        $.on(document.body, 'mousemove', onMouseMove);\n        this.instance.on('onDestroy', () => {\n            $.off(document.body, 'mousemove', onMouseMove);\n        });\n    }\n\n    bindPerfectColumnWidth() {\n        $.on(this.header, 'dblclick', '.dt-cell .dt-cell__resize-handle', (e, $handle) => {\n            const $cell = $handle.parentNode.parentNode;\n            const { colIndex } = $.data($cell);\n\n            let longestCell = this.bodyRenderer.visibleRows\n                .map(d => d[colIndex])\n                .reduce((acc, curr) => acc.content.length > curr.content.length ? acc : curr);\n\n            let $longestCellHTML = this.cellmanager.getCellHTML(longestCell);\n            let $div = document.createElement('div');\n            $div.innerHTML = $longestCellHTML;\n            let cellText = $div.querySelector('.dt-cell__content').textContent;\n\n            let {\n                borderLeftWidth,\n                borderRightWidth,\n                paddingLeft,\n                paddingRight\n            } = $.getStyle(this.bodyScrollable.querySelector('.dt-cell__content'));\n\n            let padding = [borderLeftWidth, borderRightWidth, paddingLeft, paddingRight]\n                .map(parseFloat)\n                .reduce((sum, val) => sum + val);\n\n            let width = $.measureTextWidth(cellText) + padding;\n            this.datamanager.updateColumn(colIndex, { width });\n            this.setColumnHeaderWidth(colIndex);\n            this.setColumnWidth(colIndex);\n        });\n    }\n\n    bindMoveColumn() {\n        if (this.options.disableReorderColumn) return;\n\n        const $parent = $('.dt-row', this.header);\n\n        this.sortable = Sortable.create($parent, {\n            onEnd: (e) => {\n                const {\n                    oldIndex,\n                    newIndex\n                } = e;\n                const $draggedCell = e.item;\n                const {\n                    colIndex\n                } = $.data($draggedCell);\n                if (+colIndex === newIndex) return;\n\n                this.switchColumn(oldIndex, newIndex);\n            },\n            preventOnFilter: false,\n            filter: '.dt-cell__resize-handle, .dt-dropdown',\n            chosenClass: 'dt-cell--dragging',\n            animation: 150\n        });\n    }\n\n    sortColumn(colIndex, nextSortOrder) {\n        this.instance.freeze();\n        this.sortRows(colIndex, nextSortOrder)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => this.instance.unfreeze())\n            .then(() => {\n                this.fireEvent('onSortColumn', this.getColumn(colIndex));\n            });\n    }\n\n    removeColumn(colIndex) {\n        const removedCol = this.getColumn(colIndex);\n        this.instance.freeze();\n        this.datamanager.removeColumn(colIndex)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => this.instance.unfreeze())\n            .then(() => {\n                this.fireEvent('onRemoveColumn', removedCol);\n            });\n    }\n\n    switchColumn(oldIndex, newIndex) {\n        this.instance.freeze();\n        this.datamanager.switchColumn(oldIndex, newIndex)\n            .then(() => {\n                this.refreshHeader();\n                return this.rowmanager.refreshRows();\n            })\n            .then(() => {\n                this.setColumnWidth(oldIndex);\n                this.setColumnWidth(newIndex);\n                this.instance.unfreeze();\n            })\n            .then(() => {\n                this.fireEvent('onSwitchColumn',\n                    this.getColumn(oldIndex), this.getColumn(newIndex)\n                );\n            });\n    }\n\n    toggleFilter(flag) {\n        if (!this.options.inlineFilters) return;\n\n        let showFilter;\n        if (flag === undefined) {\n            showFilter = !this.isFilterShown;\n        } else {\n            showFilter = flag;\n        }\n\n        if (showFilter) {\n            $.style(this.$filterRow, { display: '' });\n        } else {\n            $.style(this.$filterRow, { display: 'none' });\n        }\n\n        this.isFilterShown = showFilter;\n        this.style.setBodyStyle();\n    }\n\n    focusFilter(colIndex) {\n        if (!this.isFilterShown) return;\n\n        const $filterInput = $(`.dt-cell--col-${colIndex} .dt-filter`, this.$filterRow);\n        $filterInput.focus();\n    }\n\n    bindFilter() {\n        if (!this.options.inlineFilters) return;\n        const handler = e => {\n            this.applyFilter(this.getAppliedFilters());\n        };\n        $.on(this.header, 'keydown', '.dt-filter', debounce$1(handler, 300));\n    }\n\n    applyFilter(filters) {\n        this.datamanager.filterRows(filters)\n            .then(({\n                rowsToShow\n            }) => {\n                this.rowmanager.showRows(rowsToShow);\n            });\n    }\n\n    getAppliedFilters() {\n        const filters = {};\n        $.each('.dt-filter', this.header).map((input) => {\n            const value = input.value;\n            if (value) {\n                filters[input.dataset.colIndex] = value;\n            }\n        });\n        return filters;\n    }\n\n    applyDefaultSortOrder() {\n        // sort rows if any 1 column has a default sortOrder set\n        const columnsToSort = this.getColumns().filter(col => col.sortOrder !== 'none');\n\n        if (columnsToSort.length === 1) {\n            const column = columnsToSort[0];\n            this.sortColumn(column.colIndex, column.sortOrder);\n        }\n    }\n\n    sortRows(colIndex, sortOrder) {\n        return this.datamanager.sortRows(colIndex, sortOrder);\n    }\n\n    getColumn(colIndex) {\n        return this.datamanager.getColumn(colIndex);\n    }\n\n    getColumns() {\n        return this.datamanager.getColumns();\n    }\n\n    setColumnWidth(colIndex, width) {\n        colIndex = +colIndex;\n\n        let columnWidth = width || this.getColumn(colIndex).width;\n\n        const selector = [\n            `.dt-cell__content--col-${colIndex}`,\n            `.dt-cell__edit--col-${colIndex}`\n        ].join(', ');\n\n        const styles = {\n            width: columnWidth + 'px'\n        };\n\n        this.style.setStyle(selector, styles);\n    }\n\n    setColumnHeaderWidth(colIndex) {\n        colIndex = +colIndex;\n        this.$columnMap = this.$columnMap || [];\n        const selector = `.dt-cell__content--header-${colIndex}`;\n        const {\n            width\n        } = this.getColumn(colIndex);\n\n        let $column = this.$columnMap[colIndex];\n        if (!$column) {\n            $column = this.header.querySelector(selector);\n            this.$columnMap[colIndex] = $column;\n        }\n\n        $column.style.width = width + 'px';\n    }\n\n    getColumnMinWidth(colIndex) {\n        colIndex = +colIndex;\n        return this.getColumn(colIndex).minWidth || 24;\n    }\n\n    getFirstColumnIndex() {\n        return this.datamanager.getColumnIndexById('_rowIndex') + 1;\n    }\n\n    getHeaderCell$(colIndex) {\n        return $(`.dt-cell--header-${colIndex}`, this.header);\n    }\n\n    getLastColumnIndex() {\n        return this.datamanager.getColumnCount() - 1;\n    }\n\n    getDropdownHTML() {\n        const { dropdownButton } = this.options;\n\n        return `\n            <div class=\"dt-dropdown\">\n                <div class=\"dt-dropdown__toggle\">${dropdownButton}</div>\n            </div>\n      `;\n    }\n\n    getDropdownListHTML() {\n        const { headerDropdown: dropdownItems } = this.options;\n\n        return `\n            <div class=\"dt-dropdown__list\">\n            ${dropdownItems.map((d, i) => `\n                <div class=\"dt-dropdown__list-item\" data-index=\"${i}\">${d.label}</div>\n            `).join('')}\n            </div>\n        `;\n    }\n}\n\nclass RowManager {\n    constructor(instance) {\n        this.instance = instance;\n        linkProperties(this, this.instance, [\n            'options',\n            'fireEvent',\n            'wrapper',\n            'bodyScrollable',\n            'bodyRenderer',\n            'style'\n        ]);\n\n        this.bindEvents();\n        this.refreshRows = nextTick(this.refreshRows, this);\n    }\n\n    get datamanager() {\n        return this.instance.datamanager;\n    }\n\n    get cellmanager() {\n        return this.instance.cellmanager;\n    }\n\n    bindEvents() {\n        this.bindCheckbox();\n    }\n\n    bindCheckbox() {\n        if (!this.options.checkboxColumn) return;\n\n        // map of checked rows\n        this.checkMap = [];\n\n        $.on(this.wrapper, 'click', '.dt-cell--col-0 [type=\"checkbox\"]', (e, $checkbox) => {\n            const $cell = $checkbox.closest('.dt-cell');\n            const {\n                rowIndex,\n                isHeader\n            } = $.data($cell);\n            const checked = $checkbox.checked;\n\n            if (isHeader) {\n                this.checkAll(checked);\n            } else {\n                this.checkRow(rowIndex, checked);\n            }\n        });\n    }\n\n    refreshRows() {\n        this.instance.renderBody();\n        this.instance.setDimensions();\n    }\n\n    refreshRow(row, rowIndex) {\n        const _row = this.datamanager.updateRow(row, rowIndex);\n\n        _row.forEach(cell => {\n            this.cellmanager.refreshCell(cell, true);\n        });\n    }\n\n    getCheckedRows() {\n        if (!this.checkMap) {\n            return [];\n        }\n\n        let out = [];\n        for (let rowIndex in this.checkMap) {\n            const checked = this.checkMap[rowIndex];\n            if (checked === 1) {\n                out.push(rowIndex);\n            }\n        }\n\n        return out;\n    }\n\n    highlightCheckedRows() {\n        this.getCheckedRows()\n            .map(rowIndex => this.checkRow(rowIndex, true));\n    }\n\n    checkRow(rowIndex, toggle) {\n        const value = toggle ? 1 : 0;\n        const selector = rowIndex => `.dt-cell--0-${rowIndex} [type=\"checkbox\"]`;\n        // update internal map\n        this.checkMap[rowIndex] = value;\n        // set checkbox value explicitly\n        $.each(selector(rowIndex), this.bodyScrollable)\n            .map(input => {\n                input.checked = toggle;\n            });\n        // highlight row\n        this.highlightRow(rowIndex, toggle);\n        this.showCheckStatus();\n        this.fireEvent('onCheckRow', this.datamanager.getRow(rowIndex));\n    }\n\n    checkAll(toggle) {\n        const value = toggle ? 1 : 0;\n\n        // update internal map\n        if (toggle) {\n            if (this.datamanager._filteredRows) {\n                this.datamanager._filteredRows.forEach(f => {\n                    this.checkRow(f, toggle);\n                });\n            } else {\n                this.checkMap = Array.from(Array(this.getTotalRows())).map(c => value);\n            }\n        } else {\n            this.checkMap = [];\n        }\n        // set checkbox value\n        $.each('.dt-cell--col-0 [type=\"checkbox\"]', this.bodyScrollable)\n            .map(input => {\n                input.checked = toggle;\n            });\n        // highlight all\n        this.highlightAll(toggle);\n        this.showCheckStatus();\n        this.fireEvent('onCheckRow');\n    }\n\n    showCheckStatus() {\n        if (!this.options.checkedRowStatus) return;\n        const checkedRows = this.getCheckedRows();\n        const count = checkedRows.length;\n        if (count > 0) {\n            let message = this.instance.translate('{count} rows selected', {\n                count: count\n            });\n            this.bodyRenderer.showToastMessage(message);\n        } else {\n            this.bodyRenderer.clearToastMessage();\n        }\n    }\n\n    highlightRow(rowIndex, toggle = true) {\n        const $row = this.getRow$(rowIndex);\n        if (!$row) return;\n\n        if (!toggle && this.bodyScrollable.classList.contains('dt-scrollable--highlight-all')) {\n            $row.classList.add('dt-row--unhighlight');\n            return;\n        }\n\n        if (toggle && $row.classList.contains('dt-row--unhighlight')) {\n            $row.classList.remove('dt-row--unhighlight');\n        }\n\n        this._highlightedRows = this._highlightedRows || {};\n\n        if (toggle) {\n            $row.classList.add('dt-row--highlight');\n            this._highlightedRows[rowIndex] = $row;\n        } else {\n            $row.classList.remove('dt-row--highlight');\n            delete this._highlightedRows[rowIndex];\n        }\n    }\n\n    highlightAll(toggle = true) {\n        if (toggle) {\n            this.bodyScrollable.classList.add('dt-scrollable--highlight-all');\n        } else {\n            this.bodyScrollable.classList.remove('dt-scrollable--highlight-all');\n            for (const rowIndex in this._highlightedRows) {\n                const $row = this._highlightedRows[rowIndex];\n                $row.classList.remove('dt-row--highlight');\n            }\n            this._highlightedRows = {};\n        }\n    }\n\n    showRows(rowIndices) {\n        rowIndices = ensureArray(rowIndices);\n        const rows = rowIndices.map(rowIndex => this.datamanager.getRow(rowIndex));\n        this.bodyRenderer.renderRows(rows);\n    }\n\n    showAllRows() {\n        const rowIndices = this.datamanager.getAllRowIndices();\n        this.showRows(rowIndices);\n    }\n\n    getChildrenToShowForNode(rowIndex) {\n        const row = this.datamanager.getRow(rowIndex);\n        row.meta.isTreeNodeClose = false;\n\n        return this.datamanager.getImmediateChildren(rowIndex);\n    }\n\n    openSingleNode(rowIndex) {\n        const childrenToShow = this.getChildrenToShowForNode(rowIndex);\n        const visibleRowIndices = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = uniq$1([...childrenToShow, ...visibleRowIndices]).sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    getChildrenToHideForNode(rowIndex) {\n        const row = this.datamanager.getRow(rowIndex);\n        row.meta.isTreeNodeClose = true;\n\n        const rowsToHide = this.datamanager.getChildren(rowIndex);\n        rowsToHide.forEach(rowIndex => {\n            const row = this.datamanager.getRow(rowIndex);\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = true;\n            }\n        });\n\n        return rowsToHide;\n    }\n\n    closeSingleNode(rowIndex) {\n        const rowsToHide = this.getChildrenToHideForNode(rowIndex);\n        const visibleRows = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = visibleRows\n            .filter(rowIndex => !rowsToHide.includes(rowIndex))\n            .sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    expandAllNodes() {\n        let rows = this.datamanager.getRows();\n        let rootNodes = rows.filter(row => !row.meta.isLeaf);\n\n        const childrenToShow = rootNodes.map(row => this.getChildrenToShowForNode(row.meta.rowIndex)).flat();\n        const visibleRowIndices = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = uniq$1([...childrenToShow, ...visibleRowIndices]).sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    collapseAllNodes() {\n        let rows = this.datamanager.getRows();\n        let rootNodes = rows.filter(row => row.meta.indent === 0);\n\n        const rowsToHide = rootNodes.map(row => this.getChildrenToHideForNode(row.meta.rowIndex)).flat();\n        const visibleRows = this.bodyRenderer.visibleRowIndices;\n        const rowsToShow = visibleRows\n            .filter(rowIndex => !rowsToHide.includes(rowIndex))\n            .sort(numberSortAsc);\n\n        this.showRows(rowsToShow);\n    }\n\n    setTreeDepth(depth) {\n        let rows = this.datamanager.getRows();\n\n        const rowsToOpen = rows.filter(row => row.meta.indent < depth);\n        const rowsToClose = rows.filter(row => row.meta.indent >= depth);\n        const rowsToHide = rowsToClose.filter(row => row.meta.indent > depth);\n\n        rowsToClose.forEach(row => {\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = true;\n            }\n        });\n        rowsToOpen.forEach(row => {\n            if (!row.meta.isLeaf) {\n                row.meta.isTreeNodeClose = false;\n            }\n        });\n\n        const rowsToShow = rows\n            .filter(row => !rowsToHide.includes(row))\n            .map(row => row.meta.rowIndex)\n            .sort(numberSortAsc);\n        this.showRows(rowsToShow);\n    }\n\n    getRow$(rowIndex) {\n        return $(this.selector(rowIndex), this.bodyScrollable);\n    }\n\n    getTotalRows() {\n        return this.datamanager.getRowCount();\n    }\n\n    getFirstRowIndex() {\n        return 0;\n    }\n\n    getLastRowIndex() {\n        return this.datamanager.getRowCount() - 1;\n    }\n\n    scrollToRow(rowIndex) {\n        rowIndex = +rowIndex;\n        this._lastScrollTo = this._lastScrollTo || 0;\n        const $row = this.getRow$(rowIndex);\n        if ($.inViewport($row, this.bodyScrollable)) return;\n\n        const {\n            height\n        } = $row.getBoundingClientRect();\n        const {\n            top,\n            bottom\n        } = this.bodyScrollable.getBoundingClientRect();\n        const rowsInView = Math.floor((bottom - top) / height);\n\n        let offset = 0;\n        if (rowIndex > this._lastScrollTo) {\n            offset = height * ((rowIndex + 1) - rowsInView);\n        } else {\n            offset = height * ((rowIndex + 1) - 1);\n        }\n\n        this._lastScrollTo = rowIndex;\n        $.scrollTop(this.bodyScrollable, offset);\n    }\n\n    getRowHTML(row, props) {\n        const dataAttr = makeDataAttributeString(props);\n        let rowIdentifier = props.rowIndex;\n\n        if (props.isFilter) {\n            row = row.map(cell => (Object.assign({}, cell, {\n                content: this.getFilterInput({\n                    colIndex: cell.colIndex,\n                    name: cell.name\n                }),\n                isFilter: 1,\n                isHeader: undefined,\n                editable: false\n            })));\n\n            rowIdentifier = 'filter';\n        }\n\n        if (props.isHeader) {\n            rowIdentifier = 'header';\n        }\n\n        return `\n            <div class=\"dt-row dt-row-${rowIdentifier}\" ${dataAttr}>\n                ${row.map(cell => this.cellmanager.getCellHTML(cell)).join('')}\n            </div>\n        `;\n    }\n\n    getFilterInput(props) {\n        let title = `title=\"Filter based on ${props.name || 'Index'}\"`;\n        const dataAttr = makeDataAttributeString(props);\n        return `<input class=\"dt-filter dt-input\" type=\"text\" ${dataAttr} tabindex=\"1\"\n            ${props.colIndex === 0 ? 'disabled' : title} />`;\n    }\n\n    selector(rowIndex) {\n        return `.dt-row-${rowIndex}`;\n    }\n}\n\nvar hyperlist = createCommonjsModule(function (module, exports) {\n(function(f){{module.exports=f();}})(function(){return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof commonjsRequire==\"function\"&&commonjsRequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r);}return n[o].exports}var i=typeof commonjsRequire==\"function\"&&commonjsRequire;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\n// Default configuration.\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar defaultConfig = {\n  width: '100%',\n  height: '100%'\n};\n\n// Check for valid number.\nvar isNumber = function isNumber(input) {\n  return Number(input) === Number(input);\n};\n\n/**\n * Creates a HyperList instance that virtually scrolls very large amounts of\n * data effortlessly.\n */\n\nvar HyperList = function () {\n  _createClass(HyperList, null, [{\n    key: 'create',\n    value: function create(element, userProvidedConfig) {\n      return new HyperList(element, userProvidedConfig);\n    }\n\n    /**\n     * Merge given css style on an element\n     * @param {DOMElement} element\n     * @param {Object} style\n     */\n\n  }, {\n    key: 'mergeStyle',\n    value: function mergeStyle(element, style) {\n      for (var i in style) {\n        if (element.style[i] !== style[i]) {\n          element.style[i] = style[i];\n        }\n      }\n    }\n  }, {\n    key: 'getMaxBrowserHeight',\n    value: function getMaxBrowserHeight() {\n      // Create two elements, the wrapper is `1px` tall and is transparent and\n      // positioned at the top of the page. Inside that is an element that gets\n      // set to 1 billion pixels. Then reads the max height the browser can\n      // calculate.\n      var wrapper = document.createElement('div');\n      var fixture = document.createElement('div');\n\n      // As said above, these values get set to put the fixture elements into the\n      // right visual state.\n      HyperList.mergeStyle(wrapper, { position: 'absolute', height: '1px', opacity: 0 });\n      HyperList.mergeStyle(fixture, { height: '1e7px' });\n\n      // Add the fixture into the wrapper element.\n      wrapper.appendChild(fixture);\n\n      // Apply to the page, the values won't kick in unless this is attached.\n      document.body.appendChild(wrapper);\n\n      // Get the maximum element height in pixels.\n      var maxElementHeight = fixture.offsetHeight;\n\n      // Remove the element immediately after reading the value.\n      document.body.removeChild(wrapper);\n\n      return maxElementHeight;\n    }\n  }]);\n\n  function HyperList(element, userProvidedConfig) {\n    var _this = this;\n\n    _classCallCheck(this, HyperList);\n\n    this._config = {};\n    this._lastRepaint = null;\n    this._maxElementHeight = HyperList.getMaxBrowserHeight();\n\n    this.refresh(element, userProvidedConfig);\n\n    var config = this._config;\n\n    // Create internal render loop.\n    var render = function render() {\n      var scrollTop = _this._getScrollPosition();\n      var lastRepaint = _this._lastRepaint;\n\n      _this._renderAnimationFrame = window.requestAnimationFrame(render);\n\n      if (scrollTop === lastRepaint) {\n        return;\n      }\n\n      if (!lastRepaint || Math.abs(scrollTop - lastRepaint) > _this._averageHeight) {\n        var rendered = _this._renderChunk();\n\n        _this._lastRepaint = scrollTop;\n\n        if (rendered !== false && typeof config.afterRender === 'function') {\n          config.afterRender();\n        }\n      }\n    };\n\n    render();\n  }\n\n  _createClass(HyperList, [{\n    key: 'destroy',\n    value: function destroy() {\n      window.cancelAnimationFrame(this._renderAnimationFrame);\n    }\n  }, {\n    key: 'refresh',\n    value: function refresh(element, userProvidedConfig) {\n      var _this2 = this;\n\n      Object.assign(this._config, defaultConfig, userProvidedConfig);\n\n      if (!element || element.nodeType !== 1) {\n        throw new Error('HyperList requires a valid DOM Node container');\n      }\n\n      this._element = element;\n\n      var config = this._config;\n\n      var scroller = this._scroller || config.scroller || document.createElement(config.scrollerTagName || 'tr');\n\n      // Default configuration option `useFragment` to `true`.\n      if (typeof config.useFragment !== 'boolean') {\n        this._config.useFragment = true;\n      }\n\n      if (!config.generate) {\n        throw new Error('Missing required `generate` function');\n      }\n\n      if (!isNumber(config.total)) {\n        throw new Error('Invalid required `total` value, expected number');\n      }\n\n      if (!Array.isArray(config.itemHeight) && !isNumber(config.itemHeight)) {\n        throw new Error('\\n        Invalid required `itemHeight` value, expected number or array\\n      '.trim());\n      } else if (isNumber(config.itemHeight)) {\n        this._itemHeights = Array(config.total).fill(config.itemHeight);\n      } else {\n        this._itemHeights = config.itemHeight;\n      }\n\n      // Width and height should be coerced to string representations. Either in\n      // `%` or `px`.\n      Object.keys(defaultConfig).filter(function (prop) {\n        return prop in config;\n      }).forEach(function (prop) {\n        var value = config[prop];\n        var isValueNumber = isNumber(value);\n        var isValuePercent = isValueNumber ? false : value.slice(-1) === '%';\n\n        if (value && typeof value !== 'string' && typeof value !== 'number') {\n          var msg = 'Invalid optional `' + prop + '`, expected string or number';\n          throw new Error(msg);\n        } else if (isValueNumber) {\n          config[prop] = value + 'px';\n        }\n\n        if (prop !== 'height') {\n          return;\n        }\n\n        // Compute the containerHeight as number\n        var numberValue = isValueNumber ? value : parseInt(value.replace(/px|%/, ''), 10);\n\n        if (isValuePercent) {\n          _this2._containerHeight = window.innerHeight * numberValue / 100;\n        } else {\n          _this2._containerHeight = isNumber(value) ? value : numberValue;\n        }\n      });\n\n      // Decorate the container element with styles that will match\n      // the user supplied configuration.\n      var elementStyle = {\n        width: '' + config.width,\n        height: '' + config.height,\n        overflow: 'auto',\n        position: 'relative'\n      };\n\n      HyperList.mergeStyle(element, elementStyle);\n\n      var scrollerHeight = config.itemHeight * config.total;\n      var maxElementHeight = this._maxElementHeight;\n\n      if (scrollerHeight > maxElementHeight) {\n        console.warn(['HyperList: The maximum element height', maxElementHeight + 'px has', 'been exceeded; please reduce your item height.'].join(' '));\n      }\n\n      var scrollerStyle = {\n        opacity: '0',\n        position: 'absolute',\n        width: '1px',\n        height: scrollerHeight + 'px'\n      };\n\n      HyperList.mergeStyle(scroller, scrollerStyle);\n\n      // Only append the scroller element once.\n      if (!this._scroller) {\n        element.appendChild(scroller);\n      }\n\n      // Set the scroller instance.\n      this._scroller = scroller;\n      this._scrollHeight = this._computeScrollHeight();\n\n      // Reuse the item positions if refreshed, otherwise set to empty array.\n      this._itemPositions = this._itemPositions || Array(config.total).fill(0);\n\n      // Each index in the array should represent the position in the DOM.\n      this._computePositions(0);\n\n      // Render after refreshing. Force render if we're calling refresh manually.\n      this._renderChunk(this._lastRepaint !== null);\n\n      if (typeof config.afterRender === 'function') {\n        config.afterRender();\n      }\n    }\n  }, {\n    key: '_getRow',\n    value: function _getRow(i) {\n      var config = this._config;\n      var item = config.generate(i);\n      var height = item.height;\n\n      if (height !== undefined && isNumber(height)) {\n        item = item.element;\n\n        // The height isn't the same as predicted, compute positions again\n        if (height !== this._itemHeights) {\n          this._itemHeights[i] = height;\n          this._computePositions(i);\n          this._scrollHeight = this._computeScrollHeight(i);\n        }\n      } else {\n        height = this._itemHeights[i];\n      }\n\n      if (!item || item.nodeType !== 1) {\n        throw new Error('Generator did not return a DOM Node for index: ' + i);\n      }\n\n      var oldClass = item.getAttribute('class') || '';\n      item.setAttribute('class', oldClass + ' ' + (config.rowClassName || 'vrow'));\n\n      var top = this._itemPositions[i];\n\n      HyperList.mergeStyle(item, {\n        position: 'absolute',\n        top: top + 'px'\n      });\n\n      return item;\n    }\n  }, {\n    key: '_getScrollPosition',\n    value: function _getScrollPosition() {\n      var config = this._config;\n\n      if (typeof config.overrideScrollPosition === 'function') {\n        return config.overrideScrollPosition();\n      }\n\n      return this._element.scrollTop;\n    }\n  }, {\n    key: '_renderChunk',\n    value: function _renderChunk(force) {\n      var config = this._config;\n      var element = this._element;\n      var scrollTop = this._getScrollPosition();\n      var total = config.total;\n\n      var from = config.reverse ? this._getReverseFrom(scrollTop) : this._getFrom(scrollTop) - 1;\n\n      if (from < 0 || from - this._screenItemsLen < 0) {\n        from = 0;\n      }\n\n      if (!force && this._lastFrom === from) {\n        return false;\n      }\n\n      this._lastFrom = from;\n\n      var to = from + this._cachedItemsLen;\n\n      if (to > total || to + this._cachedItemsLen > total) {\n        to = total;\n      }\n\n      // Append all the new rows in a document fragment that we will later append\n      // to the parent node\n      var fragment = config.useFragment ? document.createDocumentFragment() : []\n      // Sometimes you'll pass fake elements to this tool and Fragments require\n      // real elements.\n\n\n      // The element that forces the container to scroll.\n      ;var scroller = this._scroller;\n\n      // Keep the scroller in the list of children.\n      fragment[config.useFragment ? 'appendChild' : 'push'](scroller);\n\n      for (var i = from; i < to; i++) {\n        var row = this._getRow(i);\n\n        fragment[config.useFragment ? 'appendChild' : 'push'](row);\n      }\n\n      if (config.applyPatch) {\n        return config.applyPatch(element, fragment);\n      }\n\n      element.innerHTML = '';\n      element.appendChild(fragment);\n    }\n  }, {\n    key: '_computePositions',\n    value: function _computePositions() {\n      var from = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n\n      var config = this._config;\n      var total = config.total;\n      var reverse = config.reverse;\n\n      if (from < 1 && !reverse) {\n        from = 1;\n      }\n\n      for (var i = from; i < total; i++) {\n        if (reverse) {\n          if (i === 0) {\n            this._itemPositions[0] = this._scrollHeight - this._itemHeights[0];\n          } else {\n            this._itemPositions[i] = this._itemPositions[i - 1] - this._itemHeights[i];\n          }\n        } else {\n          this._itemPositions[i] = this._itemHeights[i - 1] + this._itemPositions[i - 1];\n        }\n      }\n    }\n  }, {\n    key: '_computeScrollHeight',\n    value: function _computeScrollHeight() {\n      var _this3 = this;\n\n      var config = this._config;\n      var total = config.total;\n      var scrollHeight = this._itemHeights.reduce(function (a, b) {\n        return a + b;\n      }, 0);\n\n      HyperList.mergeStyle(this._scroller, {\n        opacity: 0,\n        position: 'absolute',\n        width: '1px',\n        height: scrollHeight + 'px'\n      });\n\n      // Calculate the height median\n      var sortedItemHeights = this._itemHeights.slice(0).sort(function (a, b) {\n        return a - b;\n      });\n      var middle = Math.floor(total / 2);\n      var averageHeight = total % 2 === 0 ? (sortedItemHeights[middle] + sortedItemHeights[middle - 1]) / 2 : sortedItemHeights[middle];\n\n      var containerHeight = this._element.clientHeight ? this._element.clientHeight : this._containerHeight;\n      this._screenItemsLen = Math.ceil(containerHeight / averageHeight);\n      this._containerHeight = containerHeight;\n\n      // Cache 3 times the number of items that fit in the container viewport.\n      this._cachedItemsLen = Math.max(this._cachedItemsLen || 0, this._screenItemsLen * 3);\n      this._averageHeight = averageHeight;\n\n      if (config.reverse) {\n        window.requestAnimationFrame(function () {\n          _this3._element.scrollTop = scrollHeight;\n        });\n      }\n\n      return scrollHeight;\n    }\n  }, {\n    key: '_getFrom',\n    value: function _getFrom(scrollTop) {\n      var i = 0;\n\n      while (this._itemPositions[i] < scrollTop) {\n        i++;\n      }\n\n      return i;\n    }\n  }, {\n    key: '_getReverseFrom',\n    value: function _getReverseFrom(scrollTop) {\n      var i = this._config.total - 1;\n\n      while (i > 0 && this._itemPositions[i] < scrollTop + this._containerHeight) {\n        i--;\n      }\n\n      return i;\n    }\n  }]);\n\n  return HyperList;\n}();\n\nexports.default = HyperList;\nmodule.exports = exports['default'];\n\n},{}]},{},[1])(1)\n});\n});\n\nvar HyperList = unwrapExports(hyperlist);\n\nclass BodyRenderer {\n    constructor(instance) {\n        this.instance = instance;\n        this.options = instance.options;\n        this.datamanager = instance.datamanager;\n        this.rowmanager = instance.rowmanager;\n        this.cellmanager = instance.cellmanager;\n        this.bodyScrollable = instance.bodyScrollable;\n        this.footer = this.instance.footer;\n        this.log = instance.log;\n    }\n\n    renderRows(rows) {\n        this.visibleRows = rows;\n        this.visibleRowIndices = rows.map(row => row.meta.rowIndex);\n\n        if (rows.length === 0) {\n            this.bodyScrollable.innerHTML = this.getNoDataHTML();\n            return;\n        }\n\n        const rowViewOrder = this.datamanager.rowViewOrder.map(index => {\n            if (this.visibleRowIndices.includes(index)) {\n                return index;\n            }\n            return null;\n        }).filter(index => index !== null);\n\n        const computedStyle = getComputedStyle(this.bodyScrollable);\n\n        let config = {\n            width: computedStyle.width,\n            height: computedStyle.height,\n            itemHeight: this.options.cellHeight,\n            total: rows.length,\n            generate: (index) => {\n                const el = document.createElement('div');\n                const rowIndex = rowViewOrder[index];\n                const row = this.datamanager.getRow(rowIndex);\n                const rowHTML = this.rowmanager.getRowHTML(row, row.meta);\n                el.innerHTML = rowHTML;\n                return el.children[0];\n            },\n            afterRender: () => {\n                this.restoreState();\n            }\n        };\n\n        if (!this.hyperlist) {\n            this.hyperlist = new HyperList(this.bodyScrollable, config);\n        } else {\n            this.hyperlist.refresh(this.bodyScrollable, config);\n        }\n\n        this.renderFooter();\n    }\n\n    render() {\n        const rows = this.datamanager.getRowsForView();\n        this.renderRows(rows);\n        // setDimensions requires atleast 1 row to exist in dom\n        this.instance.setDimensions();\n    }\n\n    renderFooter() {\n        if (!this.options.showTotalRow) return;\n\n        const totalRow = this.getTotalRow();\n        let html = this.rowmanager.getRowHTML(totalRow, { isTotalRow: 1, rowIndex: 'totalRow' });\n\n        this.footer.innerHTML = html;\n    }\n\n    getTotalRow() {\n        const columns = this.datamanager.getColumns();\n        const totalRowTemplate = columns.map(col => {\n            let content = null;\n            if (['_rowIndex', '_checkbox'].includes(col.id)) {\n                content = '';\n            }\n            return {\n                content,\n                isTotalRow: 1,\n                colIndex: col.colIndex,\n                column: col\n            };\n        });\n\n        const totalRow = totalRowTemplate.map((cell, i) => {\n            if (cell.content === '') return cell;\n\n            if (this.options.hooks.columnTotal) {\n                const columnValues = this.visibleRows.map(row => row[i].content);\n                const result = this.options.hooks.columnTotal.call(this.instance, columnValues, cell);\n                if (result != null) {\n                    cell.content = result;\n                    return cell;\n                }\n            }\n\n            cell.content = this.visibleRows.reduce((acc, prevRow) => {\n                const prevCell = prevRow[i];\n                if (typeof prevCell.content === 'number') {\n                    if (acc == null) acc = 0;\n                    return acc + prevCell.content;\n                }\n                return acc;\n            }, cell.content);\n\n            return cell;\n        });\n\n        return totalRow;\n    }\n\n    restoreState() {\n        this.rowmanager.highlightCheckedRows();\n        this.cellmanager.selectAreaOnClusterChanged();\n        this.cellmanager.focusCellOnClusterChanged();\n    }\n\n    showToastMessage(message, hideAfter) {\n        this.instance.toastMessage.innerHTML = this.getToastMessageHTML(message);\n\n        if (hideAfter) {\n            setTimeout(() => {\n                this.clearToastMessage();\n            }, hideAfter * 1000);\n        }\n    }\n\n    clearToastMessage() {\n        this.instance.toastMessage.innerHTML = '';\n    }\n\n    getNoDataHTML() {\n        return `<div class=\"dt-scrollable__no-data\">${this.options.noDataMessage}</div>`;\n    }\n\n    getToastMessageHTML(message) {\n        return `<span class=\"dt-toast__message\">${message}</span>`;\n    }\n}\n\nclass Style {\n    constructor(instance) {\n        this.instance = instance;\n\n        linkProperties(this, this.instance, [\n            'options', 'datamanager', 'columnmanager',\n            'header', 'footer', 'bodyScrollable', 'datatableWrapper',\n            'getColumn', 'bodyRenderer'\n        ]);\n\n        this.scopeClass = 'dt-instance-' + instance.constructor.instances;\n        instance.datatableWrapper.classList.add(this.scopeClass);\n\n        const styleEl = document.createElement('style');\n        instance.wrapper.insertBefore(styleEl, instance.datatableWrapper);\n        this.styleEl = styleEl;\n\n        this.bindResizeWindow();\n        this.bindScrollHeader();\n    }\n\n    get stylesheet() {\n        return this.styleEl.sheet;\n    }\n\n    bindResizeWindow() {\n        this.onWindowResize = this.onWindowResize.bind(this);\n        this.onWindowResize = throttle$1(this.onWindowResize, 300);\n\n        if (this.options.layout === 'fluid') {\n            $.on(window, 'resize', this.onWindowResize);\n        }\n    }\n\n    bindScrollHeader() {\n        this._settingHeaderPosition = false;\n\n        $.on(this.bodyScrollable, 'scroll', (e) => {\n            if (this._settingHeaderPosition) return;\n\n            this._settingHeaderPosition = true;\n\n            requestAnimationFrame(() => {\n                const left = -e.target.scrollLeft;\n\n                $.style(this.header, {\n                    transform: `translateX(${left}px)`\n                });\n                $.style(this.footer, {\n                    transform: `translateX(${left}px)`\n                });\n                this._settingHeaderPosition = false;\n            });\n        });\n    }\n\n    onWindowResize() {\n        this.distributeRemainingWidth();\n        this.refreshColumnWidth();\n        this.setBodyStyle();\n    }\n\n    destroy() {\n        this.styleEl.remove();\n        $.off(window, 'resize', this.onWindowResize);\n    }\n\n    setStyle(selector, styleObject) {\n        if (selector.includes(',')) {\n            selector.split(',')\n                .map(s => s.trim())\n                .forEach(selector => {\n                    this.setStyle(selector, styleObject);\n                });\n            return;\n        }\n\n        selector = selector.trim();\n        if (!selector) return;\n\n        this._styleRulesMap = this._styleRulesMap || {};\n        const prefixedSelector = this._getPrefixedSelector(selector);\n\n        if (this._styleRulesMap[prefixedSelector]) {\n            this.removeStyle(selector);\n\n            // merge with old styleobject\n            styleObject = Object.assign({}, this._styleRulesMap[prefixedSelector], styleObject);\n        }\n\n        const styleString = this._getRuleString(styleObject);\n        const ruleString = `${prefixedSelector} { ${styleString} }`;\n\n        this._styleRulesMap[prefixedSelector] = styleObject;\n        this.stylesheet.insertRule(ruleString);\n    }\n\n    removeStyle(selector) {\n        if (selector.includes(',')) {\n            selector.split(',')\n                .map(s => s.trim())\n                .forEach(selector => {\n                    this.removeStyle(selector);\n                });\n            return;\n        }\n\n        selector = selector.trim();\n        if (!selector) return;\n\n        // find and remove\n        const prefixedSelector = this._getPrefixedSelector(selector);\n        const index = Array.from(this.stylesheet.cssRules)\n            .findIndex(rule => rule.selectorText === prefixedSelector);\n\n        if (index === -1) return;\n        this.stylesheet.deleteRule(index);\n    }\n\n    _getPrefixedSelector(selector) {\n        return `.${this.scopeClass} ${selector}`;\n    }\n\n    _getRuleString(styleObject) {\n        return Object.keys(styleObject)\n            .map(prop => {\n                let dashed = prop;\n                if (!prop.includes('-')) {\n                    dashed = camelCaseToDash(prop);\n                }\n                return `${dashed}:${styleObject[prop]};`;\n            })\n            .join('');\n    }\n\n    setDimensions() {\n        this.setCellHeight();\n        this.setupMinWidth();\n        this.setupNaturalColumnWidth();\n        this.setupColumnWidth();\n        this.distributeRemainingWidth();\n        this.setColumnStyle();\n        this.setBodyStyle();\n    }\n\n    setCellHeight() {\n        this.setStyle('.dt-cell', {\n            height: this.options.cellHeight + 'px'\n        });\n    }\n\n    setupMinWidth() {\n        $.each('.dt-cell--header', this.header).map(col => {\n            const { colIndex } = $.data(col);\n            const column = this.getColumn(colIndex);\n\n            if (!column.minWidth) {\n                const width = $.style($('.dt-cell__content', col), 'width');\n                // only set this once\n                column.minWidth = width;\n            }\n        });\n    }\n\n    setupNaturalColumnWidth() {\n        if (!$('.dt-row')) return;\n\n        $.each('.dt-row-header .dt-cell', this.header).map($headerCell => {\n            const { colIndex } = $.data($headerCell);\n            const column = this.datamanager.getColumn(colIndex);\n            let width = $.style($('.dt-cell__content', $headerCell), 'width');\n            if (typeof width === 'number' && width >= this.options.minimumColumnWidth) {\n                column.naturalWidth = width;\n            } else {\n                column.naturalWidth = this.options.minimumColumnWidth;\n            }\n        });\n\n        // set initial width as naturally calculated by table's first row\n        $.each('.dt-row-0 .dt-cell', this.bodyScrollable).map($cell => {\n            const {\n                colIndex\n            } = $.data($cell);\n            const column = this.datamanager.getColumn(colIndex);\n\n            let naturalWidth = $.style($('.dt-cell__content', $cell), 'width');\n\n            if (typeof naturalWidth === 'number' && naturalWidth >= column.naturalWidth) {\n                column.naturalWidth = naturalWidth;\n            } else {\n                column.naturalWidth = column.naturalWidth;\n            }\n        });\n    }\n\n    setupColumnWidth() {\n        if (this.options.layout === 'ratio') {\n            let totalWidth = $.style(this.datatableWrapper, 'width');\n\n            if (this.options.serialNoColumn) {\n                const rowIndexColumn = this.datamanager.getColumnById('_rowIndex');\n                totalWidth = totalWidth - rowIndexColumn.width - 1;\n            }\n\n            if (this.options.checkboxColumn) {\n                const rowIndexColumn = this.datamanager.getColumnById('_checkbox');\n                totalWidth = totalWidth - rowIndexColumn.width - 1;\n            }\n\n            const totalParts = this.datamanager.getColumns()\n                .map(column => {\n                    if (column.id === '_rowIndex' || column.id === '_checkbox') {\n                        return 0;\n                    }\n                    if (!column.width) {\n                        column.width = 1;\n                    }\n                    column.ratioWidth = parseInt(column.width, 10);\n                    return column.ratioWidth;\n                })\n                .reduce((a, c) => a + c);\n\n            const onePart = totalWidth / totalParts;\n\n            this.datamanager.getColumns()\n                .map(column => {\n                    if (column.id === '_rowIndex' || column.id === '_checkbox') return;\n                    column.width = Math.floor(onePart * column.ratioWidth) - 1;\n                });\n        } else {\n            this.datamanager.getColumns()\n                .map(column => {\n                    if (!column.width) {\n                        column.width = column.naturalWidth;\n                    }\n                    if (column.id === '_rowIndex') {\n                        column.width = this.getRowIndexColumnWidth();\n                    }\n                    if (column.width < this.options.minimumColumnWidth) {\n                        column.width = this.options.minimumColumnWidth;\n                    }\n                });\n        }\n    }\n\n    distributeRemainingWidth() {\n        if (this.options.layout !== 'fluid') return;\n\n        const wrapperWidth = $.style(this.instance.datatableWrapper, 'width');\n        let firstRow = $('.dt-row', this.bodyScrollable);\n        let firstRowWidth = wrapperWidth;\n        if (!firstRow) {\n            let headerRow = $('.dt-row', this.instance.header);\n            let cellWidths = Array.from(headerRow.children)\n                .map(cell => cell.offsetWidth);\n            firstRowWidth = cellWidths.reduce((sum, a) => sum + a, 0);\n        } else {\n            firstRowWidth = $.style(firstRow, 'width');\n        }\n        const resizableColumns = this.datamanager.getColumns().filter(col => col.resizable);\n        const deltaWidth = (wrapperWidth - firstRowWidth) / resizableColumns.length;\n\n        resizableColumns.map(col => {\n            const width = $.style(this.getColumnHeaderElement(col.colIndex), 'width');\n            let finalWidth = Math.floor(width + deltaWidth) - 2;\n\n            this.datamanager.updateColumn(col.colIndex, {\n                width: finalWidth\n            });\n        });\n    }\n\n    setColumnStyle() {\n        // align columns\n        this.datamanager.getColumns()\n            .map(column => {\n                // alignment\n                if (!column.align) {\n                    column.align = 'left';\n                }\n                if (!['left', 'center', 'right'].includes(column.align)) {\n                    column.align = 'left';\n                }\n                this.setStyle(`.dt-cell--col-${column.colIndex}`, {\n                    'text-align': column.align\n                });\n\n                // width\n                this.columnmanager.setColumnHeaderWidth(column.colIndex);\n                this.columnmanager.setColumnWidth(column.colIndex);\n            });\n    }\n\n    refreshColumnWidth() {\n        this.datamanager.getColumns()\n            .map(column => {\n                this.columnmanager.setColumnHeaderWidth(column.colIndex);\n                this.columnmanager.setColumnWidth(column.colIndex);\n            });\n    }\n\n    setBodyStyle() {\n        const bodyWidth = $.style(this.datatableWrapper, 'width');\n        const firstRow = $('.dt-row', this.bodyScrollable);\n        if (!firstRow) return;\n        const rowWidth = $.style(firstRow, 'width');\n\n        let width = bodyWidth > rowWidth ? rowWidth : bodyWidth;\n        $.style(this.bodyScrollable, {\n            width: width + 'px'\n        });\n\n        // remove the body height, so that it resets to it's original\n        $.removeStyle(this.bodyScrollable, 'height');\n\n        // when there are less rows than the container\n        // adapt the container height\n        let bodyHeight = $.getStyle(this.bodyScrollable, 'height');\n        const scrollHeight = (this.bodyRenderer.hyperlist || {})._scrollHeight || Infinity;\n        const hasHorizontalOverflow = $.hasHorizontalOverflow(this.bodyScrollable);\n\n        let height;\n\n        if (scrollHeight < bodyHeight) {\n            height = scrollHeight;\n\n            // account for scrollbar size when\n            // there is horizontal overflow\n            if (hasHorizontalOverflow) {\n                height += $.scrollbarSize();\n            }\n\n            $.style(this.bodyScrollable, {\n                height: height + 'px'\n            });\n        }\n\n        const verticalOverflow = this.bodyScrollable.scrollHeight - this.bodyScrollable.offsetHeight;\n        if (verticalOverflow < $.scrollbarSize()) {\n            // if verticalOverflow is less than scrollbar size\n            // then most likely scrollbar is causing the scroll\n            // which is not needed\n            $.style(this.bodyScrollable, {\n                overflowY: 'hidden'\n            });\n        }\n\n        if (this.options.layout === 'fluid') {\n            $.style(this.bodyScrollable, {\n                overflowX: 'hidden'\n            });\n        }\n    }\n\n    getColumnHeaderElement(colIndex) {\n        colIndex = +colIndex;\n        if (colIndex < 0) return null;\n        return $(`.dt-cell--col-${colIndex}`, this.header);\n    }\n\n    getRowIndexColumnWidth() {\n        const rowCount = this.datamanager.getRowCount();\n        const padding = 22;\n        return $.measureTextWidth(rowCount + '') + padding;\n    }\n}\n\nconst KEYCODES = {\n    13: 'enter',\n    91: 'meta',\n    16: 'shift',\n    17: 'ctrl',\n    18: 'alt',\n    37: 'left',\n    38: 'up',\n    39: 'right',\n    40: 'down',\n    9: 'tab',\n    27: 'esc',\n    67: 'c',\n    70: 'f',\n    86: 'v'\n};\n\nclass Keyboard {\n    constructor(element) {\n        this.listeners = {};\n        $.on(element, 'keydown', this.handler.bind(this));\n    }\n\n    handler(e) {\n        let key = KEYCODES[e.keyCode];\n\n        if (e.shiftKey && key !== 'shift') {\n            key = 'shift+' + key;\n        }\n\n        if ((e.ctrlKey && key !== 'ctrl') || (e.metaKey && key !== 'meta')) {\n            key = 'ctrl+' + key;\n        }\n\n        const listeners = this.listeners[key];\n\n        if (listeners && listeners.length > 0) {\n            for (let listener of listeners) {\n                const preventBubbling = listener(e);\n                if (preventBubbling === undefined || preventBubbling === true) {\n                    e.preventDefault();\n                }\n            }\n        }\n    }\n\n    on(key, listener) {\n        const keys = key.split(',').map(k => k.trim());\n\n        keys.map(key => {\n            this.listeners[key] = this.listeners[key] || [];\n            this.listeners[key].push(listener);\n        });\n    }\n}\n\nvar en = {\n\t\"Sort Ascending\": \"Sort Ascending\",\n\t\"Sort Descending\": \"Sort Descending\",\n\t\"Reset sorting\": \"Reset sorting\",\n\t\"Remove column\": \"Remove column\",\n\t\"No Data\": \"No Data\",\n\t\"{count} cells copied\": {\"1\":\"{count} cell copied\",\"default\":\"{count} cells copied\"},\n\t\"{count} rows selected\": {\"1\":\"{count} row selected\",\"default\":\"{count} rows selected\"}\n};\n\nvar de = {\n\t\"Sort Ascending\": \"Aufsteigend sortieren\",\n\t\"Sort Descending\": \"Absteigend sortieren\",\n\t\"Reset sorting\": \"Sortierung zur\u00FCcksetzen\",\n\t\"Remove column\": \"Spalte entfernen\",\n\t\"No Data\": \"Keine Daten\",\n\t\"{count} cells copied\": {\"1\":\"{count} Zelle kopiert\",\"default\":\"{count} Zellen kopiert\"},\n\t\"{count} rows selected\": {\"1\":\"{count} Zeile ausgew\u00E4hlt\",\"default\":\"{count} Zeilen ausgew\u00E4hlt\"}\n};\n\nvar fr = {\n\t\"Sort Ascending\": \"Trier par ordre croissant\",\n\t\"Sort Descending\": \"Trier par ordre d\u00E9croissant\",\n\t\"Reset sorting\": \"R\u00E9initialiser le tri\",\n\t\"Remove column\": \"Supprimer colonne\",\n\t\"No Data\": \"Pas de donn\u00E9es\",\n\t\"{count} cells copied\": {\"1\":\"{count} cellule copi\u00E9e\",\"default\":\"{count} cellules copi\u00E9es\"},\n\t\"{count} rows selected\": {\"1\":\"{count} ligne s\u00E9lectionn\u00E9e\",\"default\":\"{count} lignes s\u00E9lectionn\u00E9es\"}\n};\n\nvar it = {\n\t\"Sort Ascending\": \"Ordinamento ascendente\",\n\t\"Sort Descending\": \"Ordinamento decrescente\",\n\t\"Reset sorting\": \"Azzeramento ordinamento\",\n\t\"Remove column\": \"Rimuovi colonna\",\n\t\"No Data\": \"Nessun dato\",\n\t\"{count} cells copied\": {\"1\":\"Copiato {count} cella\",\"default\":\"{count} celle copiate\"},\n\t\"{count} rows selected\": {\"1\":\"{count} linea selezionata\",\"default\":\"{count} linee selezionate\"}\n};\n\nfunction getTranslations() {\n    return {\n        en,\n        de,\n        fr,\n        it,\n    };\n}\n\nclass TranslationManager {\n    constructor(language) {\n        this.language = language;\n        this.translations = getTranslations();\n    }\n\n    addTranslations(translations) {\n        this.translations = Object.assign(this.translations, translations);\n    }\n\n    translate(sourceText, args) {\n        let translation = (this.translations[this.language] &&\n            this.translations[this.language][sourceText]) || sourceText;\n\n        if (typeof translation === 'object') {\n            translation = args && args.count ?\n                this.getPluralizedTranslation(translation, args.count) :\n                sourceText;\n        }\n\n        return format(translation, args || {});\n    }\n\n    getPluralizedTranslation(translations, count) {\n        return translations[count] || translations['default'];\n    }\n}\n\nfunction filterRows(rows, filters) {\n    let filteredRowIndices = [];\n\n    if (Object.keys(filters).length === 0) {\n        return rows.map(row => row.meta.rowIndex);\n    }\n\n    for (let colIndex in filters) {\n        const keyword = filters[colIndex];\n\n        const filteredRows = filteredRowIndices.length ?\n            filteredRowIndices.map(i => rows[i]) :\n            rows;\n\n        const cells = filteredRows.map(row => row[colIndex]);\n\n        let filter = guessFilter(keyword);\n        let filterMethod = getFilterMethod(rows, filter);\n\n        if (filterMethod) {\n            filteredRowIndices = filterMethod(filter.text, cells);\n        } else {\n            filteredRowIndices = cells.map(cell => cell.rowIndex);\n        }\n    }\n\n    return filteredRowIndices;\n}\nfunction getFilterMethod(rows, filter) {\n    const getFormattedValue = cell => {\n        let formatter = CellManager.getCustomCellFormatter(cell);\n        if (formatter && cell.content) {\n            cell.html = formatter(cell.content, rows[cell.rowIndex], cell.column, rows[cell.rowIndex], filter);\n            return stripHTML(cell.html);\n        }\n        return cell.content || '';\n    };\n\n    const stringCompareValue = cell =>\n        String(stripHTML(cell.html || '') || getFormattedValue(cell)).toLowerCase();\n\n    const numberCompareValue = cell => parseFloat(cell.content);\n\n    const getCompareValues = (cell, keyword) => {\n        if (cell.column.compareValue) {\n            const compareValues = cell.column.compareValue(cell, keyword);\n            if (compareValues && Array.isArray(compareValues)) return compareValues;\n        }\n\n        // check if it can be converted to number\n        const float = numberCompareValue(cell);\n        if (!isNaN(float)) {\n            return [float, keyword];\n        }\n\n        return [stringCompareValue(cell), keyword];\n    };\n\n    let filterMethodMap = {\n        contains(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const hay = stringCompareValue(cell);\n                    const needle = (keyword || '').toLowerCase();\n                    return !needle || hay.includes(needle);\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        greaterThan(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const [compareValue, keywordValue] = getCompareValues(cell, keyword);\n                    return compareValue > keywordValue;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        lessThan(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const [compareValue, keywordValue] = getCompareValues(cell, keyword);\n                    return compareValue < keywordValue;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        equals(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const value = parseFloat(cell.content);\n                    return value === keyword;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        notEquals(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    const value = parseFloat(cell.content);\n                    return value !== keyword;\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        range(rangeValues, cells) {\n            return cells\n                .filter(cell => {\n                    const values1 = getCompareValues(cell, rangeValues[0]);\n                    const values2 = getCompareValues(cell, rangeValues[1]);\n                    const value = values1[0];\n                    return value >= values1[1] && value <= values2[1];\n                })\n                .map(cell => cell.rowIndex);\n        },\n\n        containsNumber(keyword, cells) {\n            return cells\n                .filter(cell => {\n                    let number = parseFloat(keyword, 10);\n                    let string = keyword;\n                    let hayNumber = numberCompareValue(cell);\n                    let hayString = stringCompareValue(cell);\n\n                    return number === hayNumber || hayString.includes(string);\n                })\n                .map(cell => cell.rowIndex);\n        }\n    };\n\n    return filterMethodMap[filter.type];\n}\n\nfunction guessFilter(keyword = '') {\n    if (keyword.length === 0) return {};\n\n    let compareString = keyword;\n\n    if (['>', '<', '='].includes(compareString[0])) {\n        compareString = keyword.slice(1);\n    } else if (compareString.startsWith('!=')) {\n        compareString = keyword.slice(2);\n    }\n\n    if (keyword.startsWith('>')) {\n        if (compareString) {\n            return {\n                type: 'greaterThan',\n                text: compareString.trim()\n            };\n        }\n    }\n\n    if (keyword.startsWith('<')) {\n        if (compareString) {\n            return {\n                type: 'lessThan',\n                text: compareString.trim()\n            };\n        }\n    }\n\n    if (keyword.startsWith('=')) {\n        if (isNumber(compareString)) {\n            return {\n                type: 'equals',\n                text: Number(keyword.slice(1).trim())\n            };\n        }\n    }\n\n    if (isNumber(compareString)) {\n        return {\n            type: 'containsNumber',\n            text: compareString\n        };\n    }\n\n    if (keyword.startsWith('!=')) {\n        if (isNumber(compareString)) {\n            return {\n                type: 'notEquals',\n                text: Number(keyword.slice(2).trim())\n            };\n        }\n    }\n\n    if (keyword.split(':').length === 2 && keyword.split(':').every(v => isNumber(v.trim()))) {\n        compareString = keyword.split(':');\n        return {\n            type: 'range',\n            text: compareString.map(v => v.trim())\n        };\n    }\n\n    return {\n        type: 'contains',\n        text: compareString.toLowerCase()\n    };\n}\n\nfunction getDefaultOptions(instance) {\n    return {\n        columns: [],\n        data: [],\n        dropdownButton: icons.chevronDown,\n        headerDropdown: [\n            {\n                label: instance.translate('Sort Ascending'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'asc');\n                }\n            },\n            {\n                label: instance.translate('Sort Descending'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'desc');\n                }\n            },\n            {\n                label: instance.translate('Reset sorting'),\n                action: function (column) {\n                    this.sortColumn(column.colIndex, 'none');\n                }\n            },\n            {\n                label: instance.translate('Remove column'),\n                action: function (column) {\n                    this.removeColumn(column.colIndex);\n                }\n            }\n        ],\n        events: {\n            onRemoveColumn(column) {},\n            onSwitchColumn(column1, column2) {},\n            onSortColumn(column) {},\n            onCheckRow(row) {},\n            onDestroy() {}\n        },\n        hooks: {\n            columnTotal: null\n        },\n        sortIndicator: {\n            asc: '\u2191',\n            desc: '\u2193',\n            none: ''\n        },\n        overrideComponents: {\n            // ColumnManager: CustomColumnManager\n        },\n        filterRows: filterRows,\n        freezeMessage: '',\n        getEditor: null,\n        serialNoColumn: true,\n        checkboxColumn: false,\n        clusterize: true,\n        logs: false,\n        layout: 'fixed', // fixed, fluid, ratio\n        noDataMessage: instance.translate('No Data'),\n        cellHeight: 40,\n        minimumColumnWidth: 30,\n        inlineFilters: false,\n        treeView: false,\n        checkedRowStatus: true,\n        dynamicRowHeight: false,\n        pasteFromClipboard: false,\n        showTotalRow: false,\n        direction: 'ltr',\n        disableReorderColumn: false\n    };\n}\n\nlet defaultComponents = {\n    DataManager,\n    CellManager,\n    ColumnManager,\n    RowManager,\n    BodyRenderer,\n    Style,\n    Keyboard\n};\n\nclass DataTable {\n    constructor(wrapper, options) {\n        DataTable.instances++;\n\n        if (typeof wrapper === 'string') {\n            // css selector\n            wrapper = document.querySelector(wrapper);\n        }\n        this.wrapper = wrapper;\n        if (!(this.wrapper instanceof HTMLElement)) {\n            throw new Error('Invalid argument given for `wrapper`');\n        }\n\n        this.initializeTranslations(options);\n        this.setDefaultOptions();\n        this.buildOptions(options);\n        this.prepare();\n        this.initializeComponents();\n\n        if (this.options.data) {\n            this.refresh();\n            this.columnmanager.applyDefaultSortOrder();\n        }\n    }\n\n    initializeTranslations(options) {\n        this.language = options.language || 'en';\n        this.translationManager = new TranslationManager(this.language);\n\n        if (options.translations) {\n            this.translationManager.addTranslations(options.translations);\n        }\n    }\n\n    setDefaultOptions() {\n        this.DEFAULT_OPTIONS = getDefaultOptions(this);\n    }\n\n    buildOptions(options) {\n        this.options = this.options || {};\n\n        this.options = Object.assign(\n            {}, this.DEFAULT_OPTIONS,\n            this.options || {}, options\n        );\n\n        options.headerDropdown = options.headerDropdown || [];\n        this.options.headerDropdown = [\n            ...this.DEFAULT_OPTIONS.headerDropdown,\n            ...options.headerDropdown\n        ];\n\n        // custom user events\n        this.events = Object.assign(\n            {}, this.DEFAULT_OPTIONS.events,\n            this.options.events || {},\n            options.events || {}\n        );\n        this.fireEvent = this.fireEvent.bind(this);\n    }\n\n    prepare() {\n        this.prepareDom();\n        this.unfreeze();\n    }\n\n    initializeComponents() {\n        let components = Object.assign({}, defaultComponents, this.options.overrideComponents);\n        let {\n            Style: Style$$1,\n            Keyboard: Keyboard$$1,\n            DataManager: DataManager$$1,\n            RowManager: RowManager$$1,\n            ColumnManager: ColumnManager$$1,\n            CellManager: CellManager$$1,\n            BodyRenderer: BodyRenderer$$1\n        } = components;\n\n        this.style = new Style$$1(this);\n        this.keyboard = new Keyboard$$1(this.wrapper);\n        this.datamanager = new DataManager$$1(this.options);\n        this.rowmanager = new RowManager$$1(this);\n        this.columnmanager = new ColumnManager$$1(this);\n        this.cellmanager = new CellManager$$1(this);\n        this.bodyRenderer = new BodyRenderer$$1(this);\n    }\n\n    prepareDom() {\n        this.wrapper.innerHTML = `\n            <div class=\"datatable\" dir=\"${this.options.direction}\">\n                <div class=\"dt-header\"></div>\n                <div class=\"dt-scrollable\"></div>\n                <div class=\"dt-footer\"></div>\n                <div class=\"dt-freeze\">\n                    <span class=\"dt-freeze__message\">\n                        ${this.options.freezeMessage}\n                    </span>\n                </div>\n                <div class=\"dt-toast\"></div>\n                <div class=\"dt-dropdown-container\"></div>\n                <textarea class=\"dt-paste-target\"></textarea>\n            </div>\n        `;\n\n        this.datatableWrapper = $('.datatable', this.wrapper);\n        this.header = $('.dt-header', this.wrapper);\n        this.footer = $('.dt-footer', this.wrapper);\n        this.bodyScrollable = $('.dt-scrollable', this.wrapper);\n        this.freezeContainer = $('.dt-freeze', this.wrapper);\n        this.toastMessage = $('.dt-toast', this.wrapper);\n        this.pasteTarget = $('.dt-paste-target', this.wrapper);\n        this.dropdownContainer = $('.dt-dropdown-container', this.wrapper);\n    }\n\n    refresh(data, columns) {\n        this.datamanager.init(data, columns);\n        this.render();\n        this.setDimensions();\n    }\n\n    destroy() {\n        this.wrapper.innerHTML = '';\n        this.style.destroy();\n        this.fireEvent('onDestroy');\n    }\n\n    appendRows(rows) {\n        this.datamanager.appendRows(rows);\n        this.rowmanager.refreshRows();\n    }\n\n    refreshRow(row, rowIndex) {\n        this.rowmanager.refreshRow(row, rowIndex);\n    }\n\n    render() {\n        this.renderHeader();\n        this.renderBody();\n    }\n\n    renderHeader() {\n        this.columnmanager.renderHeader();\n    }\n\n    renderBody() {\n        this.bodyRenderer.render();\n    }\n\n    setDimensions() {\n        this.style.setDimensions();\n    }\n\n    showToastMessage(message, hideAfter) {\n        this.bodyRenderer.showToastMessage(message, hideAfter);\n    }\n\n    clearToastMessage() {\n        this.bodyRenderer.clearToastMessage();\n    }\n\n    getColumn(colIndex) {\n        return this.datamanager.getColumn(colIndex);\n    }\n\n    getColumns() {\n        return this.datamanager.getColumns();\n    }\n\n    getRows() {\n        return this.datamanager.getRows();\n    }\n\n    getCell(colIndex, rowIndex) {\n        return this.datamanager.getCell(colIndex, rowIndex);\n    }\n\n    getColumnHeaderElement(colIndex) {\n        return this.columnmanager.getColumnHeaderElement(colIndex);\n    }\n\n    getViewportHeight() {\n        if (!this.viewportHeight) {\n            this.viewportHeight = $.style(this.bodyScrollable, 'height');\n        }\n\n        return this.viewportHeight;\n    }\n\n    sortColumn(colIndex, sortOrder) {\n        this.columnmanager.sortColumn(colIndex, sortOrder);\n    }\n\n    removeColumn(colIndex) {\n        this.columnmanager.removeColumn(colIndex);\n    }\n\n    scrollToLastColumn() {\n        this.datatableWrapper.scrollLeft = 9999;\n    }\n\n    freeze() {\n        $.style(this.freezeContainer, {\n            display: ''\n        });\n    }\n\n    unfreeze() {\n        $.style(this.freezeContainer, {\n            display: 'none'\n        });\n    }\n\n    updateOptions(options) {\n        this.buildOptions(options);\n    }\n\n    fireEvent(eventName, ...args) {\n        // fire internalEventHandlers if any\n        // and then user events\n        const handlers = [\n            ...(this._internalEventHandlers[eventName] || []),\n            this.events[eventName]\n        ].filter(Boolean);\n\n        for (let handler of handlers) {\n            handler.apply(this, args);\n        }\n    }\n\n    on(event, handler) {\n        this._internalEventHandlers = this._internalEventHandlers || {};\n        this._internalEventHandlers[event] = this._internalEventHandlers[event] || [];\n        this._internalEventHandlers[event].push(handler);\n    }\n\n    log() {\n        if (this.options.logs) {\n            console.log.apply(console, arguments);\n        }\n    }\n\n    translate(str, args) {\n        return this.translationManager.translate(str, args);\n    }\n}\n\nDataTable.instances = 0;\n\nvar name = \"frappe-datatable\";\nvar version = \"0.0.0-development\";\nvar description = \"A modern datatable library for the web\";\nvar main = \"dist/frappe-datatable.cjs.js\";\nvar unpkg = \"dist/frappe-datatable.min.js\";\nvar jsdelivr = \"dist/frappe-datatable.min.js\";\nvar scripts = {\"start\":\"yarn run dev\",\"build\":\"rollup -c && NODE_ENV=production rollup -c\",\"dev\":\"rollup -c -w\",\"cy:server\":\"http-server -p 8989\",\"cy:open\":\"cypress open\",\"cy:run\":\"cypress run\",\"test\":\"start-server-and-test cy:server http://localhost:8989 cy:run\",\"test-local\":\"start-server-and-test cy:server http://localhost:8989 cy:open\",\"travis-deploy-once\":\"travis-deploy-once\",\"semantic-release\":\"semantic-release\",\"lint\":\"eslint src\",\"lint-and-build\":\"yarn lint && yarn build\",\"commit\":\"npx git-cz\"};\nvar files = [\"dist\",\"src\"];\nvar devDependencies = {\"autoprefixer\":\"^9.0.0\",\"chai\":\"3.5.0\",\"cypress\":\"^9.2.0\",\"cz-conventional-changelog\":\"^2.1.0\",\"deepmerge\":\"^2.0.1\",\"eslint\":\"^5.0.1\",\"eslint-config-airbnb\":\"^16.1.0\",\"eslint-config-airbnb-base\":\"^12.1.0\",\"eslint-plugin-import\":\"^2.11.0\",\"http-server\":\"^0.11.1\",\"mocha\":\"3.3.0\",\"postcss-custom-properties\":\"^7.0.0\",\"postcss-nested\":\"^3.0.0\",\"rollup\":\"^0.59.4\",\"rollup-plugin-commonjs\":\"^8.3.0\",\"rollup-plugin-eslint\":\"^4.0.0\",\"rollup-plugin-json\":\"^2.3.0\",\"rollup-plugin-node-resolve\":\"^3.0.3\",\"rollup-plugin-postcss\":\"^1.2.8\",\"rollup-plugin-uglify-es\":\"^0.0.1\",\"semantic-release\":\"^17.1.1\",\"start-server-and-test\":\"^1.4.1\",\"travis-deploy-once\":\"^5.0.1\"};\nvar repository = {\"type\":\"git\",\"url\":\"https://github.com/frappe/datatable.git\"};\nvar keywords = [\"datatable\",\"data\",\"grid\",\"table\"];\nvar author = \"Faris Ansari\";\nvar license = \"MIT\";\nvar bugs = {\"url\":\"https://github.com/frappe/datatable/issues\"};\nvar homepage = \"https://frappe.io/datatable\";\nvar dependencies = {\"hyperlist\":\"^1.0.0-beta\",\"lodash\":\"^4.17.5\",\"sortablejs\":\"^1.7.0\"};\nvar config = {\"commitizen\":{\"path\":\"cz-conventional-changelog\"}};\nvar packageJson = {\n\tname: name,\n\tversion: version,\n\tdescription: description,\n\tmain: main,\n\tunpkg: unpkg,\n\tjsdelivr: jsdelivr,\n\tscripts: scripts,\n\tfiles: files,\n\tdevDependencies: devDependencies,\n\trepository: repository,\n\tkeywords: keywords,\n\tauthor: author,\n\tlicense: license,\n\tbugs: bugs,\n\thomepage: homepage,\n\tdependencies: dependencies,\n\tconfig: config\n};\n\nDataTable.__version__ = packageJson.version;\n\nmodule.exports = DataTable;\n", "jQuery.event.special.touchstart = {\n\tsetup: function( _, ns, handle ){\n\t\tthis.addEventListener && this.addEventListener(\"touchstart\", handle, { passive: true });\t  \n\t}\n};\n\njQuery.event.special.touchend = {\n\tsetup: function( _, ns, handle ){\n\t\tthis.addEventListener && this.addEventListener(\"touchend\", handle, { passive: true });\n\t}\n};\n\njQuery.event.special.touchmove = {\n\tsetup: function( _, ns, handle ){\t  \n\t\tthis.addEventListener && this.addEventListener(\"touchmove\", handle, { passive: true });\n\t}\n};\n\n$(document).on('app_ready', function() {\n\tif (document.referrer.endsWith(\"/login\")) {\n\t\t// app ready after login, let's rumble\n\t\t//console.log(\"let's rumble\");\n\t\t// get persistent session settings\n\t\tfrappe.call({\n\t\t\t'method': \"erpnext_oob.utils.get_user_default\",\n\t\t\t'callback': function(response) {\n\t\t\t\tif (response.message) {\n\t\t\t\t\tresponse.message.forEach(function (setting) {\n\t\t\t\t\t\tvar key = setting.setting_key.toLowerCase().replaceAll(\" \", \"_\");\n\t\t\t\t\t\tfrappe.defaults.set_user_default_local(key, setting.setting_value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n$(document).bind('toolbar_setup', function() {\n\t// \u65E5\u671F\u9009\u62E9\u4E2D\u6587\n    //frappe.boot.user.language = frappe.boot.lang\n    // \u9690\u85CF/\u5220\u9664\u6240\u6709\u5E2E\u52A9\u6587\u6863\n    // $('.dropdown-help ul li:lt(6)').attr(\"style\",\"display:none;\")\n    // $('.dropdown-help ul li:lt(6)').remove()\n});\n\n\n\nfrappe.views.Calendar = class Calendar extends frappe.views.Calendar {\n    setup_options(defaults) {\n        super.setup_options(defaults);\n        if (this.cal_options.locale == 'zh') {\n            this.cal_options.locale = 'zh-cn'\n        }\n    }\n}\n\n\n// \u5217\u8868\u9F20\u6807\u60AC\u505C\u4E2D\u6587\u88AB\u8F6C\u7801 \u5176\u5B9E\u5C31\u6539\u4E86\u4E00\u884C\n// \u5B57\u6BB5\u503C\u90FD\u7FFB\u8BD1\u4E00\u4E0B\uFF0C\u4E0D\u6B62select\u7C7B\u578B\nvar MyListView = class MyListView extends frappe.views.ListView {\n    get_column_html(col, doc) {\n\t\tif (col.type === 'Status') {\n\t\t\treturn `\n\t\t\t\t<div class=\"list-row-col hidden-xs ellipsis\">\n\t\t\t\t\t${this.get_indicator_html(doc)}\n\t\t\t\t</div>\n\t\t\t`;\n\t\t}\n\n\t\tconst df = col.df || {};\n\t\tconst label = df.label;\n\t\tconst fieldname = df.fieldname;\n\t\tconst value = doc[fieldname] || '';\n\n\t\tconst format = () => {\n\t\t\tif (df.fieldtype === 'Code') {\n\t\t\t\treturn value;\n\t\t\t} else if (df.fieldtype === 'Percent') {\n\t\t\t\treturn `<div class=\"progress level\" style=\"margin: 0px;\">\n\t\t\t\t\t\t<div class=\"progress-bar progress-bar-success\" role=\"progressbar\"\n\t\t\t\t\t\t\taria-valuenow=\"${value}\"\n\t\t\t\t\t\t\taria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: ${Math.round(value)}%;\">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>`;\n\t\t\t} else {\n\t\t\t\treturn frappe.format(value, df, null, doc);\n\t\t\t}\n\t\t};\n\n\t\tconst field_html = () => {\n\t\t\tlet html;\n\t\t\tlet _value;\n\t\t\t// listview_setting formatter\n\t\t\tif (this.settings.formatters && this.settings.formatters[fieldname]) {\n\t\t\t\t_value = this.settings.formatters[fieldname](value, df, doc);\n\t\t\t} else {\n\t\t\t\tlet strip_html_required = df.fieldtype == 'Text Editor'\n\t\t\t\t\t|| (df.fetch_from && ['Text', 'Small Text'].includes(df.fieldtype));\n\t\t\t\tif (strip_html_required) {\n\t\t\t\t\t_value = strip_html(value);\n\t\t\t\t} else {\n\t\t\t\t\t_value = typeof value === 'string' ? frappe.utils.escape_html(value) : value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (df.fieldtype === 'Image') {\n\t\t\t\thtml = df.options ?\n\t\t\t\t\t`<img src=\"${doc[df.options]}\" style=\"max-height: 30px; max-width: 100%;\">` :\n\t\t\t\t\t`<div class=\"missing-image small\">\n\t\t\t\t\t\t<span class=\"octicon octicon-circle-slash\"></span>\n\t\t\t\t\t</div>`;\n\t\t\t} else if (df.fieldtype === 'Select') {\n\t\t\t\thtml = `<span class=\"filterable indicator ${frappe.utils.guess_colour(_value)} ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${__(_value)}\n\t\t\t\t</span>`;\n\t\t\t} else if (df.fieldtype === 'Link') {\n\t\t\t\thtml = `<a class=\"filterable text-muted ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${__(_value)}\n\t\t\t\t</a>`;\n\t\t\t} else if (['Text Editor', 'Text', 'Small Text', 'HTML Editor'].includes(df.fieldtype)) {\n\t\t\t\thtml = `<span class=\"text-muted ellipsis\">\n\t\t\t\t\t${__(_value)}\n\t\t\t\t</span>`;\n\t\t\t} else {\n\t\t\t\thtml = `<a class=\"filterable text-muted ellipsis\"\n\t\t\t\t\tdata-filter=\"${fieldname},=,${value}\">\n\t\t\t\t\t${format()}\n\t\t\t\t</a>`;\n\t\t\t}\n\t\t\t// \u8FD9\u91CC\u7684escape(_value)\u6539\u6210__(_value)\n\t\t\treturn `<span class=\"ellipsis\"\n\t\t\t\ttitle=\"${__(label)}: ${__(_value)}\">\n\t\t\t\t${html}\n\t\t\t</span>`;\n\t\t};\n\n\t\tconst class_map = {\n\t\t\tSubject: 'list-subject level',\n\t\t\tField: 'hidden-xs'\n\t\t};\n\t\tconst css_class = [\n\t\t\t'list-row-col ellipsis',\n\t\t\tclass_map[col.type],\n\t\t\tfrappe.model.is_numeric_field(df) ? 'text-right' : ''\n\t\t].join(' ');\n\n\t\tconst html_map = {\n\t\t\tSubject: this.get_subject_html(doc),\n\t\t\tField: field_html()\n\t\t};\n\t\tconst column_html = html_map[col.type];\n\n\t\treturn `\n\t\t\t<div class=\"${css_class}\">\n\t\t\t\t${column_html}\n\t\t\t</div>\n\t\t`;\n\t}\n\n\tget_subject_html(doc) {\n\t\tlet user = frappe.session.user;\n\t\tlet subject_field = this.columns[0].df;\n\t\tlet value = doc[subject_field.fieldname] || doc.name;\n\t\tlet subject = strip_html(value.toString());\n\t\tlet escaped_subject = frappe.utils.escape_html(subject);\n\n\t\tconst liked_by = JSON.parse(doc._liked_by || '[]');\n\t\tlet heart_class = liked_by.includes(user) ?\n\t\t\t'liked-by' : 'text-extra-muted not-liked';\n\n\t\tconst seen = JSON.parse(doc._seen || '[]')\n\t\t\t.includes(user) ? '' : 'bold';\n\n\t\t// \u8FD9\u91CC\u7684\u6539\u6210title=\"xxxx\" \u548C${subject} \u90FD\u52A0\u4E0A\u4E86\u7FFB\u8BD1 __()\n\t\tlet subject_html = `\n\t\t\t<input class=\"level-item list-row-checkbox hidden-xs\" type=\"checkbox\" data-name=\"${escape(doc.name)}\">\n\t\t\t<span class=\"level-item\" style=\"margin-bottom: 1px;\">\n\t\t\t\t<i class=\"octicon octicon-heart like-action ${heart_class}\"\n\t\t\t\t\tdata-name=\"${doc.name}\" data-doctype=\"${this.doctype}\"\n\t\t\t\t\tdata-liked-by=\"${encodeURI(doc._liked_by) || '[]'}\"\n\t\t\t\t>\n\t\t\t\t</i>\n\t\t\t\t<span class=\"likes-count\">\n\t\t\t\t\t${ liked_by.length > 99 ? __(\"99\") + '+' : __(liked_by.length || '')}\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t\t<span class=\"level-item ${seen} ellipsis\" title=\"${__(escaped_subject)}\">\n\t\t\t\t<a class=\"ellipsis\" href=\"${this.get_form_link(doc)}\" title=\"${__(escaped_subject)}\" data-doctype=\"${this.doctype}\" data-name=\"${doc.name}\">\n\t\t\t\t${__(subject)}\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t`;\n\n\t\treturn subject_html;\n\t}\n}\n\n//frappe.views.ListView = MyListView\n\n//\u56E0\u7F51\u7EDC\u95EE\u9898\u5BFC\u81F4emoji\u65E0\u6CD5\u8FDC\u7A0B\u52A0\u8F7D\uFF0C\u6539\u6210\u52A0\u8F7D\u672C\u5730json\u6587\u4EF6\uFF0C\n// frappe.chat.emoji  = function (fn) {\n// \treturn new Promise(resolve => {\n// \t\tif ( !frappe._.is_empty(frappe.chat.emojis) ) {\n// \t\t\tif ( fn )\n// \t\t\t\tfn(frappe.chat.emojis);\n\n// \t\t\tresolve(frappe.chat.emojis)\n// \t\t}\n// \t\telse\n// \t\t\t$.get('/assets/erpnext_oob/js/lib/emoji.json', (data) => {\n// \t\t\t\tfrappe.chat.emojis = data;\n\n// \t\t\t\tif ( fn )\n// \t\t\t\t\tfn(frappe.chat.emojis);\n\n// \t\t\t\tresolve(frappe.chat.emojis)\n// \t\t\t})\n// \t})\n// }\n\n// frappe.untranslated = new Set()\n// let mytranslation = function(txt, replace, context = null) {\n// \tlet translated_text = frappe._(txt, replace, context = null);\n// \tif (txt === translated_text && ! frappe.untranslated.has(txt)) frappe.untranslated.add(txt)\n// \treturn translated_text\n// }\n\n// window.__ = mytranslation\n\n//fisher \u89E3\u51B3\u7CFB\u7EDF\u7BA1\u7406\u8D26\u53F7\u4E5F\u663E\u793A\u65E0\u6743\u9650\u67E5\u770B\u6253\u5370\u683C\u5F0F\u7684\u95EE\u9898\uFF0C\u56E0\u4E3A\u6743\u9650\u903B\u8F91\u4E2D\u5224\u65ADprint format\u5143\u6570\u636E\u662F\u5426\u5B58\u5728\nfrappe.model.with_doctype('Print Format')", "class WidgetDialog {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.editing = Boolean(this.values && Object.keys(this.values).length);\n\t}\n\n\tmake() {\n\t\tthis.make_dialog();\n\t\tthis.setup_dialog_events();\n\t\tthis.dialog.show();\n\n\t\twindow.cur_dialog = this.dialog;\n\t\tthis.editing && this.set_default_values();\n\t}\n\n\tmake_dialog() {\n\t\tthis.dialog = new frappe.ui.Dialog({\n\t\t\ttitle: this.get_title(),\n\t\t\tfields: this.get_fields(),\n\t\t\tprimary_action: (data) => {\n\t\t\t\tdata = this.process_data(data);\n\n\t\t\t\tif (!this.editing && !data.name) {\n\t\t\t\t\tdata.name = `${this.type}-${this.label}-${frappe.utils.get_random(20)}`;\n\t\t\t\t}\n\n\t\t\t\tthis.dialog.hide();\n\t\t\t\tthis.primary_action(data);\n\t\t\t},\n\t\t\tprimary_action_label: this.primary_action_label || __(\"Add\"),\n\t\t});\n\t}\n\n\tget_title() {\n\t\t// DO NOT REMOVE: Comment to load translation\n\t\t// __(\"New Chart\") __(\"New Shortcut\") __(\"Edit Chart\") __(\"Edit Shortcut\")\n\n\t\tlet action = this.editing ? \"Edit\" : \"Add\";\n\t\tlet label = (action = action + \" \" + frappe.model.unscrub(this.type));\n\t\treturn __(label);\n\t}\n\n\tget_fields() {\n\t\t//\n\t}\n\n\tset_default_values() {\n\t\treturn this.dialog.set_values(this.values);\n\t}\n\n\tprocess_data(data) {\n\t\treturn data;\n\t}\n\n\tsetup_dialog_events() {\n\t\t//\n\t}\n\n\thide_field(fieldname) {\n\t\tthis.dialog.set_df_property(fieldname, \"hidden\", true);\n\t}\n\n\tshow_field(fieldname) {\n\t\tthis.dialog.set_df_property(fieldname, \"hidden\", false);\n\t}\n\n\tsetup_filter(doctype) {\n\t\tif (this.filter_group) {\n\t\t\tthis.filter_group.wrapper.empty();\n\t\t\tdelete this.filter_group;\n\t\t}\n\n\t\tlet $loading = this.dialog.get_field(\"filter_area_loading\").$wrapper;\n\t\t$(`<span class=\"text-muted\">${__(\"Loading Filters...\")}</span>`).appendTo($loading);\n\n\t\tthis.filters = [];\n\n\t\tthis.generate_filter_from_json && this.generate_filter_from_json();\n\n\t\tthis.filter_group = new frappe.ui.FilterGroup({\n\t\t\tparent: this.dialog.get_field(\"filter_area\").$wrapper,\n\t\t\tdoctype: doctype,\n\t\t\ton_change: () => {},\n\t\t});\n\n\t\tfrappe.model.with_doctype(doctype, () => {\n\t\t\tthis.filter_group.add_filters_to_filter_group(this.filters);\n\t\t\tthis.hide_field(\"filter_area_loading\");\n\t\t\tthis.show_field(\"filter_area\");\n\t\t});\n\t}\n}\n\nclass ChartDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"chart_name\",\n\t\t\t\tlabel: \"Chart Name\",\n\t\t\t\toptions: \"Dashboard Chart\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t];\n\t}\n\n\tprocess_data(data) {\n\t\tdata.label = data.label ? data.label : data.chart_name;\n\t\treturn data;\n\t}\n}\nclass QuickListDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"document_type\",\n\t\t\t\tlabel: \"DocType\",\n\t\t\t\toptions: \"DocType\",\n\t\t\t\treqd: 1,\n\t\t\t\tonchange: () => {\n\t\t\t\t\tthis.document_type = this.dialog.get_value(\"document_type\");\n\t\t\t\t\tthis.document_type && this.setup_filter(this.document_type);\n\t\t\t\t},\n\t\t\t\tget_query: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\tissingle: 0,\n\t\t\t\t\t\t\tistable: 0,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"column_break_4\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"filter_section\",\n\t\t\t\tlabel: __(\"Add Filters\"),\n\t\t\t\tdepends_on: \"eval: doc.document_type\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area_loading\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area\",\n\t\t\t},\n\t\t];\n\t}\n\n\tgenerate_filter_from_json() {\n\t\tif (this.values && this.values.quick_list_filter) {\n\t\t\tthis.filters = frappe.utils.get_filter_from_json(\n\t\t\t\tthis.values.quick_list_filter,\n\t\t\t\tthis.values.document_type\n\t\t\t);\n\t\t}\n\t}\n\n\tprocess_data(data) {\n\t\tif (this.filter_group) {\n\t\t\tlet filters = this.filter_group.get_filters();\n\t\t\tdata.quick_list_filter = JSON.stringify(filters);\n\t\t}\n\n\t\tdata.label = data.label ? data.label : data.document_type;\n\t\treturn data;\n\t}\n}\n\nclass OnboardingDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"onboarding_name\",\n\t\t\t\tlabel: \"Onboarding Name\",\n\t\t\t\toptions: \"Module Onboarding\",\n\t\t\t\treqd: 1,\n\t\t\t},\n\t\t];\n\t}\n}\n\nclass CardDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\tlet me = this;\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldname: \"links\",\n\t\t\t\tfieldtype: \"Table\",\n\t\t\t\tlabel: __(\"Card Links\"),\n\t\t\t\teditable_grid: 1,\n\t\t\t\tdata: me.values ? JSON.parse(me.values.links) : [],\n\t\t\t\tget_data: () => {\n\t\t\t\t\treturn me.values ? JSON.parse(me.values.links) : [];\n\t\t\t\t},\n\t\t\t\tfields: [\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"label\",\n\t\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\tlabel: \"Label\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"icon\",\n\t\t\t\t\t\tfieldtype: \"Icon\",\n\t\t\t\t\t\tlabel: \"Icon\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"link_type\",\n\t\t\t\t\t\tfieldtype: \"Select\",\n\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\tlabel: \"Link Type\",\n\t\t\t\t\t\treqd: 1,\n\t\t\t\t\t\toptions: [\"DocType\", \"Page\", \"Report\"],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"link_to\",\n\t\t\t\t\t\tfieldtype: \"Dynamic Link\",\n\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\tlabel: \"Link To\",\n\t\t\t\t\t\treqd: 1,\n\t\t\t\t\t\tget_options: (df) => {\n\t\t\t\t\t\t\treturn df.doc.link_type;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget_query: function (df) {\n\t\t\t\t\t\t\tif (df.link_type == \"DocType\") {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t\t\tistable: 0,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"column_break_7\",\n\t\t\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"dependencies\",\n\t\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t\t\tlabel: \"Dependencies\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldname: \"only_for\",\n\t\t\t\t\t\tfieldtype: \"Link\",\n\t\t\t\t\t\tlabel: \"Only for\",\n\t\t\t\t\t\toptions: \"Country\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \"0\",\n\t\t\t\t\t\tfieldname: \"onboard\",\n\t\t\t\t\t\tfieldtype: \"Check\",\n\t\t\t\t\t\tlabel: \"Onboard\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tdefault: \"0\",\n\t\t\t\t\t\tfieldname: \"is_query_report\",\n\t\t\t\t\t\tfieldtype: \"Check\",\n\t\t\t\t\t\tlabel: \"Is Query Report\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t];\n\t}\n\n\tprocess_data(data) {\n\t\tlet message = \"\";\n\n\t\tif (!data.links) {\n\t\t\tmessage = __(\"You must add atleast one link.\");\n\t\t} else {\n\t\t\tdata.links.map((item, idx) => {\n\t\t\t\tlet row = idx + 1;\n\n\t\t\t\tif (!item.link_type) {\n\t\t\t\t\tmessage = __(\"Following fields have missing values\") + \": <br><br><ul>\";\n\t\t\t\t\tmessage += `<li>${__(\"Link Type in Row\")} ${row}</li>`;\n\t\t\t\t}\n\n\t\t\t\tif (!item.link_to) {\n\t\t\t\t\tmessage += `<li>${__(\"Link To in Row\")} ${row}</li>`;\n\t\t\t\t}\n\n\t\t\t\titem.label = item.label ? item.label : item.link_to;\n\t\t\t});\n\t\t}\n\n\t\tif (message) {\n\t\t\tmessage += \"</ul>\";\n\t\t\tfrappe.throw({\n\t\t\t\tmessage: __(message),\n\t\t\t\ttitle: __(\"Missing Values Required\"),\n\t\t\t\tindicator: \"orange\",\n\t\t\t});\n\t\t}\n\n\t\tdata.label = data.label ? data.label : data.chart_name;\n\t\treturn data;\n\t}\n}\n\nclass ShortcutDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\thide_filters() {\n\t\tthis.hide_field(\"count_section_break\");\n\t\tthis.hide_field(\"filters_section_break\");\n\t}\n\n\tshow_filters() {\n\t\tthis.show_field(\"count_section_break\");\n\t\tthis.show_field(\"filters_section_break\");\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"type\",\n\t\t\t\tlabel: \"Type\",\n\t\t\t\treqd: 1,\n\t\t\t\toptions: \"DocType\\nReport\\nPage\\nDashboard\\nURL\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tif (this.dialog.get_value(\"type\") == \"DocType\") {\n\t\t\t\t\t\tthis.dialog.fields_dict.link_to.get_query = () => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tquery: \"frappe.core.report.permitted_documents_for_user.permitted_documents_for_user.query_doctypes\",\n\t\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t\tuser: frappe.session.user,\n\t\t\t\t\t\t\t\t\tinclude_single_doctypes: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.dialog.fields_dict.link_to.get_query = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tlabel: \"Label\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"column_break_4\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Dynamic Link\",\n\t\t\t\tfieldname: \"link_to\",\n\t\t\t\tlabel: \"Link To\",\n\t\t\t\toptions: \"type\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tconst doctype = this.dialog.get_value(\"link_to\");\n\t\t\t\t\tif (doctype && this.dialog.get_value(\"type\") == \"DocType\") {\n\t\t\t\t\t\tfrappe.model.with_doctype(doctype, async () => {\n\t\t\t\t\t\t\tlet meta = frappe.get_meta(doctype);\n\n\t\t\t\t\t\t\tif (doctype && frappe.boot.single_types.includes(doctype)) {\n\t\t\t\t\t\t\t\tthis.hide_filters();\n\t\t\t\t\t\t\t} else if (doctype) {\n\t\t\t\t\t\t\t\tthis.setup_filter(doctype);\n\t\t\t\t\t\t\t\tthis.show_filters();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst views = [\"List\", \"Report Builder\", \"Dashboard\", \"New\"];\n\t\t\t\t\t\t\tif (meta.is_tree === 1) views.push(\"Tree\");\n\t\t\t\t\t\t\tif (frappe.boot.calendars.includes(doctype)) views.push(\"Calendar\");\n\n\t\t\t\t\t\t\tconst response = await frappe.db.get_value(\n\t\t\t\t\t\t\t\t\"Kanban Board\",\n\t\t\t\t\t\t\t\t{ reference_doctype: doctype },\n\t\t\t\t\t\t\t\t\"name\"\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (response?.message?.name) views.push(\"Kanban\");\n\n\t\t\t\t\t\t\tthis.dialog.set_df_property(\"doc_view\", \"options\", views.join(\"\\n\"));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.hide_filters();\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdepends_on: (s) => s.type != \"URL\",\n\t\t\t\tmandatory_depends_on: (s) => s.type != \"URL\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"url\",\n\t\t\t\tlabel: \"URL\",\n\t\t\t\tdefault: \"\",\n\t\t\t\tdepends_on: (s) => s.type == \"URL\",\n\t\t\t\tmandatory_depends_on: (s) => s.type == \"URL\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"doc_view\",\n\t\t\t\tlabel: \"DocType View\",\n\t\t\t\toptions: \"List\\nReport Builder\\nDashboard\\nTree\\nNew\\nCalendar\\nKanban\",\n\t\t\t\tdescription: __(\n\t\t\t\t\t\"Which view of the associated DocType should this shortcut take you to?\"\n\t\t\t\t),\n\t\t\t\tdefault: \"List\",\n\t\t\t\tdepends_on: (state) => {\n\t\t\t\t\tif (this.dialog) {\n\t\t\t\t\t\tlet doctype = this.dialog.get_value(\"link_to\");\n\t\t\t\t\t\tlet is_single = frappe.boot.single_types.includes(doctype);\n\t\t\t\t\t\treturn doctype && state.type == \"DocType\" && !is_single;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn false;\n\t\t\t\t},\n\t\t\t\tonchange: () => {\n\t\t\t\t\tif (this.dialog.get_value(\"doc_view\") == \"Kanban\") {\n\t\t\t\t\t\tthis.dialog.fields_dict.kanban_board.get_query = () => {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t\treference_doctype: this.dialog.get_value(\"link_to\"),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.dialog.fields_dict.link_to.get_query = null;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"kanban_board\",\n\t\t\t\tlabel: \"Kanban Board\",\n\t\t\t\toptions: \"Kanban Board\",\n\t\t\t\tdepends_on: () => {\n\t\t\t\t\tlet doc_view = this.dialog?.get_value(\"doc_view\");\n\t\t\t\t\treturn doc_view == \"Kanban\";\n\t\t\t\t},\n\t\t\t\tmandatory_depends_on: () => {\n\t\t\t\t\tlet doc_view = this.dialog?.get_value(\"doc_view\");\n\t\t\t\t\treturn doc_view == \"Kanban\";\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"filters_section_break\",\n\t\t\t\tlabel: __(\"Count Filter\"),\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area_loading\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area\",\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"count_section_break\",\n\t\t\t\tlabel: __(\"Count Customizations\"),\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tfieldname: \"color\",\n\t\t\t\tlabel: __(\"Color\"),\n\t\t\t\toptions: [\"Grey\", \"Green\", \"Red\", \"Orange\", \"Pink\", \"Yellow\", \"Blue\", \"Cyan\"],\n\t\t\t\tdefault: \"Grey\",\n\t\t\t\tinput_class: \"color-select\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tlet color = this.dialog.fields_dict.color.value.toLowerCase();\n\t\t\t\t\tlet $select = this.dialog.fields_dict.color.$input;\n\t\t\t\t\tif (!$select.parent().find(\".color-box\").get(0)) {\n\t\t\t\t\t\t$(`<div class=\"color-box\"></div>`).insertBefore($select.get(0));\n\t\t\t\t\t}\n\t\t\t\t\t$select\n\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t.find(\".color-box\")\n\t\t\t\t\t\t.get(0).style.backgroundColor = `var(--text-on-${color})`;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"column_break_3\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tfieldname: \"format\",\n\t\t\t\tlabel: __(\"Format\"),\n\t\t\t\tdescription: __(\"For Example: {} Open\"),\n\t\t\t},\n\t\t];\n\t}\n\n\tset_default_values() {\n\t\tsuper.set_default_values().then(() => {\n\t\t\tthis.dialog.fields_dict.link_to.df.onchange();\n\t\t});\n\t}\n\n\tgenerate_filter_from_json() {\n\t\tif (this.values && this.values.stats_filter) {\n\t\t\tthis.filters = frappe.utils.get_filter_from_json(\n\t\t\t\tthis.values.stats_filter,\n\t\t\t\tthis.values.link_to\n\t\t\t);\n\t\t}\n\t}\n\n\tprocess_data(data) {\n\t\tif (this.dialog.get_value(\"type\") == \"DocType\" && this.filter_group) {\n\t\t\tlet filters = this.filter_group.get_filters();\n\t\t\tdata.stats_filter = JSON.stringify(filters);\n\t\t}\n\n\t\tdata.label = data.label ? data.label : frappe.model.unscrub(data.link_to);\n\n\t\tif (data.url) {\n\t\t\tlet _url = data.url;\n\t\t\tif (data.url.startsWith(\"/\")) {\n\t\t\t\t_url = frappe.urllib.get_base_url() + data.url;\n\t\t\t}\n\t\t\t!validate_url(_url) &&\n\t\t\t\tfrappe.throw({\n\t\t\t\t\tmessage: __(\"<b>{0}</b> is not a valid URL\", [data.url]),\n\t\t\t\t\ttitle: __(\"Invalid URL\"),\n\t\t\t\t\tindicator: \"red\",\n\t\t\t\t});\n\n\t\t\tif (!data.label) {\n\t\t\t\tdata.label = \"No Label (URL)\";\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n}\n\nclass NumberCardDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\tlet fields;\n\n\t\tif (this.for_workspace) {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"Link\",\n\t\t\t\t\tfieldname: \"number_card_name\",\n\t\t\t\t\tlabel: __(\"Number Card\"),\n\t\t\t\t\toptions: \"Number Card\",\n\t\t\t\t\treqd: 1,\n\t\t\t\t\tget_query: () => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tquery: \"frappe.desk.doctype.number_card.number_card.get_cards_for_user\",\n\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\tdocument_type: this.document_type,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tfieldtype: \"Data\",\n\t\t\t\t\tfieldname: \"label\",\n\t\t\t\t\tlabel: __(\"Label\"),\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\n\t\tfields = [\n\t\t\t{\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tlabel: __(\"Choose Existing Card or create New Card\"),\n\t\t\t\tfieldname: \"new_or_existing\",\n\t\t\t\toptions: [\"New Card\", \"Existing Card\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"card\",\n\t\t\t\tlabel: __(\"Number Cards\"),\n\t\t\t\toptions: \"Number Card\",\n\t\t\t\tget_query: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tquery: \"frappe.desk.doctype.number_card.number_card.get_cards_for_user\",\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\tdocument_type: this.document_type,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"Existing Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"sb_1\",\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Label\"),\n\t\t\t\tfieldname: \"label\",\n\t\t\t\tfieldtype: \"Data\",\n\t\t\t\tmandatory_depends_on: 'eval: doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Doctype\"),\n\t\t\t\tfieldname: \"document_type\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\toptions: \"DocType\",\n\t\t\t\tonchange: () => {\n\t\t\t\t\tthis.document_type = this.dialog.get_value(\"document_type\");\n\t\t\t\t\tthis.set_aggregate_function_fields(this.dialog.get_values());\n\t\t\t\t\tthis.setup_filter(this.document_type);\n\t\t\t\t},\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Color\"),\n\t\t\t\tfieldname: \"color\",\n\t\t\t\tfieldtype: \"Color\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Column Break\",\n\t\t\t\tfieldname: \"cb_1\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Function\"),\n\t\t\t\tfieldname: \"function\",\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\toptions: [\"Count\", \"Sum\", \"Average\", \"Minimum\", \"Maximum\"],\n\t\t\t\tmandatory_depends_on: 'eval: doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Function Based On\"),\n\t\t\t\tfieldname: \"aggregate_function_based_on\",\n\t\t\t\tfieldtype: \"Select\",\n\t\t\t\tdepends_on: \"eval: doc.function !== 'Count'\",\n\t\t\t\tmandatory_depends_on:\n\t\t\t\t\t'eval: doc.function !== \"Count\" && doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"sb_1\",\n\t\t\t\tlabel: __(\"Add Filters\"),\n\t\t\t\tdepends_on: 'eval: doc.new_or_existing == \"New Card\"',\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area_loading\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\tfieldname: \"filter_area\",\n\t\t\t\thidden: 1,\n\t\t\t},\n\t\t\t{\n\t\t\t\tfieldtype: \"Section Break\",\n\t\t\t\tfieldname: \"sb_1\",\n\t\t\t},\n\t\t];\n\n\t\treturn fields;\n\t}\n\n\tsetup_dialog_events() {\n\t\tif (!this.document_type && !this.for_workspace) {\n\t\t\tif (this.default_values && this.default_values[\"doctype\"]) {\n\t\t\t\tthis.document_type = this.default_values[\"doctype\"];\n\t\t\t\tthis.setup_filter(this.default_values[\"doctype\"]);\n\t\t\t\tthis.set_aggregate_function_fields();\n\t\t\t} else {\n\t\t\t\tthis.show_field(\"document_type\");\n\t\t\t}\n\t\t}\n\t}\n\n\tset_aggregate_function_fields() {\n\t\tlet aggregate_function_fields = [];\n\t\tif (this.document_type && frappe.get_meta(this.document_type)) {\n\t\t\tfrappe.get_meta(this.document_type).fields.map((df) => {\n\t\t\t\tif (frappe.model.numeric_fieldtypes.includes(df.fieldtype)) {\n\t\t\t\t\tif (df.fieldtype == \"Currency\") {\n\t\t\t\t\t\tif (!df.options || df.options !== \"Company:company:default_currency\") {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\taggregate_function_fields.push({ label: df.label, value: df.fieldname });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.dialog.set_df_property(\n\t\t\t\"aggregate_function_based_on\",\n\t\t\t\"options\",\n\t\t\taggregate_function_fields\n\t\t);\n\t}\n\n\tprocess_data(data) {\n\t\tif (this.for_workspace) {\n\t\t\tdata.label = data.label ? data.label : data.number_card_name;\n\t\t\treturn data;\n\t\t}\n\n\t\tif (data.new_or_existing == \"Existing Card\") {\n\t\t\tdata.name = data.card;\n\t\t}\n\t\tdata.stats_filter = this.filter_group && JSON.stringify(this.filter_group.get_filters());\n\t\tdata.document_type = this.document_type;\n\t\treturn data;\n\t}\n}\n\nclass CustomBlockDialog extends WidgetDialog {\n\tconstructor(opts) {\n\t\tsuper(opts);\n\t}\n\n\tget_fields() {\n\t\treturn [\n\t\t\t{\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\tfieldname: \"custom_block_name\",\n\t\t\t\tlabel: \"Custom Block Name\",\n\t\t\t\toptions: \"Custom HTML Block\",\n\t\t\t\treqd: 1,\n\t\t\t\tget_query: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tquery: \"frappe.desk.doctype.custom_html_block.custom_html_block.get_custom_blocks_for_user\",\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\t}\n}\n\nexport default function get_dialog_constructor(type) {\n\tconst widget_map = {\n\t\tchart: ChartDialog,\n\t\tshortcut: ShortcutDialog,\n\t\tlinks: CardDialog,\n\t\tonboarding: OnboardingDialog,\n\t\tquick_list: QuickListDialog,\n\t\tnumber_card: NumberCardDialog,\n\t\tcustom_block: CustomBlockDialog,\n\t};\n\n\treturn widget_map[type] || WidgetDialog;\n}\n", "import get_dialog_constructor from \"./widget_dialog.js\";\n\nexport default class Widget {\n\tconstructor(opts) {\n\t\tObject.assign(this, opts);\n\t\tthis.make();\n\t}\n\n\trefresh() {\n\t\tthis.set_title();\n\t\tthis.set_actions();\n\t\tthis.set_body();\n\t\tthis.setup_events();\n\t\tthis.set_footer();\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tlabel: this.label,\n\t\t};\n\t}\n\n\tcustomize(options) {\n\t\tthis.in_customize_mode = true;\n\t\tthis.action_area.empty();\n\n\t\toptions.allow_sorting &&\n\t\t\tfrappe.utils.add_custom_button(\n\t\t\t\tfrappe.utils.icon(\"es-line-drag\", \"xs\"),\n\t\t\t\tnull,\n\t\t\t\t\"drag-handle\",\n\t\t\t\t__(\"Drag\"),\n\t\t\t\tnull,\n\t\t\t\tthis.action_area\n\t\t\t);\n\n\t\tif (options.allow_hiding) {\n\t\t\tif (this.hidden) {\n\t\t\t\tthis.widget.removeClass(\"hidden\");\n\t\t\t\tthis.body.css(\"opacity\", 0.5);\n\t\t\t\tthis.title_field.css(\"opacity\", 0.5);\n\t\t\t\tthis.footer.css(\"opacity\", 0.5);\n\t\t\t}\n\t\t\tconst classname = this.hidden ? \"fa fa-eye\" : \"fa fa-eye-slash\";\n\t\t\tconst title = this.hidden ? __(\"Show\") : __(\"Hide\");\n\t\t\tfrappe.utils.add_custom_button(\n\t\t\t\t`<i class=\"${classname}\" aria-hidden=\"true\"></i>`,\n\t\t\t\t() => this.hide_or_show(),\n\t\t\t\t\"show-or-hide-button\",\n\t\t\t\ttitle,\n\t\t\t\tnull,\n\t\t\t\tthis.action_area\n\t\t\t);\n\n\t\t\tthis.show_or_hide_button = this.action_area.find(\".show-or-hide-button\");\n\t\t}\n\n\t\toptions.allow_edit &&\n\t\t\tfrappe.utils.add_custom_button(\n\t\t\t\tfrappe.utils.icon(\"es-line-edit-alt\", \"xs\"),\n\t\t\t\t() => this.edit(),\n\t\t\t\t\"edit-button\",\n\t\t\t\t__(\"Edit\"),\n\t\t\t\tnull,\n\t\t\t\tthis.action_area\n\t\t\t);\n\t}\n\n\tmake() {\n\t\tthis.make_widget();\n\t\tthis.widget.appendTo(this.container);\n\t}\n\n\tmake_widget() {\n\t\tthis.widget = $(`<div class=\"widget\" data-widget-name=\"${this.name ? this.name : \"\"}\">\n\t\t\t<div class=\"widget-head\">\n\t\t\t\t<div class=\"widget-label\">\n\t\t\t\t\t<div class=\"widget-title\"></div>\n\t\t\t\t\t<div class=\"widget-subtitle\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"widget-control\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"widget-body\"></div>\n\t\t\t<div class=\"widget-footer\"></div>\n\t\t</div>`);\n\n\t\tthis.title_field = this.widget.find(\".widget-title\");\n\t\tthis.subtitle_field = this.widget.find(\".widget-subtitle\");\n\t\tthis.body = this.widget.find(\".widget-body\");\n\t\tthis.action_area = this.widget.find(\".widget-control\");\n\t\tthis.head = this.widget.find(\".widget-head\");\n\t\tthis.footer = this.widget.find(\".widget-footer\");\n\t\tthis.refresh();\n\t}\n\n\tset_title(max_chars) {\n\t\tlet base = this.title || this.label || this.name;\n\t\tlet title = max_chars ? frappe.ellipsis(base, max_chars) : base;\n\n\t\tthis.title_field[0].innerHTML = `<span class=\"ellipsis\" title=\"${title}\">${title}</span>`;\n\t\tif (max_chars) {\n\t\t\tthis.title_field[0].setAttribute(\"title\", this.title || this.label);\n\t\t}\n\t\tthis.subtitle && this.subtitle_field.html(this.subtitle);\n\t}\n\n\tdelete(animate = true, dismissed = false) {\n\t\tlet remove_widget = (setup_new) => {\n\t\t\tthis.widget.remove();\n\t\t\t!dismissed && this.options.on_delete && this.options.on_delete(this.name, setup_new);\n\t\t};\n\n\t\tif (animate) {\n\t\t\tthis.widget.addClass(\"zoom-out\");\n\t\t\t// wait for animation\n\t\t\tsetTimeout(() => {\n\t\t\t\tremove_widget(true);\n\t\t\t}, 300);\n\t\t} else {\n\t\t\tremove_widget(false);\n\t\t}\n\t}\n\n\tedit() {\n\t\tconst dialog_class = get_dialog_constructor(this.widget_type);\n\n\t\tthis.edit_dialog = new dialog_class({\n\t\t\tfor_workspace: this.options?.for_workspace,\n\t\t\tlabel: this.label,\n\t\t\ttype: this.widget_type,\n\t\t\tvalues: this.get_config(),\n\t\t\tprimary_action: (data) => {\n\t\t\t\tObject.assign(this, data);\n\t\t\t\tdata.name = this.name;\n\t\t\t\tthis.new = true;\n\t\t\t\tthis.refresh();\n\t\t\t\tthis.options.on_edit && this.options.on_edit(data);\n\t\t\t},\n\t\t\tprimary_action_label: __(\"Save\"),\n\t\t});\n\n\t\tthis.edit_dialog.make();\n\t}\n\n\ttoggle_width() {\n\t\tif (this.width == \"Full\") {\n\t\t\tthis.widget.removeClass(\"full-width\");\n\t\t\tthis.width = null;\n\t\t\tthis.refresh();\n\t\t} else {\n\t\t\tthis.widget.addClass(\"full-width\");\n\t\t\tthis.width = \"Full\";\n\t\t\tthis.refresh();\n\t\t}\n\n\t\tconst title = this.width == \"Full\" ? __(\"Collapse\") : __(\"Expand\");\n\t\tthis.resize_button.attr(\"title\", title);\n\t}\n\n\thide_or_show() {\n\t\tif (!this.hidden) {\n\t\t\tthis.body.css(\"opacity\", 0.5);\n\t\t\tthis.title_field.css(\"opacity\", 0.5);\n\t\t\tthis.footer.css(\"opacity\", 0.5);\n\t\t\tthis.hidden = true;\n\t\t} else {\n\t\t\tthis.body.css(\"opacity\", 1);\n\t\t\tthis.title_field.css(\"opacity\", 1);\n\t\t\tthis.footer.css(\"opacity\", 1);\n\t\t\tthis.hidden = false;\n\t\t}\n\t\tthis.show_or_hide_button.empty();\n\n\t\tconst classname = this.hidden ? \"fa fa-eye\" : \"fa fa-eye-slash\";\n\t\tconst title = this.hidden ? __(\"Show\") : __(\"Hide\");\n\n\t\t$(`<i class=\"${classname}\" aria-hidden=\"true\" title=\"${title}\"></i>`).appendTo(\n\t\t\tthis.show_or_hide_button\n\t\t);\n\t}\n\n\tsetup_events() {\n\t\t//\n\t}\n\n\tset_actions() {\n\t\t//\n\t}\n\n\tset_body() {\n\t\t//\n\t}\n\n\tset_footer() {\n\t\t//\n\t}\n}\n", "import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.utils\");\n\nexport default class OnboardingWidget extends Widget {\n\tasync refresh() {\n\t\tfrappe.utils.load_video_player();\n\t\tthis.new && (await this.get_onboarding_data());\n\t\tthis.set_title();\n\t\tthis.set_actions();\n\t\tthis.set_body();\n\t\tthis.setup_events();\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tlabel: this.onboarding_name,\n\t\t};\n\t}\n\n\tmake_body() {\n\t\tthis.body.empty();\n\t\tthis.steps_wrapper = $(`<div class=\"onboarding-steps-wrapper\"></div>`).appendTo(this.body);\n\t\tthis.step_preview = $(`<div class=\"onboarding-step-preview\">\n\t\t\t<div class=\"onboarding-step-body\"></div>\n\t\t\t<div class=\"onboarding-step-footer\"></div>\n\t\t</div>`).appendTo(this.body);\n\n\t\tthis.step_body = this.step_preview.find(\".onboarding-step-body\");\n\t\tthis.step_footer = this.step_preview.find(\".onboarding-step-footer\");\n\n\t\tthis.steps.forEach((step, index) => {\n\t\t\tthis.add_step(step, index);\n\t\t});\n\n\t\tlet first_incomplete_step = this.steps.findIndex((s) => !s.is_skipped && !s.is_complete);\n\n\t\tif (first_incomplete_step == -1) {\n\t\t\tfirst_incomplete_step = 0;\n\t\t}\n\n\t\tthis.show_step(this.steps[first_incomplete_step]);\n\t}\n\n\tadd_step(step, index) {\n\t\tlet status = \"pending\";\n\n\t\tif (step.is_skipped) status = \"skipped\";\n\t\tif (step.is_complete) status = \"complete\";\n\n\t\tlet $step = $(`<a class=\"onboarding-step ${status}\">\n\t\t\t\t<div class=\"step-title\">\n\t\t\t\t\t<div class=\"step-index step-pending\">${frappe.utils.icon(\n\t\t\t\t\t\t\"es-line-success\",\n\t\t\t\t\t\t\"md\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"step-icon\"\n\t\t\t\t\t)}</div>\n\t\t\t\t\t<div class=\"step-index step-skipped\">${frappe.utils.icon(\n\t\t\t\t\t\t\"es-line-close-circle\",\n\t\t\t\t\t\t\"md\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"--icon-stroke: var(--gray-600);\",\n\t\t\t\t\t\t\"step-icon\"\n\t\t\t\t\t)}</div>\n\t\t\t\t\t<div class=\"step-index step-complete\">${frappe.utils.icon(\n\t\t\t\t\t\t\"es-solid-success\",\n\t\t\t\t\t\t\"md\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"\",\n\t\t\t\t\t\t\"step-icon\"\n\t\t\t\t\t)}</div>\n\t\t\t\t\t<div class=\"step-text\">${__(step.title)}</div>\n\t\t\t\t</div>\n\t\t\t</a>`);\n\n\t\tstep.$step = $step;\n\n\t\t// Add skip button\n\t\tif (!step.is_complete && !step.is_skipped) {\n\t\t\tlet skip_html = $(`<div class=\"step-skip\">${__(\"Skip\")}</div>`);\n\n\t\t\tskip_html.appendTo($step);\n\t\t\tskip_html.on(\"click\", () => {\n\t\t\t\tthis.skip_step(step);\n\t\t\t\tevent.stopPropagation();\n\t\t\t});\n\t\t}\n\t\t$step.on(\"click\", () => this.show_step(step));\n\t\t$step.appendTo(this.steps_wrapper);\n\n\t\treturn $step;\n\t}\n\n\tshow_step(step) {\n\t\tthis.active_step && this.active_step.$step.removeClass(\"active\");\n\n\t\tstep.$step.addClass(\"active\");\n\t\tthis.active_step = step;\n\n\t\tlet actions = {\n\t\t\t\"Watch Video\": (step) => this.show_video(step),\n\t\t\t\"Create Entry\": (step) => {\n\t\t\t\tif (step.is_complete) {\n\t\t\t\t\tfrappe.set_route(`/app/List/${step.reference_document}`);\n\t\t\t\t} else {\n\t\t\t\t\tif (step.show_full_form) {\n\t\t\t\t\t\tthis.create_entry(step);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.show_quick_entry(step);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"Show Form Tour\": (step) => this.show_form_tour(step),\n\t\t\t\"Update Settings\": (step) => this.update_settings(step),\n\t\t\t\"View Report\": (step) => this.open_report(step),\n\t\t\t\"Go to Page\": (step) => this.go_to_page(step),\n\t\t};\n\n\t\tconst toggle_content = () => {\n\t\t\tthis.step_body.empty();\n\t\t\tthis.step_footer.empty();\n\t\t\tset_description();\n\n\t\t\tif (step.intro_video_url) {\n\t\t\t\t$(`<button class=\"btn btn-default btn-sm\">${__(\"Watch Tutorial\")}</button>`)\n\t\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t\t.on(\"click\", toggle_video);\n\t\t\t} else {\n\t\t\t\t$(\n\t\t\t\t\t`<button class=\"btn btn-default btn-sm\">${__(\n\t\t\t\t\t\tstep.action_label || step.action\n\t\t\t\t\t)}</button>`\n\t\t\t\t)\n\t\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t\t.on(\"click\", () => actions[step.action](step));\n\t\t\t}\n\t\t};\n\n\t\tconst set_description = () => {\n\t\t\tlet content = step.description\n\t\t\t\t? frappe.markdown(step.description)\n\t\t\t\t: `<h1>${__(step.title)}</h1>`;\n\n\t\t\tif (step.action === \"Create Entry\") {\n\t\t\t\t// add a secondary action to view list\n\t\t\t\tcontent += `<p>\n\t\t\t\t\t<a href='/app/${frappe.router.slug(step.reference_document)}'>\n\t\t\t\t\t\t${__(\"Show {0} List\", [__(step.reference_document)])}</a>\n\t\t\t\t</p>`;\n\t\t\t}\n\n\t\t\tthis.step_body.html(content);\n\t\t};\n\n\t\tconst toggle_video = () => {\n\t\t\tthis.step_body.empty();\n\t\t\tthis.step_footer.empty();\n\n\t\t\tconst video = $(\n\t\t\t\t`<div class=\"video-player\" data-plyr-provider=\"youtube\" data-plyr-embed-id=\"${step.intro_video_url}\"></div>`\n\t\t\t);\n\t\t\tvideo.appendTo(this.step_body);\n\t\t\tlet plyr = new frappe.Plyr(video[0], {\n\t\t\t\thideControls: true,\n\t\t\t\tresetOnEnd: true,\n\t\t\t});\n\n\t\t\t$(\n\t\t\t\t`<button class=\"btn btn-primary btn-sm\">${__(\n\t\t\t\t\tstep.action_label || step.action\n\t\t\t\t)}</button>`\n\t\t\t)\n\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t.on(\"click\", () => {\n\t\t\t\t\tplyr.pause();\n\t\t\t\t\tactions[step.action](step);\n\t\t\t\t});\n\n\t\t\t// Fire only once, on hashchange\n\t\t\t$(window).one(\"hashchange\", () => {\n\t\t\t\tplyr.pause();\n\t\t\t});\n\n\t\t\t$(`<button class=\"btn btn-secondary ml-2 btn-sm\">${__(\"Back\")}</button>`)\n\t\t\t\t.appendTo(this.step_footer)\n\t\t\t\t.on(\"click\", toggle_content);\n\t\t};\n\n\t\ttoggle_content();\n\t}\n\n\tgo_to_page(step) {\n\t\tthis.mark_complete(step);\n\t\tfrappe.set_route(step.path).then(() => {\n\t\t\tlet message =\n\t\t\t\tstep.callback_message ||\n\t\t\t\t__(\"You can continue with the onboarding after exploring this page\");\n\t\t\tlet title = step.callback_title || __(\"Awesome Work\");\n\n\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\tmessage: message,\n\t\t\t\ttitle: title,\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t},\n\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t},\n\t\t\t\twide: true,\n\t\t\t});\n\t\t});\n\t}\n\n\topen_report(step) {\n\t\tlet route = frappe.utils.generate_route({\n\t\t\tname: step.reference_report,\n\t\t\ttype: \"report\",\n\t\t\tis_query_report: step.report_type !== \"Report Builder\",\n\t\t\tdoctype: step.report_reference_doctype,\n\t\t});\n\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.set_route(route).then(() => {\n\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\tmessage: __(step.report_description),\n\t\t\t\ttitle: __(step.reference_report),\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t},\n\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t},\n\t\t\t\tsecondary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Go Back\"),\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tfrappe.msg_dialog.custom_onhide = () => this.mark_complete(step);\n\t\t});\n\t}\n\n\tshow_form_tour(step) {\n\t\tlet route;\n\t\tif (step.is_single) {\n\t\t\troute = frappe.router.slug(step.reference_document);\n\t\t} else {\n\t\t\troute = `${frappe.router.slug(step.reference_document)}/new`;\n\t\t}\n\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tconst on_finish = () => {\n\t\t\t\tlet msg_dialog = frappe.msgprint({\n\t\t\t\t\tmessage: __(\"Let's take you back to onboarding\"),\n\t\t\t\t\ttitle: __(\"Onboarding complete\"),\n\t\t\t\t\tprimary_action: {\n\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tmsg_dialog.hide();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabel: () => __(\"Continue\"),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t};\n\t\t\tconst tour_name = step.form_tour;\n\t\t\tfrm.tour.init({ tour_name, on_finish }).then(() => frm.tour.start());\n\t\t};\n\n\t\tfrappe.set_route(route);\n\t}\n\n\tupdate_settings(step) {\n\t\tlet current_route = frappe.get_route();\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tfrm.scroll_to_field(step.field);\n\t\t\tfrm.doc.__unsaved = true;\n\t\t};\n\n\t\tfrappe.route_hooks.after_save = (frm) => {\n\t\t\tlet success = false;\n\t\t\tlet args = {};\n\n\t\t\tlet value = frm.doc[step.field];\n\t\t\tlet custom_onhide = null;\n\n\t\t\tif (value && step.value_to_validate == \"%\") success = true;\n\t\t\tif (value == step.value_to_validate) success = true;\n\t\t\tif (cstr(value) == cstr(step.value_to_validate)) success = true;\n\n\t\t\tif (success) {\n\t\t\t\targs.message = __(\"Let's take you back to onboarding\");\n\t\t\t\targs.title = __(\"Action Complete\");\n\t\t\t\targs.primary_action = {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t};\n\n\t\t\t\tcustom_onhide = () => args.primary_action.action();\n\t\t\t} else {\n\t\t\t\targs.message = __(\"Looks like you didn't change the value\");\n\t\t\t\targs.title = __(\"Try Again\");\n\t\t\t\targs.secondary_action = {\n\t\t\t\t\taction: () => frappe.set_route(current_route),\n\t\t\t\t\tlabel: __(\"Go Back\"),\n\t\t\t\t};\n\n\t\t\t\targs.primary_action = {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.skip_step(step);\n\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Skip Step\"),\n\t\t\t\t};\n\n\t\t\t\tcustom_onhide = () => args.secondary_action.action();\n\t\t\t}\n\n\t\t\tfrappe.msgprint(args);\n\t\t\tfrappe.msg_dialog.custom_onhide = () => custom_onhide();\n\t\t};\n\n\t\tfrappe.set_route(\"Form\", step.reference_document);\n\t}\n\n\tasync create_entry(step) {\n\t\tlet current_route = frappe.get_route();\n\t\tlet docname = await this.get_first_document(step.reference_document);\n\n\t\tfrappe.route_hooks = {};\n\t\tfrappe.route_hooks.after_load = (frm) => {\n\t\t\tconst on_finish = () => {\n\t\t\t\tfrappe.msgprint({\n\t\t\t\t\tmessage: __(\"Awesome, now try making an entry yourself\"),\n\t\t\t\t\ttitle: __(\"Document Saved\"),\n\t\t\t\t\tprimary_action: {\n\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tfrappe.msg_dialog.custom_onhide = () => {\n\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t};\n\t\t\t};\n\t\t\tconst tour_name = step.form_tour;\n\t\t\tfrm.tour.init({ tour_name, on_finish }).then(() => frm.tour.start());\n\t\t};\n\n\t\tlet callback = () => {\n\t\t\tfrappe.msgprint({\n\t\t\t\tmessage: __(\"Let's take you back to onboarding\"),\n\t\t\t\ttitle: __(\"Action Complete\"),\n\t\t\t\tprimary_action: {\n\t\t\t\t\taction: () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tfrappe.msg_dialog.custom_onhide = () => {\n\t\t\t\tthis.mark_complete(step);\n\t\t\t};\n\t\t};\n\n\t\tif (step.is_submittable) {\n\t\t\tfrappe.route_hooks.after_save = () => {\n\t\t\t\tfrappe.msgprint({\n\t\t\t\t\tmessage: __(\"Submit this document to complete this step.\"),\n\t\t\t\t\ttitle: __(\"Document Saved\"),\n\t\t\t\t});\n\t\t\t};\n\t\t\tfrappe.route_hooks.after_submit = callback;\n\t\t} else {\n\t\t\tfrappe.route_hooks.after_save = callback;\n\t\t}\n\n\t\tfrappe.set_route(\"Form\", step.reference_document, docname);\n\t}\n\n\tshow_quick_entry(step) {\n\t\tlet current_route = frappe.get_route_str();\n\t\tfrappe.ui.form.make_quick_entry(\n\t\t\tstep.reference_document,\n\t\t\t() => {\n\t\t\t\tif (frappe.get_route_str() != current_route) {\n\t\t\t\t\tlet success_dialog = frappe.msgprint({\n\t\t\t\t\t\tmessage: __(\"Let's take you back to onboarding\"),\n\t\t\t\t\t\ttitle: __(\"Document Saved\"),\n\t\t\t\t\t\tprimary_action: {\n\t\t\t\t\t\t\taction: () => {\n\t\t\t\t\t\t\t\tsuccess_dialog.hide();\n\t\t\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlabel: __(\"Continue\"),\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tfrappe.msg_dialog.custom_onhide = () => {\n\t\t\t\t\t\tfrappe.set_route(current_route).then(() => {\n\t\t\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.show_alert(\n\t\t\t\t\t\t__(\"Document Saved\") + \"<br>\" + __(\"Let us continue with the onboarding\")\n\t\t\t\t\t);\n\t\t\t\t\tthis.mark_complete(step);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnull,\n\t\t\tnull,\n\t\t\ttrue\n\t\t);\n\t}\n\n\tshow_video(step) {\n\t\tfrappe.help.show_video(step.video_url, step.title);\n\t\tthis.mark_complete(step);\n\t}\n\n\tmark_complete(step) {\n\t\tlet $step = step.$step;\n\n\t\tlet callback = () => {\n\t\t\tstep.is_complete = true;\n\t\t\t$step.removeClass(\"skipped\");\n\t\t\t$step.addClass(\"complete\");\n\t\t};\n\n\t\tthis.update_step_status(step, \"is_complete\", 1, callback);\n\t\tthis.activate_next_step(step);\n\t}\n\n\tskip_step(step) {\n\t\tlet $step = step.$step;\n\n\t\tlet callback = () => {\n\t\t\tstep.is_skipped = true;\n\t\t\t$step.removeClass(\"complete\");\n\t\t\t$step.removeClass(\"pending\");\n\t\t\t$step.addClass(\"skipped\");\n\t\t};\n\n\t\tthis.update_step_status(step, \"is_skipped\", 1, callback);\n\t\tthis.activate_next_step(step);\n\t}\n\n\tactivate_next_step(step) {\n\t\tlet current_step_index = this.steps.findIndex((s) => s == step);\n\t\tlet next_step = this.steps[current_step_index + 1];\n\n\t\tif (!next_step) return;\n\n\t\tthis.show_step(next_step);\n\t}\n\n\tupdate_step_status(step, status, value, callback) {\n\t\tlet icon_class = {\n\t\t\tis_complete: \"complete\",\n\t\t\tis_skipped: \"skipped\",\n\t\t};\n\t\t//  Clear any hooks\n\t\tfrappe.route_hooks = {};\n\n\t\tfrappe\n\t\t\t.call(\"frappe.desk.desktop.update_onboarding_step\", {\n\t\t\t\tname: step.name,\n\t\t\t\tfield: status,\n\t\t\t\tvalue: value,\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tcallback();\n\n\t\t\t\tstep.$step\n\t\t\t\t\t.removeClass(\"pending\")\n\t\t\t\t\t.removeClass(\"complete\")\n\t\t\t\t\t.removeClass(\"skipped\")\n\t\t\t\t\t.addClass(icon_class[status]);\n\n\t\t\t\tlet pending = this.steps.filter((step) => {\n\t\t\t\t\treturn !(step.is_complete || step.is_skipped);\n\t\t\t\t});\n\n\t\t\t\tif (pending.length == 0) {\n\t\t\t\t\tthis.show_success();\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tshow_success() {\n\t\tlet success_message = this.success || __(\"You seem good to go!\");\n\t\tlet success_state_image =\n\t\t\tthis.success_state_image || \"/assets/frappe/images/ui-states/success-color.png\";\n\t\tlet documentation = \"\";\n\t\tif (this.docs_url) {\n\t\t\tdocumentation = __(\n\t\t\t\t'Congratulations on completing the module setup. If you want to learn more you can refer to the documentation <a target=\"_blank\" href=\"{0}\">here</a>.',\n\t\t\t\t[this.docs_url]\n\t\t\t);\n\t\t}\n\n\t\tlet success = $(`<div class=\"text-center onboarding-success\">\n\t\t\t\t\t<img src=\"${success_state_image}\" alt=\"Success State\" class=\"zoom-in success-state\">\n\t\t\t\t\t<h3>${success_message}</h3>\n\t\t\t\t\t<div class=\"text-muted\">${documentation}</div>\n\t\t\t\t\t<button class=\"btn btn-primary btn-sm\">${__(\"Continue\")}</button>\n\t\t\t</div>\n\t\t`);\n\n\t\tsuccess.find(\".btn\").on(\"click\", () => this.delete());\n\n\t\tthis.step_preview.empty();\n\t\tsuccess.appendTo(this.step_preview);\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"onboarding-widget-box\");\n\t\tif (this.is_dismissed()) {\n\t\t\tthis.widget.hide();\n\t\t} else {\n\t\t\tthis.make_body();\n\t\t}\n\t}\n\n\tis_dismissed() {\n\t\tif (this.in_customize_mode) return false;\n\n\t\tlet dismissed = JSON.parse(localStorage.getItem(\"dismissed-onboarding\") || \"{}\");\n\t\tif (Object.keys(dismissed).includes(this.title)) {\n\t\t\tlet last_hidden = new Date(dismissed[this.title]);\n\t\t\tlet today = new Date();\n\t\t\tlet diff = frappe.datetime.get_hour_diff(today, last_hidden);\n\t\t\treturn diff < 24;\n\t\t}\n\t\treturn false;\n\t}\n\n\tset_actions() {\n\t\tif (this.in_customize_mode) return;\n\n\t\tthis.action_area.empty();\n\t\tconst dismiss = $(\n\t\t\t`<div class=\"btn btn-sm btn-secondary small\" style=\"cursor:pointer;\">${__(\n\t\t\t\t\"Dismiss\",\n\t\t\t\tnull,\n\t\t\t\t\"Stop showing the onboarding widget.\"\n\t\t\t)}</div>`\n\t\t);\n\t\tdismiss.on(\"click\", () => {\n\t\t\tlet dismissed = JSON.parse(localStorage.getItem(\"dismissed-onboarding\") || \"{}\");\n\t\t\tdismissed[this.title] = frappe.datetime.now_datetime();\n\n\t\t\tlocalStorage.setItem(\"dismissed-onboarding\", JSON.stringify(dismissed));\n\t\t\tthis.delete(true, true);\n\t\t\tthis.widget.closest(\".ce-block\").hide();\n\t\t\tfrappe.telemetry.capture(\"dismissed_\" + frappe.scrub(this.title), \"frappe_onboarding\");\n\t\t});\n\t\tdismiss.appendTo(this.action_area);\n\t}\n\n\tget_onboarding_data() {\n\t\treturn frappe.model\n\t\t\t.with_doc(\"Module Onboarding\", this.onboarding_name)\n\t\t\t.then((onboarding_doc) => {\n\t\t\t\tif (onboarding_doc) {\n\t\t\t\t\tthis.onboarding_doc = onboarding_doc;\n\t\t\t\t\tthis.label = onboarding_doc.label;\n\t\t\t\t\tthis.title = onboarding_doc.title || __(\"Let's Get Started\");\n\t\t\t\t\tthis.subtitle = onboarding_doc.subtitle;\n\t\t\t\t\tthis.success = onboarding_doc.success;\n\t\t\t\t\tthis.docs_url = onboarding_doc.docs_url;\n\t\t\t\t\tthis.user_can_dismiss = onboarding_doc.user_can_dismiss;\n\t\t\t\t\tconst method =\n\t\t\t\t\t\t\"frappe.desk.doctype.onboarding_step.onboarding_step.get_onboarding_steps\";\n\t\t\t\t\treturn frappe\n\t\t\t\t\t\t.xcall(method, { ob_steps: onboarding_doc.steps })\n\t\t\t\t\t\t.then((steps) => {\n\t\t\t\t\t\t\tthis.steps = steps;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tasync get_first_document(doctype) {\n\t\tconst { message } = await frappe.db.get_value(\n\t\t\t\"Form Tour\",\n\t\t\t{ reference_doctype: doctype },\n\t\t\t[\"first_document\"]\n\t\t);\n\t\tlet docname;\n\n\t\tif (message.first_document) {\n\t\t\tawait frappe.db.get_list(doctype, { order_by: \"creation\" }).then((res) => {\n\t\t\t\tif (Array.isArray(res) && res.length) docname = res[0].name;\n\t\t\t});\n\t\t}\n\n\t\treturn docname || \"new\";\n\t}\n}\n", "import OnboardingWidget from '../../../../../frappe/frappe/public/js/frappe/widgets/onboarding_widget.js'\n\nclass MyOnboardingWidget extends OnboardingWidget {\n\tshow_step(step){\n\t\tstep.description = __(step.description);\n\t\tstep.title = __(step.title);\n    \tsuper.show_step(step);\n\t}\n}\n\nfrappe.widget.widget_factory.onboarding = MyOnboardingWidget\n", "import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.utils\");\n\nexport default class NumberCardWidget extends Widget {\n\tconstructor(opts) {\n\t\topts.shadow = true;\n\t\tsuper(opts);\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tnumber_card_name: this.number_card_name,\n\t\t\tlabel: this.label,\n\t\t\tcolor: this.color,\n\t\t\thidden: this.hidden,\n\t\t};\n\t}\n\n\trefresh() {\n\t\tthis.set_body();\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"number-widget-box\");\n\t\tthis.make_card();\n\t}\n\n\tmake_card() {\n\t\tfrappe.model.with_doc(\"Number Card\", this.number_card_name || this.name).then((card) => {\n\t\t\tif (!card) {\n\t\t\t\tif (this.document_type) {\n\t\t\t\t\tfrappe.run_serially([\n\t\t\t\t\t\t() => this.create_number_card(),\n\t\t\t\t\t\t() => this.render_card(),\n\t\t\t\t\t]);\n\t\t\t\t} else {\n\t\t\t\t\t// widget doesn't exist so delete\n\t\t\t\t\tthis.delete(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.card_doc = card;\n\t\t\t\tthis.render_card();\n\t\t\t}\n\n\t\t\tthis.set_events();\n\t\t});\n\t}\n\n\tcreate_number_card() {\n\t\tthis.set_doc_args();\n\t\treturn frappe\n\t\t\t.xcall(\"frappe.desk.doctype.number_card.number_card.create_number_card\", {\n\t\t\t\targs: this.card_doc,\n\t\t\t})\n\t\t\t.then((doc) => {\n\t\t\t\tthis.name = doc.name;\n\t\t\t\tthis.card_doc = doc;\n\t\t\t\tthis.widget.attr(\"data-widget-name\", this.name);\n\t\t\t});\n\t}\n\n\tset_events() {\n\t\t$(this.body).click(() => {\n\t\t\tif (this.in_customize_mode) return;\n\t\t\tthis.set_route();\n\t\t});\n\t}\n\n\tset_route() {\n\t\tif (this.card_doc.type === \"Custom\") {\n\t\t\tthis.set_route_for_custom_card();\n\t\t\treturn;\n\t\t}\n\n\t\tconst is_document_type = this.card_doc.type !== \"Report\";\n\t\tconst name = is_document_type ? this.card_doc.document_type : this.card_doc.report_name;\n\t\tconst route = frappe.utils.generate_route({\n\t\t\tname: name,\n\t\t\ttype: is_document_type ? \"doctype\" : \"report\",\n\t\t\tis_query_report: !is_document_type,\n\t\t});\n\n\t\tif (is_document_type) {\n\t\t\tconst filters = JSON.parse(this.card_doc.filters_json);\n\t\t\tfrappe.route_options = filters.reduce((acc, filter) => {\n\t\t\t\treturn Object.assign(acc, {\n\t\t\t\t\t[`${filter[0]}.${filter[1]}`]: [filter[2], filter[3]],\n\t\t\t\t});\n\t\t\t}, {});\n\t\t}\n\n\t\tfrappe.set_route(route);\n\t}\n\n\tset_route_for_custom_card() {\n\t\tif (!this.data?.route) return;\n\n\t\tif (this.data.route_options) {\n\t\t\tfrappe.route_options = this.data.route_options;\n\t\t}\n\n\t\tfrappe.set_route(this.data.route);\n\t}\n\n\tset_doc_args() {\n\t\tthis.card_doc = Object.assign(\n\t\t\t{},\n\t\t\t{\n\t\t\t\tdocument_type: this.document_type,\n\t\t\t\tlabel: this.label,\n\t\t\t\tfunction: this.function,\n\t\t\t\taggregate_function_based_on: this.aggregate_function_based_on,\n\t\t\t\tcolor: this.color,\n\t\t\t\tfilters_json: this.stats_filter,\n\t\t\t}\n\t\t);\n\t}\n\n\tget_settings(type) {\n\t\tthis.filters = this.get_filters();\n\t\tconst settings_map = {\n\t\t\tCustom: {\n\t\t\t\tmethod: this.card_doc.method,\n\t\t\t\targs: {\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t},\n\t\t\t\tget_number: (res) => this.get_number_for_custom_card(res),\n\t\t\t},\n\t\t\tReport: {\n\t\t\t\tmethod: \"frappe.desk.query_report.run\",\n\t\t\t\targs: {\n\t\t\t\t\treport_name: this.card_doc.report_name,\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t\tignore_prepared_report: 1,\n\t\t\t\t},\n\t\t\t\tget_number: (res) => this.get_number_for_report_card(res),\n\t\t\t},\n\t\t\t\"Document Type\": {\n\t\t\t\tmethod: \"frappe.desk.doctype.number_card.number_card.get_result\",\n\t\t\t\targs: {\n\t\t\t\t\tdoc: this.card_doc,\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t},\n\t\t\t\tget_number: (res) => this.get_number_for_doctype_card(res),\n\t\t\t},\n\t\t};\n\t\treturn settings_map[type];\n\t}\n\n\tget_filters() {\n\t\treturn frappe.dashboard_utils.get_all_filters(this.card_doc);\n\t}\n\n\tasync render_card() {\n\t\tthis.prepare_actions();\n\t\tthis.set_title();\n\t\tthis.set_loading_state();\n\n\t\tif (!this.card_doc.type) {\n\t\t\tthis.card_doc.type = \"Document Type\";\n\t\t}\n\n\t\tthis.settings = this.get_settings(this.card_doc.type);\n\t\tawait this.get_data();\n\n\t\tthis.render_number();\n\t\tthis.render_stats();\n\t}\n\n\tset_loading_state() {\n\t\t$(this.body).html(`<div class=\"number-card-loading text-muted\">\n\t\t\t${__(\"Loading...\")}\n\t\t</div>`);\n\t}\n\n\tasync get_data() {\n\t\tthis.data = await frappe.xcall(this.settings.method, this.settings.args);\n\t\treturn this.settings.get_number(this.data);\n\t}\n\n\tget_number_for_custom_card(res) {\n\t\tif (typeof res === \"object\") {\n\t\t\tthis.number = res.value;\n\t\t\tthis.set_formatted_number(res);\n\t\t} else {\n\t\t\tthis.formatted_number = res;\n\t\t}\n\t}\n\n\tget_number_for_doctype_card(res) {\n\t\tthis.number = res;\n\t\tif (this.card_doc.function !== \"Count\") {\n\t\t\treturn frappe.model.with_doctype(this.card_doc.document_type, () => {\n\t\t\t\tconst based_on_df = frappe.meta.get_docfield(\n\t\t\t\t\tthis.card_doc.document_type,\n\t\t\t\t\tthis.card_doc.aggregate_function_based_on\n\t\t\t\t);\n\t\t\t\tthis.set_formatted_number(based_on_df);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.formatted_number = res;\n\t\t}\n\t}\n\n\tget_number_for_report_card(res) {\n\t\tconst field = this.card_doc.report_field;\n\t\tconst vals = res.result.reduce((acc, col) => {\n\t\t\tcol[field] && acc.push(col[field]);\n\t\t\treturn acc;\n\t\t}, []);\n\t\tconst col = res.columns.find((col) => col.fieldname == field);\n\t\tthis.number = frappe.report_utils.get_result_of_fn(this.card_doc.report_function, vals);\n\t\tthis.set_formatted_number(col);\n\t}\n\n\tset_formatted_number(df) {\n\t\tconst default_country = frappe.sys_defaults.country;\n\t\tconst shortened_number = frappe.utils.shorten_number(this.number, default_country, 5);\n\t\tlet number_parts = shortened_number.split(\" \");\n\n\t\tconst symbol = number_parts[1] || \"\";\n\t\tnumber_parts[0] = window.convert_old_to_new_number_format(number_parts[0]);\n\t\tconst formatted_number = $(frappe.format(number_parts[0], df)).text();\n\n\t\tthis.formatted_number = formatted_number + \" \" + __(symbol);\n\t}\n\n\trender_number() {\n\t\tconst style_attr = this.card_doc.color ? `style=\"color: ${this.card_doc.color};\"` : \"\";\n\n\t\t$(this.body).html(`<div class=\"widget-content\">\n\t\t\t<div class=\"number\" ${style_attr}>${this.formatted_number}</div>\n\t\t\t</div>`);\n\t}\n\n\trender_stats() {\n\t\tif (this.card_doc.type !== \"Document Type\" || !this.card_doc.show_percentage_stats) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet caret_html = \"\";\n\t\tlet color_class = \"\";\n\n\t\treturn this.get_percentage_stats().then(() => {\n\t\t\tif (this.percentage_stat == 0 || this.percentage_stat == undefined) {\n\t\t\t\tcolor_class = \"grey-stat\";\n\t\t\t} else if (this.percentage_stat > 0) {\n\t\t\t\tcaret_html = `<span class=\"indicator-pill-round green\">\n\t\t\t\t\t\t${frappe.utils.icon(\"es-line-arrow-up-right\", \"xs\")}\n\t\t\t\t\t</span>`;\n\t\t\t\tcolor_class = \"green-stat\";\n\t\t\t} else {\n\t\t\t\tcaret_html = `<span class=\"indicator-pill-round red\">\n\t\t\t\t\t\t${frappe.utils.icon(\"arrow-down-right\", \"xs\")}\n\t\t\t\t\t</span>`;\n\t\t\t\tcolor_class = \"red-stat\";\n\t\t\t}\n\n\t\t\tconst stats_qualifier_map = {\n\t\t\t\tDaily: __(\"since yesterday\"),\n\t\t\t\tWeekly: __(\"since last week\"),\n\t\t\t\tMonthly: __(\"since last month\"),\n\t\t\t\tYearly: __(\"since last year\"),\n\t\t\t};\n\t\t\tconst stats_qualifier = stats_qualifier_map[this.card_doc.stats_time_interval];\n\n\t\t\tlet stat = (() => {\n\t\t\t\tif (this.percentage_stat == undefined) return NaN;\n\t\t\t\tconst parts = this.percentage_stat.split(\" \");\n\t\t\t\tconst symbol = parts[1] || \"\";\n\t\t\t\treturn Math.abs(parts[0]) + \" \" + symbol;\n\t\t\t})();\n\n\t\t\t// don't show stats if not valid number - skip showing `NaN %` in card\n\t\t\tif (isNaN(stat)) return;\n\n\t\t\t$(this.body).find(\".widget-content\").append(`<div class=\"card-stats ${color_class}\">\n\t\t\t\t<span class=\"percentage-stat-area\">\n\t\t\t\t\t${caret_html} ${stat} % ${stats_qualifier}\n\t\t\t\t</span>\n\t\t\t</div>`);\n\t\t});\n\t}\n\n\tget_percentage_stats() {\n\t\treturn frappe\n\t\t\t.xcall(\"frappe.desk.doctype.number_card.number_card.get_percentage_difference\", {\n\t\t\t\tdoc: this.card_doc,\n\t\t\t\tfilters: this.filters,\n\t\t\t\tresult: this.number,\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res !== undefined) {\n\t\t\t\t\tthis.percentage_stat = frappe.utils.shorten_number(res);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tprepare_actions() {\n\t\tif (this.in_customize_mode) return;\n\n\t\tlet actions = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Refresh\"),\n\t\t\t\taction: \"action-refresh\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.render_card();\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Edit\"),\n\t\t\t\taction: \"action-edit\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tlet number_card = this.number_card_name || this.name;\n\t\t\t\t\tfrappe.set_route(\"Form\", \"Number Card\", number_card);\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tthis.set_card_actions(actions);\n\t}\n\n\tset_card_actions(actions) {\n\t\tthis.card_actions = $(`<div class=\"card-actions dropdown pull-right\">\n\t\t\t\t<a data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t...\n\t\t\t\t</a>\n\t\t\t\t<ul class=\"dropdown-menu\" style=\"max-height: 300px; overflow-y: auto;\">\n\t\t\t\t\t${actions\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(action) =>\n\t\t\t\t\t\t\t\t`<li class=\"dropdown-item\">\n\t\t\t\t\t\t\t\t\t<a data-action=\"${action.action}\">${action.label}</a>\n\t\t\t\t\t\t\t\t</li>`\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join(\"\")}\n\t\t\t\t</ul>\n\t\t\t</div>`);\n\n\t\tthis.card_actions.find(\"a[data-action]\").each((i, o) => {\n\t\t\tconst action = o.dataset.action;\n\t\t\t$(o).click(actions.find((a) => a.action === action));\n\t\t});\n\n\t\tthis.action_area.html(this.card_actions);\n\t}\n}\n", "import NumberCardWidget from '../../../../../frappe/frappe/public/js/frappe/widgets/number_card_widget.js'\n\nclass MyNumberCardWidget extends NumberCardWidget {\n\tset_title() {\n\t\t$(this.title_field).html(`<div class=\"number-label\">${__(this.card_doc.label)}</div>`);\n\t}\n}\n\nfrappe.widget.widget_factory.number_card = MyNumberCardWidget", "import Widget from \"./base_widget.js\";\n\nfrappe.provide(\"frappe.widget.utils\");\nfrappe.provide(\"frappe.dashboards\");\nfrappe.provide(\"frappe.dashboards.chart_sources\");\n\nexport default class ChartWidget extends Widget {\n\tconstructor(opts) {\n\t\topts.shadow = true;\n\t\tsuper(opts);\n\t\tthis.height = this.height || 240;\n\t}\n\n\tget_config() {\n\t\treturn {\n\t\t\tname: this.name,\n\t\t\tchart_name: this.chart_name,\n\t\t\tlabel: this.label,\n\t\t\thidden: this.hidden,\n\t\t\twidth: this.width,\n\t\t};\n\t}\n\n\trefresh() {\n\t\tdelete this.dashboard_chart;\n\t\tthis.set_body();\n\t\tthis.make_chart();\n\t}\n\n\tset_chart_title() {\n\t\tconst max_chars = this.widget.width() < 600 ? 40 : 60;\n\t\tthis.set_title(max_chars);\n\t}\n\n\tset_body() {\n\t\tthis.widget.addClass(\"dashboard-widget-box\");\n\t\tif (this.width == \"Full\") {\n\t\t\tthis.widget.addClass(\"full-width\");\n\t\t}\n\t}\n\n\tsetup_container() {\n\t\tthis.body.empty();\n\n\t\tif (this.chart_doc.type == \"Heatmap\") {\n\t\t\tthis.setup_heatmap_container();\n\t\t}\n\n\t\tthis.loading = $(\n\t\t\t`<div class=\"chart-loading-state text-muted\" style=\"height: ${this.height}px;\">${__(\n\t\t\t\t\"Loading...\"\n\t\t\t)}</div>`\n\t\t);\n\t\tthis.loading.appendTo(this.body);\n\n\t\tthis.empty = $(\n\t\t\t`<div class=\"chart-loading-state text-muted\" style=\"height: ${this.height}px;\">${__(\n\t\t\t\t\"No Data\"\n\t\t\t)}</div>`\n\t\t);\n\t\tthis.empty.hide().appendTo(this.body);\n\n\t\tthis.chart_wrapper = $(`<div></div>`);\n\t\tthis.chart_wrapper.appendTo(this.body);\n\n\t\tthis.$heatmap_legend = null;\n\t\tthis.set_chart_title();\n\t}\n\n\tsetup_heatmap_container() {\n\t\tthis.widget.addClass(\"heatmap-chart\");\n\t\tthis.widget.removeClass(\"full-width\").addClass(\"full-width\");\n\t\tthis.width = \"Full\";\n\t}\n\n\tset_summary() {\n\t\tif (!this.$summary) {\n\t\t\tthis.$summary = $(`<div class=\"report-summary\"></div>`).hide();\n\t\t\tthis.head.after(this.$summary);\n\t\t} else {\n\t\t\tthis.$summary.empty();\n\t\t}\n\n\t\tthis.summary.forEach((summary) => {\n\t\t\tfrappe.utils.build_summary_item(summary).appendTo(this.$summary);\n\t\t});\n\t\tthis.summary.length && this.$summary.show();\n\t}\n\n\tmake_chart() {\n\t\tthis.get_settings().then(() => {\n\t\t\tif (!this.settings) {\n\t\t\t\tthis.deleted = true;\n\t\t\t\tthis.widget.remove();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.chart_settings) {\n\t\t\t\tthis.chart_settings = {};\n\t\t\t}\n\t\t\tthis.setup_container();\n\t\t\tif (!this.in_customize_mode) {\n\t\t\t\tthis.action_area.empty();\n\t\t\t\tthis.prepare_chart_actions();\n\n\t\t\t\tif (this.chart_doc.timeseries) {\n\t\t\t\t\tthis.render_time_series_filters();\n\t\t\t\t}\n\t\t\t}\n\t\t\tfrappe.run_serially([\n\t\t\t\t() => this.prepare_chart_object(),\n\t\t\t\t() => this.setup_filter_button(),\n\t\t\t\t() => this.fetch_and_update_chart(),\n\t\t\t]);\n\t\t});\n\t}\n\n\trender_time_series_filters() {\n\t\tlet filters = this.get_time_series_filters();\n\t\tfrappe.dashboard_utils.render_chart_filters(filters, \"chart-actions\", this.action_area, 0);\n\t}\n\n\tget_time_series_filters() {\n\t\tlet filters;\n\t\tif (this.chart_doc.type == \"Heatmap\") {\n\t\t\tfilters = [\n\t\t\t\t{\n\t\t\t\t\tlabel: this.chart_settings.heatmap_year || this.chart_doc.heatmap_year,\n\t\t\t\t\toptions: frappe.dashboard_utils.get_years_since_creation(\n\t\t\t\t\t\tfrappe.boot.user.creation\n\t\t\t\t\t),\n\t\t\t\t\taction: (selected_item) => {\n\t\t\t\t\t\tthis.selected_heatmap_year = selected_item;\n\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\theatmap_year: this.selected_heatmap_year,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t];\n\t\t} else {\n\t\t\tfilters = [\n\t\t\t\t{\n\t\t\t\t\tlabel: this.chart_settings.time_interval || this.chart_doc.time_interval,\n\t\t\t\t\toptions: [\"Yearly\", \"Quarterly\", \"Monthly\", \"Weekly\", \"Daily\"],\n\t\t\t\t\ticon: \"calendar\",\n\t\t\t\t\tclass: \"time-interval-filter\",\n\t\t\t\t\taction: (selected_item) => {\n\t\t\t\t\t\tthis.selected_time_interval = selected_item;\n\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\ttime_interval: this.selected_time_interval,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: this.chart_settings.timespan || this.chart_doc.timespan,\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t\"Select Date Range\",\n\t\t\t\t\t\t\"Last Year\",\n\t\t\t\t\t\t\"Last Quarter\",\n\t\t\t\t\t\t\"Last Month\",\n\t\t\t\t\t\t\"Last Week\",\n\t\t\t\t\t],\n\t\t\t\t\tclass: \"timespan-filter\",\n\t\t\t\t\taction: (selected_item) => {\n\t\t\t\t\t\tthis.selected_timespan = selected_item;\n\n\t\t\t\t\t\tif (this.selected_timespan === \"Select Date Range\") {\n\t\t\t\t\t\t\tthis.render_date_range_field();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.selected_from_date = null;\n\t\t\t\t\t\t\tthis.selected_to_date = null;\n\t\t\t\t\t\t\tif (this.date_field_wrapper) {\n\t\t\t\t\t\t\t\tthis.date_field_wrapper.hide();\n\n\t\t\t\t\t\t\t\t// Title maybe hidden becuase of date range fields\n\t\t\t\t\t\t\t\t// in half width chart\n\t\t\t\t\t\t\t\tthis.title_field.show();\n\t\t\t\t\t\t\t\tthis.subtitle_field.show();\n\t\t\t\t\t\t\t\tthis.head.css(\"flex-direction\", \"row\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\t\ttimespan: this.selected_timespan,\n\t\t\t\t\t\t\t\tfrom_date: null,\n\t\t\t\t\t\t\t\tto_date: null,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t\treturn filters;\n\t}\n\n\tfetch_and_update_chart() {\n\t\tthis.args = {\n\t\t\ttimespan: this.selected_timespan || this.chart_settings.timespan,\n\t\t\ttime_interval: this.selected_time_interval || this.chart_settings.time_interval,\n\t\t\tfrom_date: this.selected_from_date || this.chart_settings.from_date,\n\t\t\tto_date: this.selected_to_date || this.chart_settings.to_date,\n\t\t\theatmap_year: this.selected_heatmap_year || this.chart_settings.heatmap_year,\n\t\t};\n\n\t\tthis.fetch(this.filters, true, this.args).then((data) => {\n\t\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\t\tthis.report_result = data;\n\t\t\t\tthis.summary = data.report_summary;\n\t\t\t\tdata = this.get_report_chart_data(data);\n\t\t\t}\n\n\t\t\tthis.update_chart_object();\n\t\t\tthis.data = data;\n\t\t\tthis.render();\n\t\t});\n\t}\n\n\trender_date_range_field() {\n\t\tif (!this.date_field_wrapper || !this.date_field_wrapper.is(\":visible\")) {\n\t\t\tthis.date_field_wrapper = $(\n\t\t\t\t`<div class=\"dashboard-date-field pull-right\"></div>`\n\t\t\t).insertAfter(this.action_area.find(\".timespan-filter\"));\n\n\t\t\tif (this.width !== \"Full\" && this.widget.width() < 700) {\n\t\t\t\tthis.title_field.hide();\n\t\t\t\tthis.subtitle_field.hide();\n\t\t\t\tthis.head.css(\"flex-direction\", \"row-reverse\");\n\t\t\t}\n\n\t\t\tthis.date_range_field = frappe.ui.form.make_control({\n\t\t\t\tdf: {\n\t\t\t\t\tfieldtype: \"DateRange\",\n\t\t\t\t\tfieldname: \"from_date\",\n\t\t\t\t\tplaceholder: \"Date Range\",\n\t\t\t\t\tinput_class: \"input-xs\",\n\t\t\t\t\tdefault: [this.chart_settings.from_date, this.chart_settings.to_date],\n\t\t\t\t\tvalue: [this.chart_settings.from_date, this.chart_settings.to_date],\n\t\t\t\t\treqd: 1,\n\t\t\t\t\tchange: () => {\n\t\t\t\t\t\tlet selected_date_range = this.date_range_field.get_value();\n\t\t\t\t\t\tthis.selected_from_date = selected_date_range[0];\n\t\t\t\t\t\tthis.selected_to_date = selected_date_range[1];\n\n\t\t\t\t\t\tif (selected_date_range && selected_date_range.length == 2) {\n\t\t\t\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\t\t\t\ttimespan: this.selected_timespan,\n\t\t\t\t\t\t\t\tfrom_date: this.selected_from_date,\n\t\t\t\t\t\t\t\tto_date: this.selected_to_date,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tparent: this.date_field_wrapper,\n\t\t\t\trender_input: 1,\n\t\t\t});\n\n\t\t\tthis.date_range_field.$input.focus();\n\t\t}\n\t}\n\n\tget_report_chart_data(result) {\n\t\tif (result.chart && this.chart_doc.use_report_chart) {\n\t\t\treturn result.chart.data;\n\t\t} else {\n\t\t\tlet y_fields = [];\n\t\t\tthis.chart_doc.y_axis.map((field) => {\n\t\t\t\ty_fields.push(field.y_field);\n\t\t\t});\n\n\t\t\tlet chart_fields = {\n\t\t\t\ty_fields: y_fields,\n\t\t\t\tx_field: this.chart_doc.x_field,\n\t\t\t\tchart_type: this.chart_doc.type,\n\t\t\t\tcolor: this.chart_doc.color,\n\t\t\t};\n\t\t\tlet columns = result.columns.map((col) => {\n\t\t\t\treturn frappe.report_utils.prepare_field_from_column(col);\n\t\t\t});\n\n\t\t\treturn frappe.report_utils.make_chart_options(columns, result, chart_fields).data;\n\t\t}\n\t}\n\n\tprepare_chart_actions() {\n\t\tlet actions = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Refresh\"),\n\t\t\t\taction: \"action-refresh\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tdelete this.dashboard_chart;\n\t\t\t\t\tthis.make_chart();\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Edit\"),\n\t\t\t\taction: \"action-edit\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\"Form\", \"Dashboard Chart\", this.chart_doc.name);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: __(\"Reset Chart\"),\n\t\t\t\taction: \"action-reset\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tthis.reset_chart();\n\t\t\t\t\tdelete this.dashboard_chart;\n\t\t\t\t\tthis.make_chart();\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tif (this.chart_doc.document_type) {\n\t\t\tactions.push({\n\t\t\t\tlabel: __(\"{0} List\", [this.chart_doc.document_type]),\n\t\t\t\taction: \"action-list\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\"List\", this.chart_doc.document_type);\n\t\t\t\t},\n\t\t\t});\n\t\t} else if (this.chart_doc.chart_type === \"Report\") {\n\t\t\tactions.push({\n\t\t\t\tlabel: __(\"{0} Report\", [this.chart_doc.report_name]),\n\t\t\t\taction: \"action-list\",\n\t\t\t\thandler: () => {\n\t\t\t\t\tfrappe.set_route(\"query-report\", this.chart_doc.report_name, this.filters);\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\tthis.set_chart_actions(actions);\n\t}\n\n\tsetup_filter_button() {\n\t\tif (this.in_customize_mode) return;\n\n\t\tthis.is_document_type =\n\t\t\tthis.chart_doc.chart_type !== \"Report\" && this.chart_doc.chart_type !== \"Custom\";\n\n\t\tthis.filter_button = $(\n\t\t\t`<div class=\"filter-chart btn btn-xs pull-right\">\n\t\t\t\t${frappe.utils.icon(\"filter\", \"sm\")}\n\t\t\t</div>`\n\t\t);\n\n\t\tthis.filter_button.appendTo(this.action_area);\n\n\t\tif (this.is_document_type) {\n\t\t\tif (this.filter_group) {\n\t\t\t\tthis.filters = this.filter_group.get_filters();\n\t\t\t}\n\t\t\tthis.create_filter_group_and_add_filters();\n\t\t} else {\n\t\t\tthis.filter_button.on(\"click\", () => {\n\t\t\t\tlet fields;\n\n\t\t\t\tfrappe.dashboard_utils\n\t\t\t\t\t.get_filters_for_chart_type(this.chart_doc)\n\t\t\t\t\t.then((filters) => {\n\t\t\t\t\t\tif (!this.is_document_type) {\n\t\t\t\t\t\t\tif (!filters) {\n\t\t\t\t\t\t\t\tfields = [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\t\t\t\t\t\toptions: __(\"No Filters Set\"),\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfields = filters\n\t\t\t\t\t\t\t\t\t.filter((df) => df.fieldname)\n\t\t\t\t\t\t\t\t\t.map((df) => {\n\t\t\t\t\t\t\t\t\t\tObject.assign(df, df.dashboard_config || {});\n\t\t\t\t\t\t\t\t\t\treturn df;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfields = [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfieldtype: \"HTML\",\n\t\t\t\t\t\t\t\t\tfieldname: \"filter_area\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.setup_filter_dialog(fields);\n\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tsetup_filter_dialog(fields) {\n\t\tlet me = this;\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\ttitle: __(\"Set Filters for {0}\", [this.chart_doc.chart_name]),\n\t\t\tfields: fields,\n\t\t\tprimary_action: function () {\n\t\t\t\tlet values = this.get_values();\n\t\t\t\tif (values) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tme.filters = values;\n\t\t\t\t\tme.save_chart_config_for_user({ filters: me.filters });\n\t\t\t\t\tme.fetch_and_update_chart();\n\t\t\t\t}\n\t\t\t},\n\t\t\tprimary_action_label: \"Set\",\n\t\t});\n\n\t\tdialog.show();\n\n\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\t//Set query report object so that it can be used while fetching filter values in the report\n\t\t\tfrappe.query_report = new frappe.views.QueryReport({ filters: dialog.fields_list });\n\t\t\tfrappe.query_reports[this.chart_doc.report_name].onload &&\n\t\t\t\tfrappe.query_reports[this.chart_doc.report_name].onload(frappe.query_report);\n\t\t}\n\t\tdialog.set_values(this.filters);\n\t}\n\n\treset_chart() {\n\t\tthis.save_chart_config_for_user(null, 1);\n\t\tthis.chart_settings = {};\n\t\tthis.filters = null;\n\t\tthis.selected_time_interval = null;\n\t\tthis.selected_timespan = null;\n\t\tthis.selected_heatmap_year = null;\n\t}\n\n\tsave_chart_config_for_user(config, reset = 0) {\n\t\tObject.assign(this.chart_settings, config);\n\t\tfrappe.xcall(\n\t\t\t\"frappe.desk.doctype.dashboard_settings.dashboard_settings.save_chart_config\",\n\t\t\t{\n\t\t\t\treset: reset,\n\t\t\t\tconfig: this.chart_settings,\n\t\t\t\tchart_name: this.chart_doc.chart_name,\n\t\t\t}\n\t\t);\n\t}\n\n\tcreate_filter_group_and_add_filters() {\n\t\tthis.filter_group = new frappe.ui.FilterGroup({\n\t\t\tdoctype: this.chart_doc.document_type,\n\t\t\tparent_doctype: this.chart_doc.parent_document_type,\n\t\t\tfilter_button: this.filter_button,\n\t\t\ton_change: () => {\n\t\t\t\tthis.filters = this.filter_group.get_filters();\n\t\t\t\tthis.save_chart_config_for_user({\n\t\t\t\t\tfilters: this.filters,\n\t\t\t\t});\n\t\t\t\tthis.fetch_and_update_chart();\n\t\t\t},\n\t\t});\n\n\t\tthis.filters &&\n\t\t\tfrappe.model.with_doctype(this.chart_doc.document_type, () => {\n\t\t\t\tthis.filter_group.add_filters_to_filter_group(this.filters);\n\t\t\t});\n\t}\n\n\tset_chart_actions(actions) {\n\t\tthis.chart_actions = $(`<div class=\"chart-actions dropdown pull-right\">\n\t\t\t<button data-toggle=\"dropdown\"\n\t\t\t\taria-haspopup=\"true\"aria-expanded=\"false\"\n\t\t\t\tclass=\"btn btn-xs btn-secondary chart-menu\"\n\t\t\t>\n\t\t\t\t<svg class=\"icon icon-sm\">\n\t\t\t\t\t<use href=\"#icon-dot-horizontal\">\n\t\t\t\t\t</use>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-right\">\n\t\t\t\t${actions\n\t\t\t\t\t.map(\n\t\t\t\t\t\t(action) =>\n\t\t\t\t\t\t\t`<li><a class=\"dropdown-item\" data-action=\"${action.action}\">${action.label}</a></li>`\n\t\t\t\t\t)\n\t\t\t\t\t.join(\"\")}\n\t\t\t</ul>\n\t\t</div>\n\t\t`);\n\t\t/* eslint-enable indent */\n\n\t\tthis.chart_actions.find(\"a[data-action]\").each((i, o) => {\n\t\t\tconst action = o.dataset.action;\n\t\t\t$(o).click(actions.find((a) => a.action === action));\n\t\t});\n\t\tthis.chart_actions.appendTo(this.action_area);\n\t}\n\n\tfetch(filters, refresh = false, args) {\n\t\tlet method = this.settings.method;\n\n\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\targs = {\n\t\t\t\treport_name: this.chart_doc.report_name,\n\t\t\t\tfilters: filters,\n\t\t\t\tignore_prepared_report: 1,\n\t\t\t};\n\t\t} else {\n\t\t\targs = {\n\t\t\t\tchart_name: this.chart_doc.name,\n\t\t\t\tfilters: filters,\n\t\t\t\trefresh: refresh ? 1 : 0,\n\t\t\t\ttime_interval: args && args.time_interval ? args.time_interval : null,\n\t\t\t\ttimespan: args && args.timespan ? args.timespan : null,\n\t\t\t\tfrom_date: args && args.from_date ? args.from_date : null,\n\t\t\t\tto_date: args && args.to_date ? args.to_date : null,\n\t\t\t\theatmap_year: args && args.heatmap_year ? args.heatmap_year : null,\n\t\t\t};\n\t\t}\n\t\treturn frappe.xcall(method, args);\n\t}\n\n\tasync get_source_doctype() {\n\t\tif (this.chart_doc.document_type) {\n\t\t\treturn this.chart_doc.document_type;\n\t\t}\n\t\tif (this.chart_doc.chart_type == \"Report\" && this.chart_doc.report_name) {\n\t\t\treturn await frappe.db\n\t\t\t\t.get_value(\"Report\", this.chart_doc.report_name, \"ref_doctype\")\n\t\t\t\t.then((r) => r.message.ref_doctype);\n\t\t}\n\t}\n\n\tasync render() {\n\t\tlet setup_dashboard_chart = () => {\n\t\t\tconst chart_args = this.get_chart_args();\n\n\t\t\tif (!this.dashboard_chart) {\n\t\t\t\tthis.dashboard_chart = frappe.utils.make_chart(this.chart_wrapper[0], chart_args);\n\t\t\t} else {\n\t\t\t\tthis.dashboard_chart.update(this.data);\n\t\t\t}\n\t\t};\n\n\t\tif (!this.data || !this.data.labels || !Object.keys(this.data).length) {\n\t\t\tthis.chart_wrapper.hide();\n\t\t\tthis.loading.hide();\n\t\t\tthis.$summary && this.$summary.hide();\n\t\t\tthis.empty.show();\n\t\t} else {\n\t\t\tthis.loading.hide();\n\t\t\tthis.empty.hide();\n\t\t\tthis.chart_wrapper.show();\n\t\t\tthis.chart_doc.document_type = await this.get_source_doctype();\n\n\t\t\tif (this.chart_doc.document_type) {\n\t\t\t\tfrappe.model.with_doctype(this.chart_doc.document_type, setup_dashboard_chart);\n\t\t\t} else {\n\t\t\t\tsetup_dashboard_chart();\n\t\t\t}\n\n\t\t\tthis.width == \"Full\" && this.summary && this.set_summary();\n\t\t\tthis.chart_doc.type == \"Heatmap\" && this.render_heatmap_legend();\n\t\t}\n\t}\n\n\tget_chart_args() {\n\t\tlet colors = this.get_chart_colors();\n\t\tlet fieldtype, options;\n\n\t\tconst chart_type_map = {\n\t\t\tLine: \"line\",\n\t\t\tBar: \"bar\",\n\t\t\tPercentage: \"percentage\",\n\t\t\tPie: \"pie\",\n\t\t\tDonut: \"donut\",\n\t\t\tHeatmap: \"heatmap\",\n\t\t};\n\n\t\tlet max_slices = [\"Pie\", \"Donut\"].includes(this.chart_doc.type) ? 6 : 9;\n\t\tlet chart_args = {\n\t\t\tdata: this.data,\n\t\t\ttype: chart_type_map[this.chart_doc.type],\n\t\t\tcolors: colors,\n\t\t\theight: this.height,\n\t\t\tmaxSlices: this.chart_doc.number_of_groups || max_slices,\n\t\t\taxisOptions: {\n\t\t\t\txIsSeries: this.chart_doc.timeseries,\n\t\t\t\tshortenYAxisNumbers: 1,\n\t\t\t},\n\t\t};\n\n\t\tif (this.chart_doc.document_type) {\n\t\t\tlet doctype_meta = frappe.get_meta(this.chart_doc.document_type);\n\t\t\tlet field = doctype_meta.fields.find(\n\t\t\t\t(x) => x.fieldname == this.chart_doc.value_based_on\n\t\t\t);\n\t\t\tfieldtype = field?.fieldtype;\n\t\t\toptions = field?.options;\n\t\t}\n\n\t\tif (this.chart_doc.chart_type == \"Report\" && this.report_result?.chart?.fieldtype) {\n\t\t\tfieldtype = this.report_result.chart.fieldtype;\n\t\t\toptions = this.report_result.chart.options;\n\t\t}\n\n\t\tchart_args.tooltipOptions = {\n\t\t\tformatTooltipY: (value) =>\n\t\t\t\tfrappe.format(\n\t\t\t\t\tvalue,\n\t\t\t\t\t{ fieldtype, options },\n\t\t\t\t\t{ always_show_decimals: true, inline: true }\n\t\t\t\t),\n\t\t};\n\n\t\tif (this.chart_doc.type == \"Heatmap\") {\n\t\t\tconst heatmap_year = parseInt(\n\t\t\t\tthis.selected_heatmap_year ||\n\t\t\t\t\tthis.chart_settings.heatmap_year ||\n\t\t\t\t\tthis.chart_doc.heatmap_year\n\t\t\t);\n\t\t\tchart_args.data.start = new Date(`${heatmap_year}-01-01`);\n\t\t\tchart_args.data.end = new Date(`${heatmap_year + 1}-01-01`);\n\t\t}\n\n\t\tlet set_options = (options) => {\n\t\t\tlet custom_options = JSON.parse(options);\n\t\t\tfor (let key in custom_options) {\n\t\t\t\tif (\n\t\t\t\t\ttypeof chart_args[key] === \"object\" &&\n\t\t\t\t\ttypeof custom_options[key] === \"object\"\n\t\t\t\t) {\n\t\t\t\t\tchart_args[key] = Object.assign(chart_args[key], custom_options[key]);\n\t\t\t\t} else {\n\t\t\t\t\tchart_args[key] = custom_options[key];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (this.custom_options) {\n\t\t\tset_options(this.custom_options);\n\t\t}\n\n\t\tif (this.chart_doc.custom_options) {\n\t\t\tset_options(this.chart_doc.custom_options);\n\t\t}\n\n\t\treturn chart_args;\n\t}\n\n\tget_chart_colors() {\n\t\tlet colors = [];\n\t\tif (this.chart_doc.y_axis.length) {\n\t\t\tthis.chart_doc.y_axis.map((field) => {\n\t\t\t\tcolors.push(field.color);\n\t\t\t});\n\t\t} else if ([\"Line\", \"Bar\"].includes(this.chart_doc.type)) {\n\t\t\tcolors = [this.chart_doc.color || []];\n\t\t} else if (this.chart_doc.type == \"Heatmap\") {\n\t\t\tcolors = [];\n\t\t}\n\n\t\treturn colors;\n\t}\n\n\trender_heatmap_legend() {\n\t\tlet legend_colors;\n\n\t\tlet set_legend_color = (options) => {\n\t\t\tlegend_colors = JSON.parse(options).colors;\n\t\t};\n\n\t\tif (this.custom_options) {\n\t\t\tset_legend_color(this.custom_options);\n\t\t}\n\n\t\tif (this.chart_doc.custom_options) {\n\t\t\tset_legend_color(this.chart_doc.custom_options);\n\t\t}\n\n\t\tif (!this.$heatmap_legend && this.widget.width() > 991) {\n\t\t\tthis.$heatmap_legend = $(`\n\t\t\t\t<div class=\"heatmap-legend\">\n\t\t\t\t\t<ul class=\"legend-colors\">\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[0] || \"#ebedf0\"}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[1] || \"#c6e48b\"}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[2] || \"#7bc96f\"}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[3] || \"#239a3b\"}\"></li>\n\t\t\t\t\t\t<li style=\"background-color: ${legend_colors[4] || \"#196127\"}\"></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div class=\"legend-label\">\n\t\t\t\t\t\t<div style=\"margin-bottom: 45px\">${__(\"Less\")}</div>\n\t\t\t\t\t\t<div>${__(\"More\")}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t`);\n\t\t\tthis.body.append(this.$heatmap_legend);\n\t\t}\n\t}\n\n\tupdate_last_synced() {\n\t\tif (!this.chart_doc.last_synced_on) {\n\t\t\treturn;\n\t\t}\n\t\tlet last_synced_text = __(\"Last synced {0}\", [\n\t\t\tcomment_when(this.chart_doc.last_synced_on),\n\t\t]);\n\t\tthis.subtitle_field.html(last_synced_text);\n\t}\n\n\tupdate_chart_object() {\n\t\tfrappe.db.get_doc(\"Dashboard Chart\", this.chart_doc.name).then((doc) => {\n\t\t\tthis.chart_doc = doc;\n\t\t\tthis.update_last_synced();\n\t\t});\n\t}\n\n\tprepare_chart_object() {\n\t\tif (this.chart_doc.type == \"Heatmap\" && !this.chart_doc.heatmap_year) {\n\t\t\tthis.chart_doc.heatmap_year = frappe.dashboard_utils.get_year(\n\t\t\t\tfrappe.datetime.now_date()\n\t\t\t);\n\t\t}\n\n\t\treturn this.set_chart_filters();\n\t}\n\n\tset_chart_filters() {\n\t\tlet user_saved_filters = this.chart_settings.filters || null;\n\t\tlet chart_saved_filters = frappe.dashboard_utils.get_all_filters(this.chart_doc);\n\n\t\tif (this.chart_doc.chart_type == \"Report\") {\n\t\t\treturn frappe.dashboard_utils\n\t\t\t\t.get_filters_for_chart_type(this.chart_doc)\n\t\t\t\t.then((filters) => {\n\t\t\t\t\tchart_saved_filters = this.update_default_date_filters(\n\t\t\t\t\t\tfilters,\n\t\t\t\t\t\tchart_saved_filters\n\t\t\t\t\t);\n\t\t\t\t\tthis.filters =\n\t\t\t\t\t\tfrappe.utils.parse_array(user_saved_filters) ||\n\t\t\t\t\t\tfrappe.utils.parse_array(this.filters) ||\n\t\t\t\t\t\tfrappe.utils.parse_array(chart_saved_filters);\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.filters =\n\t\t\t\tfrappe.utils.parse_array(user_saved_filters) ||\n\t\t\t\tfrappe.utils.parse_array(this.filters) ||\n\t\t\t\tfrappe.utils.parse_array(chart_saved_filters);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\n\tupdate_default_date_filters(report_filters, chart_filters) {\n\t\tif (report_filters) {\n\t\t\treport_filters.map((f) => {\n\t\t\t\tif ([\"Date\", \"DateRange\"].includes(f.fieldtype) && f.default) {\n\t\t\t\t\tif (f.reqd || chart_filters[f.fieldname]) {\n\t\t\t\t\t\tchart_filters[f.fieldname] = f.default;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn chart_filters;\n\t}\n\n\tget_settings() {\n\t\treturn frappe.model.with_doc(\"Dashboard Chart\", this.chart_name).then((chart_doc) => {\n\t\t\tif (chart_doc) {\n\t\t\t\tthis.chart_doc = chart_doc;\n\t\t\t\tif (this.chart_doc.chart_type == \"Custom\") {\n\t\t\t\t\t// custom source\n\t\t\t\t\tif (frappe.dashboards.chart_sources[this.chart_doc.source]) {\n\t\t\t\t\t\tthis.settings = frappe.dashboards.chart_sources[this.chart_doc.source];\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst method =\n\t\t\t\t\t\t\t\"frappe.desk.doctype.dashboard_chart_source.dashboard_chart_source.get_config\";\n\t\t\t\t\t\treturn frappe\n\t\t\t\t\t\t\t.xcall(method, { name: this.chart_doc.source })\n\t\t\t\t\t\t\t.then((config) => {\n\t\t\t\t\t\t\t\tfrappe.dom.eval(config);\n\t\t\t\t\t\t\t\tthis.settings =\n\t\t\t\t\t\t\t\t\tfrappe.dashboards.chart_sources[this.chart_doc.source];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else if (this.chart_doc.chart_type == \"Report\") {\n\t\t\t\t\tthis.settings = {\n\t\t\t\t\t\tmethod: \"frappe.desk.query_report.run\",\n\t\t\t\t\t};\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t} else {\n\t\t\t\t\tthis.settings = {\n\t\t\t\t\t\tmethod: \"frappe.desk.doctype.dashboard_chart.dashboard_chart.get\",\n\t\t\t\t\t};\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n", "import ChartWidget from '../../../../../frappe/frappe/public/js/frappe/widgets/chart_widget.js'\n\nclass MyChartWidget extends ChartWidget {\n\tset_chart_title() {\n        this.label = __(this.label || this.name);\n        super.set_chart_title();\n    }\n}\n\nfrappe.widget.widget_factory.chart = MyChartWidget\n\nfrappe.dashboard_utils.render_chart_filters = function(filters, button_class, container, append) {\n        //console.log('override renderchartfilter');\n\t\tfilters.forEach(filter => {\n\t\t\tlet icon_html = '', filter_class = '';\n\n\t\t\tif (filter.icon) {\n\t\t\t\ticon_html = frappe.utils.icon(filter.icon);\n\t\t\t}\n\n\t\t\tif (filter.class) {\n\t\t\t\tfilter_class = filter.class;\n\t\t\t}\n            //fisher \u5728filter.label\u524D\u52A0\u4E86\u7FFB\u8BD1\u51FD\u6570\n\t\t\tlet chart_filter_html =\n\t\t\t\t`<div class=\"${button_class} ${filter_class} btn-group dropdown pull-right\">\n\t\t\t\t\t<a data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\t\t<button class=\"btn btn-secondary btn-xs\">\n\t\t\t \t\t\t\t${icon_html}\n\t\t\t\t\t\t\t<span class=\"filter-label\">${__(filter.label)}</span>\n\t\t\t\t\t\t\t${frappe.utils.icon('select', 'xs')}\n\t\t\t\t\t\t</button>\n\t\t\t\t</a>`;\n\t\t\tlet options_html;\n            //fisher \u4EE5\u4E0B\u4E24\u4E2AOption\u524D\u52A0\u4E86\u7FFB\u8BD1\u51FD\u6570\uFF0C\u4F7F\u7528selected_item \u539F\u503C\u53D6\u4EE3\u5DF2\u7FFB\u8BD1\u7684\u6807\u7B7E    \n\t\t\tif (filter.fieldnames) {\n\t\t\t\toptions_html = filter.options.map((option, i) =>\n\t\t\t\t\t`<li>\n\t\t\t\t\t\t<a class=\"dropdown-item\" data-fieldname=\"${filter.fieldnames[i]}\" selected_item=\"${option}\">${__(option)}</a>\n\t\t\t\t\t</li>`).join('');\n\t\t\t} else {\n\t\t\t\toptions_html = filter.options.map( option => `<li><a class=\"dropdown-item\" selected_item=\"${option}\">${__(option)}</a></li>`).join('');\n\t\t\t}\n\n\t\t\tlet dropdown_html = chart_filter_html + `<ul class=\"dropdown-menu\">${options_html}</ul></div>`;\n\t\t\tlet $chart_filter = $(dropdown_html);\n\n\t\t\tif (append) {\n\t\t\t\t$chart_filter.prependTo(container);\n\t\t\t} else $chart_filter.appendTo(container);\n\n\t\t\t$chart_filter.find('.dropdown-menu').on('click', 'li a', (e) => {\n\t\t\t\tlet $el = $(e.currentTarget);\n\t\t\t\tlet fieldname;\n\t\t\t\tif ($el.attr('data-fieldname')) {\n\t\t\t\t\tfieldname = $el.attr('data-fieldname');\n\t\t\t\t}\n\t\t\t\t//fisher \u4F7F\u7528selected_item \u539F\u503C\u53D6\u4EE3\u5DF2\u7FFB\u8BD1\u7684\u6807\u7B7E,\u4E0B\u4E00\u884C\u7684selected_text\u4E5F\u52A0\u4E0A\u7FFB\u8BD1\u51FD\u6570 \t\n\t\t\t\tlet selected_item = $el.attr('selected_item');\t// $el.text();\n\t\t\t\t$el.parents(`.${button_class}`).find('.filter-label').text(__(selected_item));\n\t\t\t\tfilter.action(selected_item, fieldname);\n\t\t\t});\n\t\t});\n\n\t}\n", "// \u65B0\u52A0\u4E00\u4E2A\u81EA\u52A8\u5B8C\u6210\u7684\u9009\u62E9\u6846\nfrappe.ui.Page = class MyPage  extends frappe.ui.Page{\n    add_auto_select(label, options, change) {\n        let field = this.add_field({label:label, fieldtype:\"Autocomplete\", options: options, change: change});\n\t\treturn field.$wrapper.find(\"input\").empty();\n\t}\n}", "// LICENSE\n//\n//\t This software is dual-licensed to the public domain and under the following\n//\t license: you are granted a perpetual, irrevocable license to copy, modify,\n//\t publish, and distribute this file as you see fit.\n//\n// VERSION\n//\t 0.1.0\t(2016-03-28)\tInitial release\n//\n// AUTHOR\n//\t Forrest Smith\n//\n// CONTRIBUTORS\n//\t J\uFFFDrgen Tjern\uFFFD - async helper\n//\t Anurag Awasthi - updated to 0.2.0\n\nconst SEQUENTIAL_BONUS = 25; // bonus for adjacent matches\nconst SEPARATOR_BONUS = 30; // bonus if match occurs after a separator\nconst CAMEL_BONUS = 30; // bonus if match is uppercase and prev is lower\nconst FIRST_LETTER_BONUS = 15; // bonus if the first letter is matched\n\nconst LEADING_LETTER_PENALTY = -5; // penalty applied for every letter in str before the first match\nconst MAX_LEADING_LETTER_PENALTY = -15; // maximum penalty for leading letters\nconst UNMATCHED_LETTER_PENALTY = -1;\n\n/**\n * Does a fuzzy search to find pattern inside a string.\n * @param {*} pattern string\t\t\t\tPattern to search for\n * @param {*} str string    \t\t\t\tString being searched\n * @returns [boolean, number, Array<number>]\t\tA boolean whether the pattern was found or not, a search score,\n * \t\t\t\t\t\t\tand an array with the positional match indices.\n */\nexport function fuzzy_match(pattern, str) {\n\tconst recursion_count = 0;\n\tconst recursion_limit = 10;\n\tconst max_matches = 256;\n\n\treturn fuzzy_match_recursive(\n\t\tpattern,\n\t\tstr,\n\t\t0 /* pattern_cur_index */,\n\t\t0 /* str_curr_index */,\n\t\tnull /* src_matches */,\n\t\t[] /* matches */,\n\t\tmax_matches,\n\t\t0 /* next_match */,\n\t\trecursion_count,\n\t\trecursion_limit\n\t);\n}\n\nfunction fuzzy_match_recursive(\n\tpattern,\n\tstr,\n\tpattern_cur_index,\n\tstr_curr_index,\n\tsrc_matches,\n\tmatches,\n\tmax_matches,\n\tnext_match,\n\trecursion_count,\n\trecursion_limit\n) {\n\tlet out_score = 0;\n\n\t// Return if recursion limit is reached.\n\tif (++recursion_count >= recursion_limit) {\n\t\treturn [false, out_score, matches];\n\t}\n\n\t// Return if we reached ends of strings.\n\tif (pattern_cur_index === pattern.length || str_curr_index === str.length) {\n\t\treturn [false, out_score, matches];\n\t}\n\n\t// Recursion params\n\tlet recursive_match = false;\n\tlet best_recursive_matches = [];\n\tlet best_recursive_score = 0;\n\n\t// Loop through pattern and str looking for a match.\n\tlet first_match = true;\n\twhile (pattern_cur_index < pattern.length && str_curr_index < str.length) {\n\t\t// Match found.\n\t\tif (pattern[pattern_cur_index].toLowerCase() === str[str_curr_index].toLowerCase()) {\n\t\t\tif (next_match >= max_matches) {\n\t\t\t\treturn [false, out_score, matches];\n\t\t\t}\n\n\t\t\tif (first_match && src_matches) {\n\t\t\t\tmatches = [...src_matches];\n\t\t\t\tfirst_match = false;\n\t\t\t}\n\n\t\t\tconst [matched, recursive_score, recursive_matches] = fuzzy_match_recursive(\n\t\t\t\tpattern,\n\t\t\t\tstr,\n\t\t\t\tpattern_cur_index,\n\t\t\t\tstr_curr_index + 1,\n\t\t\t\tmatches,\n\t\t\t\t[] /* recursive_matches */,\n\t\t\t\tmax_matches,\n\t\t\t\tnext_match,\n\t\t\t\trecursion_count,\n\t\t\t\trecursion_limit\n\t\t\t);\n\n\t\t\tif (matched) {\n\t\t\t\t// Pick best recursive score.\n\t\t\t\tif (!recursive_match || recursive_score > best_recursive_score) {\n\t\t\t\t\tbest_recursive_matches = [...recursive_matches];\n\t\t\t\t\tbest_recursive_score = recursive_score;\n\t\t\t\t}\n\t\t\t\trecursive_match = true;\n\t\t\t}\n\n\t\t\tmatches[next_match++] = str_curr_index;\n\t\t\t++pattern_cur_index;\n\t\t}\n\t\t++str_curr_index;\n\t}\n\n\tconst matched = pattern_cur_index === pattern.length;\n\n\tif (matched) {\n\t\tout_score = 100;\n\n\t\t// Apply leading letter penalty\n\t\tlet penalty = LEADING_LETTER_PENALTY * matches[0];\n\t\tpenalty = penalty < MAX_LEADING_LETTER_PENALTY ? MAX_LEADING_LETTER_PENALTY : penalty;\n\t\tout_score += penalty;\n\n\t\t//Apply unmatched penalty\n\t\tconst unmatched = str.length - next_match;\n\t\tout_score += UNMATCHED_LETTER_PENALTY * unmatched;\n\n\t\t// Apply ordering bonuses\n\t\tfor (let i = 0; i < next_match; i++) {\n\t\t\tconst curr_idx = matches[i];\n\n\t\t\tif (i > 0) {\n\t\t\t\tconst prev_idx = matches[i - 1];\n\t\t\t\tif (curr_idx == prev_idx + 1) {\n\t\t\t\t\tout_score += SEQUENTIAL_BONUS;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Check for bonuses based on neighbor character value.\n\t\t\tif (curr_idx > 0) {\n\t\t\t\t// Camel case\n\t\t\t\tconst neighbor = str[curr_idx - 1];\n\t\t\t\tconst curr = str[curr_idx];\n\t\t\t\tif (neighbor !== neighbor.toUpperCase() && curr !== curr.toLowerCase()) {\n\t\t\t\t\tout_score += CAMEL_BONUS;\n\t\t\t\t}\n\t\t\t\tconst is_neighbour_separator = neighbor == \"_\" || neighbor == \" \";\n\t\t\t\tif (is_neighbour_separator) {\n\t\t\t\t\tout_score += SEPARATOR_BONUS;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// First letter\n\t\t\t\tout_score += FIRST_LETTER_BONUS;\n\t\t\t}\n\t\t}\n\n\t\t// Return best result\n\t\tif (recursive_match && (!matched || best_recursive_score > out_score)) {\n\t\t\t// Recursive score is better than \"this\"\n\t\t\tmatches = [...best_recursive_matches];\n\t\t\tout_score = best_recursive_score;\n\t\t\treturn [true, out_score, matches];\n\t\t} else if (matched) {\n\t\t\t// \"this\" score is better than recursive\n\t\t\treturn [true, out_score, matches];\n\t\t} else {\n\t\t\treturn [false, out_score, matches];\n\t\t}\n\t}\n\treturn [false, out_score, matches];\n}\n", "//fisher \u5BFC\u5165\u88AB\u8C03\u7528\u51FD\u6570\nimport { fuzzy_match } from \"frappe/public/js/frappe/ui/toolbar/fuzzy_match.js\";  \n\n//fisher \u652F\u6301\u4E2D\u6587\u6216\u82F1\u6587\u68C0\u7D22\nfrappe.search.utils.fuzzy_search = function (keywords = \"\", _item = \"\", return_marked_string = false) {\n    let item = __(_item || '');\n\tlet [, score, matches] = fuzzy_match(keywords, item, return_marked_string);\n\t// fisher \u652F\u6301\u82F1\u6587\u68C0\u7D22\n\tif (score == 0 && frappe.boot.lang != 'en' && item !== _item){\n\t\titem = _item || '';\n\t\t[, score, matches] = fuzzy_match(keywords, item, return_marked_string);\n\t}\n\n\tif (!return_marked_string) {\n\t\treturn score;\n\t}\n\tif (score == 0) {\n\t\treturn { score, item };\n\t}\n\n\t// Create Boolean mask to mark matching indices in the item string\n\tconst matchArray = Array(item.length).fill(0);\n\tmatches.forEach((index) => (matchArray[index] = 1));\n\n\tlet marked_string = \"\";\n\tlet buffer = \"\";\n\n\t// Clear the buffer and return marked matches.\n\tconst flushBuffer = () => {\n\t\tif (!buffer) return \"\";\n\t\tconst temp = `<mark>${buffer}</mark>`;\n\t\tbuffer = \"\";\n\t\treturn temp;\n\t};\n\n\tmatchArray.forEach((isMatch, index) => {\n\t\tif (isMatch) {\n\t\t\tbuffer += item[index];\n\t\t} else {\n\t\t\tmarked_string += flushBuffer();\n\t\t\tmarked_string += item[index];\n\t\t}\n\t});\n\tmarked_string += flushBuffer();\n\n\treturn { score, marked_string };\n}", "\n// \u4FEE\u6539link\u7C7B\u578B\u6570\u636E\u7684\u7FFB\u8BD1\uFF0C\u4E3B\u8981\u5C31\u662F\u6DFB\u52A0\u4E86\u4E00\u4E2A\u65B9\u6CD5set_formatted_input\uFF0C\u7ED9input\u8BBE\u7F6E\u503C\u7684\u65F6\u5019\u8BBE\u7F6E\u7FFB\u8BD1\u8FC7\u540E\u7684\u503C\n// \u7136\u540E\u5728\u83B7\u53D6\u7126\u70B9\u548C\u5931\u53BB\u7126\u70B9\u7684\u65F6\u5019\u53D6\u503C\u903B\u8F91\u4FEE\u6539\u4E00\u4E0B\nfrappe.ui.form.ControlLink = class ControlLink extends frappe.ui.form.ControlLink {\n\tmake_input() {\n\t\tvar me = this;\n\t\t$(`<div class=\"link-field ui-front\" style=\"position: relative;\">\n\t\t\t<input type=\"text\" class=\"input-with-feedback form-control\">\n\t\t\t<span class=\"link-btn\">\n\t\t\t\t<a class=\"btn-open no-decoration\" title=\"${__(\"Open Link\")}\">\n\t\t\t\t\t${frappe.utils.icon(\"arrow-right\", \"xs\")}\n\t\t\t\t</a>\n\t\t\t</span>\n\t\t</div>`).prependTo(this.input_area);\n\t\tthis.$input_area = $(this.input_area);\n\t\tthis.$input = this.$input_area.find(\"input\");\n\t\tthis.$link = this.$input_area.find(\".link-btn\");\n\t\tthis.$link_open = this.$link.find(\".btn-open\");\n\t\tthis.set_input_attributes();\n\t\tthis.$input.on(\"focus\", function () {\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (me.$input.val() && me.get_options()) {\n\t\t\t\t\tlet doctype = me.get_options();\n\t\t\t\t\t// fisher \u4FEE\u6539\u53D6\u503C\u903B\u8F91\uFF0C\u76F4\u63A5\u4ECEdoc\u4E2D\u53D6\uFF0C\u4E0D\u4ECEinput\u6846\u4E2D\u53D6\u4E86\n\t\t\t\t\tlet real_value = me.doc ? me.doc[me.df['fieldname']] : me.$input.attr(\"data-value\")\n\t\t\t\t\tlet name = real_value ? real_value : me.get_input_value();\n\t\t\t\t\t//fisher \u7ED3\u675F\u4FEE\u6539\n\t\t\t\t\tme.$link.toggle(true);\n\t\t\t\t\tme.$link_open.attr(\"href\", frappe.utils.get_form_link(doctype, name));\n\t\t\t\t}\n\n\t\t\t\tif (!me.$input.val()) {\n\t\t\t\t\tme.$input.val(\"\").trigger(\"input\");\n\n\t\t\t\t\t// hide link arrow to doctype if none is set\n\t\t\t\t\tme.$link.toggle(false);\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t});\n\t\tthis.$input.on(\"blur\", function () {\n\t\t\t// if this disappears immediately, the user's click\n\t\t\t// does not register, hence timeout\n\t\t\tsetTimeout(function () {\n\t\t\t\tme.$link.toggle(false);\n\t\t\t}, 500);\n\t\t});\n\t\tthis.$input.attr(\"data-target\", this.df.options);\n\t\tthis.input = this.$input.get(0);\n\t\tthis.has_input = true;\n\t\tthis.translate_values = true;\n\t\tthis.setup_buttons();\n\t\tthis.setup_awesomeplete();\n\t\tthis.bind_change_event();\n\t}\n\n\tsetup_awesomeplete() {\n\t\tlet me = this;\n\n\t\tthis.$input.cache = {};\n\n\t\tthis.awesomplete = new Awesomplete(me.input, {\n\t\t\ttabSelect: true,\n\t\t\tminChars: 0,\n\t\t\tmaxItems: 99,\n\t\t\tautoFirst: true,\n\t\t\tlist: [],\n\t\t\treplace: function (item) {\n\t\t\t\t// Override Awesomeplete replace function as it is used to set the input value\n\t\t\t\t// https://github.com/LeaVerou/awesomplete/issues/17104#issuecomment-359185403\n\t\t\t\tthis.input.value = me.get_translated(item.label || item.value);\n\t\t\t},\n\t\t\tdata: function (item) {\n\t\t\t\treturn {\n\t\t\t\t\tlabel: me.get_translated(item.label || item.value),\n\t\t\t\t\tvalue: item.value,\n\t\t\t\t};\n\t\t\t},\n\t\t\tfilter: function () {\n\t\t\t\treturn true;\n\t\t\t},\n\t\t\titem: function (item) {\n\t\t\t\tlet d = this.get_item(item.value);\n\t\t\t\tif (!d.label) {\n\t\t\t\t\td.label = d.value;\n\t\t\t\t}\n\n\t\t\t\tlet _label = me.get_translated(d.label);\n\t\t\t\tlet html = d.html || \"<strong>\" + _label + \"</strong>\";\n\t\t\t\tif (\n\t\t\t\t\td.description &&\n\t\t\t\t\t// for title links, we want to inlude the value in the description\n\t\t\t\t\t// because it will not visible otherwise\n\t\t\t\t\t(me.is_title_link() || d.value !== d.description)\n\t\t\t\t) {\n\t\t\t\t\thtml += '<br><span class=\"small\">' + __(d.description) + \"</span>\";\n\t\t\t\t}\n\t\t\t\treturn $(\"<li></li>\")\n\t\t\t\t\t.data(\"item.autocomplete\", d)\n\t\t\t\t\t.prop(\"aria-selected\", \"false\")\n\t\t\t\t\t.html(`<a><p title=\"${frappe.utils.escape_html(_label)}\">${html}</p></a>`)\n\t\t\t\t\t.get(0);\n\t\t\t},\n\t\t\tsort: function () {\n\t\t\t\treturn 0;\n\t\t\t},\n\t\t});\n\n\t\tthis.custom_awesomplete_filter && this.custom_awesomplete_filter(this.awesomplete);\n\n\t\tthis.$input.on(\n\t\t\t\"input\",\n\t\t\tfrappe.utils.debounce(function (e) {\n\t\t\t\tvar doctype = me.get_options();\n\t\t\t\tif (!doctype) return;\n\t\t\t\tif (!me.$input.cache[doctype]) {\n\t\t\t\t\tme.$input.cache[doctype] = {};\n\t\t\t\t}\n\n\t\t\t\tvar term = e.target.value;\n\n\t\t\t\tif (me.$input.cache[doctype][term] != null) {\n\t\t\t\t\t// immediately show from cache\n\t\t\t\t\tme.awesomplete.list = me.$input.cache[doctype][term];\n\t\t\t\t}\n\t\t\t\tvar args = {\n\t\t\t\t\ttxt: term,\n\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\tignore_user_permissions: me.df.ignore_user_permissions,\n\t\t\t\t\treference_doctype: me.get_reference_doctype() || \"\",\n\t\t\t\t};\n\n\t\t\t\tme.set_custom_query(args);\n\n\t\t\t\tfrappe.call({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\tmethod: \"frappe.desk.search.search_link\",\n\t\t\t\t\tno_spinner: true,\n\t\t\t\t\targs: args,\n\t\t\t\t\tcallback: function (r) {\n\t\t\t\t\t\tif (!window.Cypress && !me.$input.is(\":focus\")) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tr.message = me.merge_duplicates(r.message);\n\n\t\t\t\t\t\t// show filter description in awesomplete\n\t\t\t\t\t\tlet filter_string = me.df.filter_description\n\t\t\t\t\t\t\t? me.df.filter_description\n\t\t\t\t\t\t\t: args.filters\n\t\t\t\t\t\t\t? me.get_filter_description(args.filters)\n\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\tif (filter_string) {\n\t\t\t\t\t\t\tr.message.push({\n\t\t\t\t\t\t\t\thtml: `<span class=\"text-muted\" style=\"line-height: 1.5\">${filter_string}</span>`,\n\t\t\t\t\t\t\t\tvalue: \"\",\n\t\t\t\t\t\t\t\taction: () => {},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!me.df.only_select) {\n\t\t\t\t\t\t\tif (frappe.model.can_create(doctype)) {\n\t\t\t\t\t\t\t\t// new item\n\t\t\t\t\t\t\t\tr.message.push({\n\t\t\t\t\t\t\t\t\thtml:\n\t\t\t\t\t\t\t\t\t\t\"<span class='link-option'>\" +\n\t\t\t\t\t\t\t\t\t\t\"<i class='fa fa-plus' style='margin-right: 5px;'></i> \" +\n\t\t\t\t\t\t\t\t\t\t__(\"Create a new {0}\", [__(me.get_options())]) +\n\t\t\t\t\t\t\t\t\t\t\"</span>\",\n\t\t\t\t\t\t\t\t\tlabel: __(\"Create a new {0}\", [__(me.get_options())]),\n\t\t\t\t\t\t\t\t\tvalue: \"create_new__link_option\",\n\t\t\t\t\t\t\t\t\taction: me.new_doc,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t//custom link actions\n\t\t\t\t\t\t\tlet custom__link_options =\n\t\t\t\t\t\t\t\tfrappe.ui.form.ControlLink.link_options &&\n\t\t\t\t\t\t\t\tfrappe.ui.form.ControlLink.link_options(me);\n\n\t\t\t\t\t\t\tif (custom__link_options) {\n\t\t\t\t\t\t\t\tr.message = r.message.concat(custom__link_options);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// advanced search\n\t\t\t\t\t\t\tif (locals && locals[\"DocType\"]) {\n\t\t\t\t\t\t\t\t// not applicable in web forms\n\t\t\t\t\t\t\t\tr.message.push({\n\t\t\t\t\t\t\t\t\thtml:\n\t\t\t\t\t\t\t\t\t\t\"<span class='link-option'>\" +\n\t\t\t\t\t\t\t\t\t\t\"<i class='fa fa-search' style='margin-right: 5px;'></i> \" +\n\t\t\t\t\t\t\t\t\t\t__(\"Advanced Search\") +\n\t\t\t\t\t\t\t\t\t\t\"</span>\",\n\t\t\t\t\t\t\t\t\tlabel: __(\"Advanced Search\"),\n\t\t\t\t\t\t\t\t\tvalue: \"advanced_search__link_option\",\n\t\t\t\t\t\t\t\t\taction: me.open_advanced_search,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tme.$input.cache[doctype][term] = r.message;\n\t\t\t\t\t\tme.awesomplete.list = me.$input.cache[doctype][term];\n\t\t\t\t\t\tme.toggle_href(doctype);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}, 500)\n\t\t);\n\n\t\tthis.$input.on(\"blur\", function () {\n\t\t\tif (me.selected) {\n\t\t\t\tme.selected = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet input_value = me.get_input_value();\n\t\t\tlet label = me.get_label_value();\n\t\t\tlet last_value = me.last_value || \"\";\n\t\t\tlet last_label = me.label || \"\";\n\t\t\t// fisher \u4FEE\u6539\u53D6\u503C\u5BF9\u6BD4\u903B\u8F91\uFF0C \u8F93\u5165\u6846\u7684\u503C\u548C\u7FFB\u8BD1\u8FC7\u540E\u7684doc\u4E2D\u503C\u4E0D\u4E00\u6837\uFF0C\u5C31\u53D6\u8F93\u5165\u6846\u7684\u503C\uFF0C\u4E00\u6837\u5C31\u53D6doc\u4E2D\u7684\u503C\t\t\t\t\t\t\n\t\t\tlet real_value = me.doc ? me.doc[me.df['fieldname']] : me.$input.attr(\"data-value\")\n\t\t\tlet value = __(real_value) != input_value ? input_value : real_value\n\t\t\tif (value !== last_value) {\n\t\t\t\tme.parse_validate_and_set_in_model(value, null, label);\n\t\t\t}\t\t\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-open\", () => {\n\t\t\tthis.autocomplete_open = true;\n\n\t\t\tif (!me.get_label_value()) {\n\t\t\t\t// hide link arrow to doctype if none is set\n\t\t\t\tme.$link.toggle(false);\n\t\t\t}\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-close\", (e) => {\n\t\t\tthis.autocomplete_open = false;\n\n\t\t\tif (!me.get_label_value()) {\n\t\t\t\t// hide link arrow to doctype if none is set\n\t\t\t\tme.$link.toggle(false);\n\t\t\t}\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-select\", function (e) {\n\t\t\tvar o = e.originalEvent;\n\t\t\tvar item = me.awesomplete.get_item(o.text.value);\n\n\t\t\tme.autocomplete_open = false;\n\n\t\t\t// prevent selection on tab\n\t\t\tlet TABKEY = 9;\n\t\t\tif (e.keyCode === TABKEY) {\n\t\t\t\te.preventDefault();\n\t\t\t\tme.awesomplete.close();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (item.action) {\n\t\t\t\titem.value = \"\";\n\t\t\t\titem.label = \"\";\n\t\t\t\titem.action.apply(me);\n\t\t\t}\n\n\t\t\t// if remember_last_selected is checked in the doctype against the field,\n\t\t\t// then add this value\n\t\t\t// to defaults so you do not need to set it again\n\t\t\t// unless it is changed.\n\t\t\tif (me.df.remember_last_selected_value) {\n\t\t\t\tfrappe.boot.user.last_selected_values[me.df.options] = item.value;\n\t\t\t}\n\n\t\t\tme.parse_validate_and_set_in_model(item.value, null, item.label);\n\t\t});\n\n\t\tthis.$input.on(\"awesomplete-selectcomplete\", function (e) {\n\t\t\tlet o = e.originalEvent;\n\t\t\tif (o.text.value.indexOf(\"__link_option\") !== -1) {\n\t\t\t\tme.$input.val(\"\");\n\t\t\t}\n\t\t});\n\t}\n\n\tget_filter_description(filters) {\n\t\tlet doctype = this.get_options();\n\t\tlet filter_array = [];\n\t\tlet meta = null;\n\n\t\tfrappe.model.with_doctype(doctype, () => {\n\t\t\tmeta = frappe.get_meta(doctype);\n\t\t});\n\n\t\t// convert object style to array\n\t\tif (!Array.isArray(filters)) {\n\t\t\tfor (let fieldname in filters) {\n\t\t\t\tlet value = filters[fieldname];\n\t\t\t\tif (!Array.isArray(value)) {\n\t\t\t\t\tvalue = ['=', value];\n\t\t\t\t}\n\t\t\t\tfilter_array.push([fieldname, ...value]); // fieldname, operator, value\n\t\t\t}\n\t\t} else {\n\t\t\tfilter_array = filters;\n\t\t}\n\n\t\t// add doctype if missing\n\t\tfilter_array = filter_array.map(filter => {\n\t\t\tif (filter.length === 3) {\n\t\t\t\treturn [doctype, ...filter]; // doctype, fieldname, operator, value\n\t\t\t}\n\t\t\treturn filter;\n\t\t});\n\n\t\tfunction get_filter_description(filter) {\n\t\t\tlet doctype = filter[0];\n\t\t\tlet fieldname = filter[1];\n\t\t\tlet docfield = frappe.meta.get_docfield(doctype, fieldname);\n\t\t\tlet label = docfield ? docfield.label : frappe.model.unscrub(fieldname);\n\n\t\t\tif (docfield && docfield.fieldtype === 'Check') {\n\t\t\t\tfilter[3] = filter[3] ? __('Yes'): __('No');\n\t\t\t}\n\n\t\t\tif (filter[3] && Array.isArray(filter[3]) && filter[3].length > 5) {\n\t\t\t\tfilter[3] = filter[3].slice(0, 5);\n\t\t\t\tfilter[3].push('...');\n\t\t\t}\n\n\t\t\tlet value = filter[3] == null || filter[3] === ''\n\t\t\t\t? __('empty')\n\t\t\t\t: filter[3];\n\n\t\t\treturn [__(label).bold(), __(filter[2]), (Array.isArray(filter[3]) ? String(value.map(v => __(v))) : String(__(value))).bold()].join(' ');\n\t\t}\n\n\t\tlet filter_string = filter_array\n\t\t\t.map(get_filter_description)\n\t\t\t.join(', ');\n\n\t\treturn __('Filters applied for {0}', [filter_string]);\n\t}\n\n    // fisher \u6DFB\u52A0\u7684\u65B9\u6CD5\n    set_formatted_input(value) {\n\t\tvar me = this\n\t\tme.$input && me.$input.attr(\"data-value\", value === undefined ? '' : value)\n\t\tme.$input && me.$input.val(me.format_for_input(__(value)));\n\t\tsuper.set_formatted_input(value);\n\t}\n\n\t// fisher \u83B7\u53D6\u672C\u6765\u7684\u503C\n\tget_value() {\n\t\tlet me = this\n\t\tlet real_value = me.doc ? me.doc[me.df['fieldname']] : (me.$input ? me.$input.attr(\"data-value\") : undefined)\n\t\tlet value = real_value ? real_value : me.get_input_value();\n\t\tif(this.get_status()==='Write') {\n\t\t\treturn this.parse ? this.parse(value) : value;\n\t\t} else {\n\t\t\treturn value? value: this.value || null;\n\t\t}\n\t}\n}\n\nfrappe.ui.form.ControlAutocomplete = class ControlAutocomplete extends frappe.ui.form.ControlAutocomplete {\n\tsetup_awesomplete() {\n\t\tconst settings = super.setup_awesomplete() || {};\n\t\treturn Object.assign(settings, {\n\t\t\tfilter: function(item, input) {\t\t\t\t\n\t\t\t\tlet hay = item.value;\n\t\t\t\t//fisher \u652F\u6301\u4E2D\u82F1\u6587\u68C0\u7D22\n\t\t\t\tif (__(item.value) != item.value)\thay += __(item.value)\n\t\t\t\treturn Awesomplete.FILTER_CONTAINS(hay, input);\n\t\t\t}\n\t\t})\n\t}\n    // fisher \u6DFB\u52A0\u7684\u65B9\u6CD5\n    set_formatted_input(value) {\n\t\tvar me = this\n\t\tvalue && me.$input && me.$input.attr(\"data-value\", value === undefined ? '' : value)\n\t\tvalue && me.$input && me.$input.val(me.format_for_input(__(value)));\n\t}\n\n\t// fisher \u83B7\u53D6\u672C\u6765\u7684\u503C\n\tget_value() {\n\t\tlet me = this\n\t\tlet real_value = me.$input && me.$input.attr(\"data-value\") ? me.$input.attr(\"data-value\") : (me.doc ? me.doc[me.df['fieldname']] : undefined)\n\t\tlet value = real_value ? real_value : me.get_input_value();\n\t\tif(this.get_status()==='Write') {\n\t\t\treturn this.parse ? this.parse(value) : value;\n\t\t} else {\n\t\t\treturn value || undefined;\n\t\t}\n\t}\n\n\tget_parsed_value(value) {\n\t\tlet me = this;\n\t\tif (me.doc){\n\t\t\tlet real_value = me.$input && me.$input.attr(\"data-value\") ? me.$input.attr(\"data-value\") : (me.doc ? me.doc[me.df['fieldname']] : undefined)\n\t\t\tvalue = real_value ? real_value : me.get_input_value();\n\t\t} else {\n\t\t\tvalue = super.get_parsed_value(value);\n\t\t}\n\t\treturn value;\n\t}\n}\n\n// const MyControlMultiSelect = frappe.ui.form.ControlMultiSelect.extend({\n// \tget_awesomplete_settings() {\n// \t\tvar me = this;\n// \t\tthis.$input.on(\"awesomplete-select\", function(e) {\n// \t\t\tvar o = e.originalEvent;\n// \t\t\tvar item = me.awesomplete.get_item(o.text.value);\n\n// \t\t\tme.autocomplete_open = false;\n\n// \t\t\t// prevent selection on tab\n// \t\t\tvar TABKEY = 9;\n// \t\t\tif(e.keyCode === TABKEY) {\n// \t\t\t\te.preventDefault();\n// \t\t\t\tme.awesomplete.close();\n// \t\t\t\treturn false;\n// \t\t\t}\n\n// \t\t\tif(item.action) {\n// \t\t\t\titem.value = \"\";\n// \t\t\t\titem.action.apply(me);\n// \t\t\t}\n\n// \t\t\t// if remember_last_selected is checked in the doctype against the field,\n// \t\t\t// then add this value\n// \t\t\t// to defaults so you do not need to set it again\n// \t\t\t// unless it is changed.\n// \t\t\tif(me.df.remember_last_selected_value) {\n// \t\t\t\tfrappe.boot.user.last_selected_values[me.df.options] = item.value;\n// \t\t\t}\n// \t\t\tme.parse_validate_and_set_in_model(item.value);\n\t\t\t\n// \t\t});\n// \t\tconst settings = this._super();\n// \t\treturn Object.assign(settings, {\n// \t\t\tdata: function (item) {\n// \t\t\t\treturn {\n// \t\t\t\t\tlabel: item.label || item.value,\n// \t\t\t\t\tvalue: item.value\n// \t\t\t\t};\n// \t\t\t},\n// \t\t\titem: function (item) {\n// \t\t\t\tvar d = this.get_item(item.value);\n// \t\t\t\tif(!d.label) {\td.label = d.value; }\n\n// \t\t\t\tvar _label = __(d.label);\n// \t\t\t\tvar html = d.html || \"<strong>\" + _label + \"</strong>\";\n// \t\t\t\treturn $('<li></li>')\n// \t\t\t\t\t.data('item.autocomplete', d)\n// \t\t\t\t\t.prop('aria-selected', 'false')\n// \t\t\t\t\t.html(`<a><p title=\"${_label}\">${html}</p></a>`)\n// \t\t\t\t\t.get(0);\n// \t\t\t},\n// \t\t\treplace: function(text) {\n// \t\t\t\tconst before = this.input.value.match(/^.+,\\s*|/)[0];\n// \t\t\t\tthis.input.value = before + text + \", \";\n// \t\t\t}\n// \t\t});\n// \t},\n// \tget_selected_value: function(translated){\t\t\t\t\n// \t\tlet options = this.df.options || [];\n// \t\tif(typeof this.df.options===\"string\") {\n// \t\t\toptions = this.df.options.split(\"\\n\");\n// \t\t}\n// \t\tlet input = this.input.value;\t\t\n// \t\tinput = input.split(',').map(op => op.trim()).filter(n => n != null && n !=\"\");\t\t\n// \t\tlet get_single = (val)=>{\n// \t\t\tfor (var option of options){\n// \t\t\t\t//console.log('option and val', option, __(option), val);\n// \t\t\t\tif (option === val || __(option) === val){\n// \t\t\t\t\treturn translated? __(option): option\n// \t\t\t\t}\n// \t\t\t}\n// \t\t\treturn null;\n// \t\t}\n// \t\tinput = input.map(val =>{return get_single(val)}).filter(n => n != null).join(', ');\n// \t\treturn input && translated?  input + \", \": input\n// \t},\n//     // \u6BCF\u6B21\u4F20\u8FDB\u6765\u7684\u662F\u5355\u4E2A\u503C\uFF0C\u4E4B\u524D\u7684val()\u957F\u8FD9\u6837 \u9009\u98791\u4E2D\u6587,english option2, \n//     set_formatted_input: function(value) {\t\t\n// \t\tif (!value && this.input && ! this.input.value) return;\n// \t\tlet data = this.get_selected_value(true);\t\t\n// \t\tthis.$input && this.$input.val(this.format_for_input(data));\n// \t},\n\n// \t// \u83B7\u53D6\u672C\u6765\u7684\u503C\n// \tget_value() {\t\t\n// \t\tlet data = this.get_selected_value(false);\t\t\n// \t\treturn data;\n// \t}\n// })\n\n// //frappe.ui.form.ControlMultiSelect = MyControlMultiSelect\n\nfrappe.ui.FieldSelect = class FieldSelect extends frappe.ui.FieldSelect {\n\t//fisher \u652F\u6301\u4E2D\u82F1\u6587\u68C0\u7D22\n\tinit(opts) {\n\t\tsuper.init(opts);\n\t\tthis.awesomplete.filter = function(item, input) {\n\t\t\tif (! input) return\n\t\t\tlet hay = item.label + item.value;\t\t\t\t\t\t\n\t\t\treturn Awesomplete.FILTER_CONTAINS(hay, input);\n\t\t}\n\t}\n}\n\n// frappe.ui.FieldSelect = MyFieldSelect\n", "frappe.ui.form.add_options = function (input, options_list) {\n\tlet $select = $(input);\n\tif (!Array.isArray(options_list)) {\n\t\treturn $select;\n\t}\n\t// create options\n\tfor (var i = 0, j = options_list.length; i < j; i++) {\n\t\tvar v = options_list[i];\n\t\tvar value = null;\n\t\tvar label = null;\n\t\tif (!is_null(v)) {\n\t\t\tvar is_value_null = is_null(v.value);\n\t\t\tvar is_label_null = is_null(v.label);\n\t\t\tvar is_disabled = Boolean(v.disabled);\n\t\t\tvar is_selected = Boolean(v.selected);\n\n\t\t\tif (is_value_null && is_label_null) {\n\t\t\t\t//\u652F\u6301\u5206\u53F7(;)\u5206\u9694\u7684\u503C\u4E0E\u6807\u7B7E\uFF0C\u4EE5\u89E3\u51B3\u4E0B\u62C9\u503C\u4E00\u8BCD\u591A\u4E49\u95EE\u9898\n\t\t\t\tif (v && typeof v ==='string' && v.includes(\";\")) {\n\t\t\t\t\tconst value_arr = v.split(\";\");\n\t\t\t\t\tvalue = value_arr[0];\n\t\t\t\t\tlabel = __(value_arr.slice(-1)[0]);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = v;\n\t\t\t\t\tlabel = __(v);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvalue = is_value_null ? \"\" : v.value;\n\t\t\t\tlabel = is_label_null ? __(value) : __(v.label);\n\t\t\t}\n\t\t}\n\n\t\t$(\"<option>\")\n\t\t\t.html(cstr(label))\n\t\t\t.attr(\"value\", value)\n\t\t\t.prop(\"disabled\", is_disabled)\n\t\t\t.prop(\"selected\", is_selected)\n\t\t\t.appendTo($select.get(0));\n\t}\n\t// select the first option\n\t$select.get(0).selectedIndex = 0;\n\t$select.trigger(\"select-change\");\n\treturn $select;\n};\n\n// \u652F\u6301\u7528;\u5206\u9694\u7684\u503C\u4E0E\u6807\u7B7E\u9009\u9879\uFF0C\u901A\u8FC7\u81EA\u5B9A\u4E49\u9009\u9879\uFF0C\u5B9E\u73B0\u4E00\u8BCD\u591A\u4E49\u7FFB\u8BD1\n(function($) {\n\t$.fn.add_options = function(options_list) {\n\t\t// create options\n\t\tfor(var i=0, j=options_list.length; i<j; i++) {\n\t\t\tvar v = options_list[i];\n\t\t\tvar value = null;\n\t\t\tvar label = null;\n\t\t\tif (!is_null(v)) {\n\t\t\t\tvar is_value_null = is_null(v.value);\n\t\t\t\tvar is_label_null = is_null(v.label);\n\t\t\t\tvar is_disabled = Boolean(v.disabled);\n\n\t\t\t\tif (is_value_null && is_label_null) {\n\t\t\t\t\t//\u652F\u6301\u5206\u53F7(;)\u5206\u9694\u7684\u503C\u4E0E\u6807\u7B7E\uFF0C\u4EE5\u89E3\u51B3\u4E0B\u62C9\u503C\u4E00\u8BCD\u591A\u4E49\u95EE\u9898\n\t\t\t\t\tif (v && typeof v ==='string' && v.includes(\";\")) {\n\t\t\t\t\t\tconst value_arr = v.split(\";\");\n\t\t\t\t\t\tvalue = value_arr[0];\n\t\t\t\t\t\tlabel = __(value_arr.slice(-1)[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = v;\n\t\t\t\t\t\tlabel = __(v);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvalue = is_value_null ? \"\" : v.value;\n\t\t\t\t\tlabel = is_label_null ? __(value) : __(v.label);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$('<option>').html(cstr(label))\n\t\t\t\t.attr('value', value)\n\t\t\t\t.prop('disabled', is_disabled)\n\t\t\t\t.appendTo(this);\n\t\t}\n\t\t// select the first option\n\t\tthis.selectedIndex = 0;\n\t\t$(this).trigger('select-change');\n\t\treturn $(this);\n\t};\n\t$.fn.set_working = function() {\n\t\tthis.prop('disabled', true);\n\t};\n\t$.fn.done_working = function() {\n\t\tthis.prop('disabled', false);\n\t};\n\n\tlet original_val = $.fn.val;\n\t$.fn.val = function() {\n\t\tlet result = original_val.apply(this, arguments);\n\t\tif (arguments.length > 0) $(this).trigger('select-change');\n\t\treturn result;\n\t};\n})(jQuery);", "// \u65F6\u95F4\u533A\u95F4\u8BED\u8A00\u6CA1\u6709\u8BBE\u7F6E\n\nfrappe.ui.form.ControlDateRange = class ControlDateRange extends frappe.ui.form.ControlDateRange {\n    set_date_options() {\n\t\tsuper.set_date_options();\n\t\tlet lang = \"en\";\n\t\tfrappe.boot.user && (lang = frappe.boot.user.language);\n\t\tif($.fn.datepicker.language[lang]) {\n\t\t\tthis.datepicker_options.language = lang\n        }\n\t}\n}\n\n// frappe.ui.form.ControlDateRange = MyControlDateRange", "frappe.ui.form.ControlTable = class ControlTable extends frappe.ui.form.ControlTable {\n\tmake() {\n\t\tsuper.make();\n\t\tthis.$wrapper.off('paste', ':text');\n\t\tthis.$wrapper.on('paste', ':text', e => {\n\t\t\tconst table_field = this.df.fieldname;\n\t\t\tconst grid = this.grid;\n\t\t\tconst grid_pagination = grid.grid_pagination;\n\t\t\tconst grid_rows = grid.grid_rows;\n\t\t\tconst doctype = grid.doctype;\n\t\t\tconst row_docname = $(e.target).closest('.grid-row').data('name');\n\t\t\tconst in_grid_form = $(e.target).closest('.form-in-grid').length;\n\t\t\tlet pasted_data = frappe.utils.get_clipboard_data(e);\n\n\t\t\tif (!pasted_data || in_grid_form) return;\n\n\t\t\tlet data = frappe.utils.csv_to_array(pasted_data, '\\t');\n\n\t\t\tif (data.length === 1 && data[0].length === 1) return;\n\n\t\t\tlet fieldnames = [];\n\t\t\t// for raw data with column header\n\t\t\tif (this.get_field(data[0][0])) {\n\t\t\t\tdata[0].forEach(column => {\n\t\t\t\t\tfieldnames.push(this.get_field(column));\n\t\t\t\t});\n\t\t\t\tdata.shift();\n\t\t\t} else {\n\t\t\t\t// no column header, map to the existing visible columns\n\t\t\t\tconst visible_columns = grid_rows[0].get_visible_columns();\n\t\t\t\tlet target_column_matched = false;\n\t\t\t\tvisible_columns.forEach(column => {\n\t\t\t\t\t// consider all columns after the target column.\n\t\t\t\t\tif (target_column_matched || column.fieldname === $(e.target).data('fieldname')) {\n\t\t\t\t\t\tfieldnames.push(column.fieldname);\n\t\t\t\t\t\ttarget_column_matched = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlet row_idx = locals[doctype][row_docname].idx;\n\t\t\tlet data_length = data.length;\n\t\t\tdata.forEach((row, i) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tlet blank_row = !row.filter(Boolean).length;\n\t\t\t\t\tif (!blank_row) {\n\t\t\t\t\t\tif (row_idx > this.frm.doc[table_field].length) {\n\t\t\t\t\t\t\tthis.grid.add_new_row();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (row_idx > 1 && (row_idx - 1) % grid_pagination.page_length === 0) {\n\t\t\t\t\t\t\tgrid_pagination.go_to_page(grid_pagination.page_index + 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst row_name = grid_rows[row_idx - 1].doc.name;\n\t\t\t\t\t\trow.forEach((value, data_index) => {\n\t\t\t\t\t\t\tconst fieldname =fieldnames[data_index];\n\t\t\t\t\t\t\tif (fieldname) {\n                                //fisher \u4FDD\u5B58\u6587\u672C\u7F16\u8F91\u5668\u5B57\u6BB5\u7684\u56DE\u8F66\u6362\u884C\n                                if (value) {\n                                    const fieldtype = frappe.meta.get_field(doctype,fieldname).fieldtype;\n\t\t\t\t\t\t            value = (fieldtype && fieldtype ==='Text Editor')? value.replace(/[\\n\\r]/g,'<br>') : value;\n                                 };\n\t\t\t\t\t\t\t\tfrappe.model.set_value(doctype, row_name, fieldname, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\trow_idx++;\n\t\t\t\t\t}\n                    //fisher \u79FB\u5230\u5916\u9762\u6765\uFF0C\u590D\u5236\u7684\u6700\u540E\u7A7A\u884C\u4E0D\u4F1A\u5BFC\u81F4\u8FDB\u5EA6\u6761\u8D70\u4E0D\u5B8C\n                    if (data_length >= 10) {\n                        let progress = i + 1;\n                        frappe.show_progress(__('Processing'), progress, data_length, null, true);\n                    }\n\t\t\t\t}, 0);\n\t\t\t});\n\t\t\treturn false; // Prevent the default handler from running.\n\t\t});\n\t}\n};", "\nfrappe.provide(\"frappe.form.formatters\");\n\n// \u4FEE\u6539\u65E5\u671F\u65F6\u95F4\u683C\u5F0F\u5316\uFF0C YYYY-MM-DD  HH:mm:ss\nfrappe.form.formatters.Datetime = function(value) {\n\tif(value) {\n\t\tvar m = moment(frappe.datetime.convert_to_user_tz(value));\n\t\tif(frappe.boot.sysdefaults.time_zone) {\n\t\t\tm = m.tz(frappe.boot.sysdefaults.time_zone);\n\t\t}\n\t\treturn m.format(frappe.boot.sysdefaults.date_format.toUpperCase() + ' HH:mm:ss');\n\t} else {\n\t\treturn \"\";\n\t}\n}\n\n// data\u7C7B\u578B\u90FD\u4F1A\u8C03\u7528\u7FFB\u8BD1\u65B9\u6CD5,\u7FFB\u8BD1\u62A5\u8868\u4E2D\u5355\u636E\u7C7B\u578B\u7B49\u5B57\u6BB5\nfrappe.form.formatters.Data = function(value, df) {\n\tif (df && df.options == \"URL\") {\n\t\tif (!value) return;\n\t\treturn `<a href=\"${value}\" title=\"Open Link\" target=\"_blank\">${value}</a>`;\n\t}\n\tvalue = value == null ? \"\" : __(value);\n\n\treturn frappe.form.formatters._apply_custom_formatter(value, df);\t\n}\n\nfrappe.form.formatters.MultiSelect = function(value) {\n\tif (typeof value == \"string\") {\n\t\treturn __(value);\n\t} else if (Array.isArray(value)) {\n\t\treturn value.map(v => __(v));\n\t}\n}", "import DataTable from \"frappe-datatable\";\n//import Style from \"./style.js\";\n\n// \u91CD\u65B0\u5B9A\u4E49\u9ED8\u8BA4\u503C\uFF0C \u628A\u8FD9\u51E0\u4E2A\u82F1\u6587\u6539\u6210\u4E2D\u6587\nconst DEFAULT_OPTIONS = {\n    headerDropdown: [\n        {\n            label: __('Sort Ascending'),  //'\u5347\u5E8F',\n            action: function (column) {\n                this.sortColumn(column.colIndex, 'asc');\n            }\n        },\n        {\n            label: __('Sort Descending'), //'\u964D\u5E8F',\n            action: function (column) {\n                this.sortColumn(column.colIndex, 'desc');\n            }\n        },\n        {\n            label: __('Reset sorting'),  //'\u91CD\u7F6E',\n            action: function (column) {\n                this.sortColumn(column.colIndex, 'none');\n            }\n        },\n        {\n            label: __('Remove column'), //'\u5220\u9664\u5217',\n            action: function (column) {\n                this.removeColumn(column.colIndex);\n            }\n        }\n    ]\n};\n\nclass MyDataTable extends DataTable {\n\t//constructor(wrapper, options) {\n\t// \tsuper(wrapper, options);\n\t// \t// \u8FD9\u91CC\u662F\u89E3\u51B3\u8868\u683C\u6709\u5782\u76F4\u6EDA\u52A8\u6761\u800C\u8868\u683C\u5BBD\u5EA6\u53C8\u5C0F\u4E8Etable\u7684\u5BBD\u5EA6\u65F6\uFF0C\u5782\u76F4\u6EDA\u52A8\u6761\u906E\u76D6\u6570\u636E\n\t// \t// \u53CA\u9AD8\u5EA6\u5C0F\u4E8Etable\u7684\u9AD8\u5EA6\u65F6\uFF0C\u6700\u540E\u4E00\u6761\u7EBF\u753B\u4E0D\u51FA\u6765\n\t// \tthis.style = new Style(this);\n\t// \tthis.style.setBodyStyle();\n    // }\n\tbuildOptions(options) {\n\t\tsuper.buildOptions(options);\n\t\t// \u89E3\u51B3headerDropdown\u82F1\u6587\n\t\tthis.options.headerDropdown = [\n\t\t\t...DEFAULT_OPTIONS.headerDropdown,\n\t\t\t...options.headerDropdown\n\t\t];\n\t}\n}\n\n// \u91CD\u65B0\u5B9A\u4E49\u7528\u5230DataTable\u7684\u90A3\u4E9Bclass, \u5C31\u662F\u51FA\u73B0 new DataTable\u7684\u5730\u65B9\u90FD\u8981\u91CD\u5199\nlet MyQueryReport = class MyQueryReport extends frappe.views.QueryReport {\n\trender_datatable() {\n\t\tlet data = this.data;\n\t\tlet columns = this.columns.filter((col) => !col.hidden);\n\n\t\tif (this.raw_data.add_total_row) {\n\t\t\tdata = data.slice();\n\t\t\tdata.splice(-1, 1);\n\t\t}\n\n\t\tthis.$report.show();\n\t\tif (this.datatable && this.datatable.options\n\t\t\t&& (this.datatable.options.showTotalRow ===this.raw_data.add_total_row)) {\n\t\t\tthis.datatable.options.treeView = this.tree_report;\n\t\t\tthis.datatable.refresh(data, columns);\n\t\t} else {\n\t\t\tlet datatable_options = {\n\t\t\t\tcolumns: columns,\n\t\t\t\tdata: data,\n\t\t\t\tinlineFilters: true,\n\t\t\t\ttreeView: this.tree_report,\n\t\t\t\tlayout: 'fixed',\n\t\t\t\tcellHeight: 33,\n\t\t\t\tshowTotalRow: this.raw_data.add_total_row,\n\t\t\t\tdirection: frappe.utils.is_rtl() ? 'rtl' : 'ltr',\n\t\t\t\thooks: {\n\t\t\t\t\tcolumnTotal: frappe.utils.report_column_total\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (this.report_settings.get_datatable_options) {\n\t\t\t\tdatatable_options = this.report_settings.get_datatable_options(datatable_options);\n\t\t\t}\n\t\t\tthis.datatable = new MyDataTable(this.$report[0], datatable_options);\n\t\t}\n\n\t\tif (typeof this.report_settings.initial_depth == \"number\") {\n\t\t\tthis.datatable.rowmanager.setTreeDepth(this.report_settings.initial_depth);\n\t\t}\n\t\tif (this.report_settings.after_datatable_render) {\n\t\t\tthis.report_settings.after_datatable_render(this.datatable);\n\t\t}\n\t}\n}\n\nfrappe.views.QueryReport = MyQueryReport\n\nlet MyReportView = class MyReportView extends frappe.views.ReportView {\n    setup_datatable(values) {\n\t\tthis.$datatable_wrapper.empty();\n\t\tthis.datatable = new MyDataTable(this.$datatable_wrapper[0], {\n\t\t\tcolumns: this.columns,\n\t\t\tdata: this.get_data(values),\n\t\t\tgetEditor: this.get_editing_object.bind(this),\n\t\t\tcheckboxColumn: true,\n\t\t\tinlineFilters: true,\n\t\t\tcellHeight: 35,\n\t\t\tdirection: frappe.utils.is_rtl() ? 'rtl' : 'ltr',\n\t\t\tevents: {\n\t\t\t\tonRemoveColumn: (column) => {\n\t\t\t\t\tthis.remove_column_from_datatable(column);\n\t\t\t\t},\n\t\t\t\tonSwitchColumn: (column1, column2) => {\n\t\t\t\t\tthis.switch_column(column1, column2);\n\t\t\t\t},\n\t\t\t\tonCheckRow: () => {\n\t\t\t\t\tconst checked_items = this.get_checked_items();\n\t\t\t\t\tthis.toggle_actions_menu_button(checked_items.length > 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\thooks: {\n\t\t\t\tcolumnTotal: frappe.utils.report_column_total\n\t\t\t},\n\t\t\theaderDropdown: [{\n\t\t\t\tlabel: __('Add Column'),\n\t\t\t\taction: (datatabe_col) => {\n\t\t\t\t\tlet columns_in_picker = [];\n\t\t\t\t\tconst columns = this.get_columns_for_picker();\n\n\t\t\t\t\tcolumns_in_picker = columns[this.doctype]\n\t\t\t\t\t\t.filter(df => !this.is_column_added(df))\n\t\t\t\t\t\t.map(df => ({\n\t\t\t\t\t\t\tlabel: __(df.label),\n\t\t\t\t\t\t\tvalue: df.fieldname\n\t\t\t\t\t\t}));\n\n\t\t\t\t\tdelete columns[this.doctype];\n\n\t\t\t\t\tfor (let cdt in columns) {\n\t\t\t\t\t\tcolumns[cdt]\n\t\t\t\t\t\t\t.filter(df => !this.is_column_added(df))\n\t\t\t\t\t\t\t.map(df => ({\n\t\t\t\t\t\t\t\tlabel: __(df.label) + ` (${cdt})`,\n\t\t\t\t\t\t\t\tvalue: df.fieldname + ',' + cdt\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t.forEach(df => columns_in_picker.push(df));\n\t\t\t\t\t}\n\n\t\t\t\t\tconst d = new frappe.ui.Dialog({\n\t\t\t\t\t\ttitle: __('Add Column'),\n\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __('Select Column'),\n\t\t\t\t\t\t\t\tfieldname: 'column',\n\t\t\t\t\t\t\t\tfieldtype: 'Autocomplete',\n\t\t\t\t\t\t\t\toptions: columns_in_picker\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __('Insert Column Before {0}', [datatabe_col.docfield.label.bold()]),\n\t\t\t\t\t\t\t\tfieldname: 'insert_before',\n\t\t\t\t\t\t\t\tfieldtype: 'Check'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\tprimary_action: ({ column, insert_before }) => {\n\t\t\t\t\t\t\tif (!columns_in_picker.map(col => col.value).includes(column)) {\n\t\t\t\t\t\t\t\tfrappe.show_alert({message: __('Invalid column'), indicator: 'orange'});\n\t\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet doctype = this.doctype;\n\t\t\t\t\t\t\tif (column.includes(',')) {\n\t\t\t\t\t\t\t\t[column, doctype] = column.split(',');\n\t\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t\tlet index = datatabe_col.colIndex;\n\t\t\t\t\t\t\tif (insert_before) {\n\t\t\t\t\t\t\t\tindex = index - 1;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tthis.add_column_to_datatable(column, doctype, index);\n\t\t\t\t\t\t\td.hide();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\td.show();\n\t\t\t\t}\n\t\t\t}]\n\t\t});\n\t}\n}\n\nfrappe.views.ReportView = MyReportView\n\n// \u8FD9\u4E2A\u6570\u636E\u5BFC\u5165\u7684\u662F\u52A8\u6001\u52A0\u8F7D\u7684\uFF0C\u5728\u8FD9\u91CC\u4F1A\u627E\u4E0D\u5230frappe.data_import.ImportPreview\uFF0C\n// \u8FD9\u4E2A\u662F\u653Edoctype: core/doctype/data_import_beta\u91CC\u9762\u7684\uFF0C\u5E94\u8BE5\u4E0D\u4F1A\u7528\u5230\uFF0C\u7528\u5230\u518D\u8BF4\u7684\u8BDD\uFF0C\u7528doctype\u7684hooks\u5E94\u8BE5\u53EF\u4EE5\u89E3\u51B3\n// let MyImportPreview = class MyImportPreview extends frappe.data_import.ImportPreview {\n//     render_datatable() {\n// \t\tif (this.datatable) {\n// \t\t\tthis.datatable.destroy();\n// \t\t}\n\n// \t\tthis.datatable = new DataTable(this.$table_preview.get(0), {\n// \t\t\tdata: this.data,\n// \t\t\tcolumns: this.columns,\n// \t\t\tlayout: this.columns.length < 10 ? 'fluid' : 'fixed',\n// \t\t\tcellHeight: 35,\n// \t\t\tserialNoColumn: false,\n// \t\t\tcheckboxColumn: false,\n// \t\t\tnoDataMessage: __('No Data'),\n// \t\t\tdisableReorderColumn: true\n// \t\t});\n\n// \t\tlet {\n// \t\t\tmax_rows_exceeded,\n// \t\t\tmax_rows_in_preview,\n// \t\t\ttotal_number_of_rows\n// \t\t} = this.preview_data;\n// \t\tif (max_rows_exceeded) {\n// \t\t\tlet parts = [max_rows_in_preview, total_number_of_rows];\n// \t\t\tthis.wrapper.find('.table-message').html(`\n// \t\t\t\t<div class=\"text-muted margin-top text-medium\">\n// \t\t\t\t${__('Showing only first {0} rows out of {1}', parts)}\n// \t\t\t\t</div>\n// \t\t\t`);\n// \t\t}\n\n// \t\tif (this.data.length === 0) {\n// \t\t\tthis.datatable.style.setStyle('.dt-scrollable', {\n// \t\t\t\theight: 'auto'\n// \t\t\t});\n// \t\t}\n\n// \t\tthis.datatable.style.setStyle('.dt-dropdown', {\n// \t\t\tdisplay: 'none'\n// \t\t});\n// \t}\n// }\n\n// frappe.data_import.ImportPreview = MyImportPreview\n\n// \u8FD9\u4E2A\u662F\u5728erpnext/accounts/page/bank_reconciliation/bank_reconciliation.js\u4E2D\u5199\u7684\uFF0C\u5728\u8FD9\u91CC\u4F1A\u627E\u4E0D\u5230\uFF0C\n// \u7B49\u7528\u5230\u518D\u8BF4\u5427\n// let MybankTransactionUpload = class MybankTransactionUpload extends erpnext.accounts.bankTransactionUpload {\n//     create_datatable() {\n// \t\ttry {\n// \t\t\tthis.datatable = new DataTable('.transactions-table', {\n// \t\t\t\tcolumns: this.data.columns,\n// \t\t\t\tdata: this.data.data\n// \t\t\t})\n// \t\t}\n// \t\tcatch(err) {\n// \t\t\tlet msg = __(`Your file could not be processed by ERPNext.\n// \t\t\t\t\t\t<br>It should be a standard CSV or XLSX file.\n// \t\t\t\t\t\t<br>The headers should be in the first row.`)\n// \t\t\tfrappe.throw(msg)\n// \t\t}\n\n// \t}\n// }\n\n// erpnext.accounts.bankTransactionUpload = MybankTransactionUpload", "let MyGanttView = class MyGanttView extends frappe.views.GanttView {\n    get required_libs() {\n\t\treturn [\n\t\t\t\"assets/erpnext_oob/js/lib/gantt/frappe-gantt.css\",\n\t\t\t\"assets/erpnext_oob/js/lib/gantt/frappe-gantt.min.js\"\n\t\t];\n\t}\n}\n\nfrappe.views.GanttView = MyGanttView", "erpnext.stock.StockController.prototype.show_general_ledger = function() {\n    var me = this;\n    if(this.frm.doc.docstatus > 0) {\n        cur_frm.add_custom_button(__('Accounting Ledger'), function() {\n            frappe.route_options = {\n                voucher_no: me.frm.doc.name,\n                from_date: me.frm.doc.posting_date,\n                to_date: moment(me.frm.doc.modified).format('YYYY-MM-DD'),\n                company: me.frm.doc.company,\n                //group_by: \"Group by Voucher (Consolidated)\",    //fisher \u4E0E\u7CFB\u7EDF\u9ED8\u8BA4\u8BE5\u53C2\u6570\u6709\u51B2\u7A81\uFF0C\u5728\u6B64\u4E0D\u8D4B\u503C\n                show_cancelled_entries: me.frm.doc.docstatus === 2\n            };\n            frappe.set_route(\"query-report\", \"General Ledger\");\n        }, __(\"View\"));\n    }\n}"],
  "mappings": "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",
  "names": ["e", "t", "n", "o", "i", "r", "a", "l", "s", "c", "u", "d", "h", "f", "p", "g", "m", "v", "b", "$", "T", "O", "x", "w", "A", "y", "E", "D", "C", "S", "_", "$", "event", "module", "Symbol", "col", "row", "name", "rowIndex", "it", "colIndex", "exports", "o", "e", "n", "isNumber", "HyperList", "config", "render", "selector", "key", "DataTable", "MyListView", "step", "col", "options", "matched", "doctype", "$", "DataTable", "MyQueryReport", "MyReportView", "MyGanttView"]
}
